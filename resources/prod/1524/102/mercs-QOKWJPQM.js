import{a as Y,b as dt}from"./chunk-HFIP6D7E.js";import"./chunk-KJVXDXBJ.js";import{a as Oe}from"./chunk-ZVXMCR44.js";import"./chunk-VJNUTBRD.js";import"./chunk-BDSEVGHU.js";import{a as st}from"./chunk-OLUKMY6G.js";import{a as nt}from"./chunk-4BJNFP73.js";import"./chunk-726BYNVI.js";import"./chunk-SOHEEUVK.js";import"./chunk-RRIVYT3O.js";import{A as Q,D as v,F as w,X as Ie,Y as $e,a as Ke,b as Qe,d as We,e as z,ea as xe,fa as et,ga as tt,ha as it,ia as lt,s as e,t as L,u as P,v as Xe,w as s,x as u,y as g,z as Ze}from"./chunk-HPOEZKZ4.js";import{a as K}from"./chunk-6QEKDVOV.js";import"./chunk-4X57LHCN.js";import"./chunk-6QG6UGYA.js";import{f as ot}from"./chunk-M4CFJGZO.js";import"./chunk-UPYTFADC.js";import"./chunk-C54IMWL7.js";import"./chunk-ULD7YHXO.js";import"./chunk-ZKTRQIGV.js";import"./chunk-NR3OO2TM.js";import"./chunk-CPJOSTWF.js";import"./chunk-G4AQ6G7L.js";import"./chunk-IYSXGPFG.js";import"./chunk-B2AFMQVU.js";import"./chunk-7D7WYX4S.js";function Le(){return Y({subcmd2:"acceptoffer"})}function Pe(){return Y({subcmd2:"declineoffer"})}function Ne(i){return Y({subcmd2:"disband",merc_id:i})}function je(){return Y({subcmd2:"search"})}function rt(i,t,l){let n=i.slice();return n[20]=t[l].attributes,n[21]=t[l].class,n[22]=t[l].id,n[23]=t[l].level,n[24]=t[l].name,n[25]=t[l].type,n[26]=t[l].hours,n[27]=t[l].mins,n}function ct(i){let t,l,n,o,m,a,c;return{c(){t=s("button"),l=u("Accept Offer"),n=u(`
        \xA0
        `),o=s("button"),m=u("Decline Offer"),v(t,"class","custombutton svelte-1yei4bm"),t.disabled=i[1],v(t,"type","button"),v(o,"class","custombutton svelte-1yei4bm"),o.disabled=i[1],v(o,"type","button")},m(r,y){L(r,t,y),e(t,l),L(r,n,y),L(r,o,y),e(o,m),a||(c=[Q(t,"click",i[11]),Q(o,"click",i[10])],a=!0)},p(r,y){y&2&&(t.disabled=r[1]),y&2&&(o.disabled=r[1])},d(r){r&&P(t),r&&P(n),r&&P(o),a=!1,Qe(c)}}}function bt(i){let t,l,n,o,m,a;return{c(){t=s("button"),l=u("Send Expedition ("),n=u(i[5]),o=u("g)"),v(t,"class","custombutton svelte-1yei4bm"),t.disabled=i[1],v(t,"type","button")},m(c,r){L(c,t,r),e(t,l),e(t,n),e(t,o),m||(a=Q(t,"click",i[12]),m=!0)},p(c,r){r&32&&w(n,c[5]),r&2&&(t.disabled=c[1])},d(c){c&&P(t),m=!1,a()}}}function vt(i){let t,l,n,o=i[2].name+"",m,a,c,r,y,E,f,O,F,C,R,D=Oe(i[2].gold)+"",B,N,A,j,q,k,d,b,M=i[2].hire_time/3600+"",J,S,p,T,U,V,G=i[2].hours+"",le,Ge,ne,W=i[2].mins+"",se,Re,oe,_,de,re,X=i[2].level+"",ve,Be,ae,fe,Z=i[8][i[2].class]+"",ue,Fe,me,ce,I=i[7][i[2].type]+"",be,Je,pe,_e,$=i[2].attributes[0].value+"",ge,Ue,he,ye,x=i[2].attributes[1].value+"",ke,Ve,Ce,we,ee=i[2].attributes[2].value+"",De,Ye,Ae,Me,te=i[2].attributes[3].value+"",Te,ze,He,Se,ie=i[2].attributes[4].value+"",Ee;return{c(){t=s("div"),l=s("div"),n=s("b"),m=u(o),a=g(),c=s("div"),r=s("img"),E=g(),f=s("div"),O=s("div"),O.textContent="Hire Price:",F=g(),C=s("div"),R=s("b"),B=u(D),N=g(),A=s("img"),q=g(),k=s("div"),k.textContent="Hire Time:",d=s("div"),b=s("b"),J=u(M),S=u(" hour(s)"),p=g(),T=s("div"),T.textContent="Offer Time Left:",U=s("div"),V=s("b"),le=u(G),Ge=u(" hour(s) "),ne=s("b"),se=u(W),Re=u(" min(s)"),oe=g(),_=s("div"),de=s("div"),de.textContent="Level:",re=s("div"),ve=u(X),Be=g(),ae=s("div"),ae.textContent="Classification:",fe=s("div"),ue=u(Z),Fe=g(),me=s("div"),me.textContent="Type:",ce=s("div"),be=u(I),Je=g(),pe=s("div"),pe.textContent="Attack:",_e=s("div"),ge=u($),Ue=g(),he=s("div"),he.textContent="Defense:",ye=s("div"),ke=u(x),Ve=g(),Ce=s("div"),Ce.textContent="Armor:",we=s("div"),De=u(ee),Ye=g(),Ae=s("div"),Ae.textContent="HP:",Me=s("div"),Te=u(te),ze=g(),He=s("div"),He.textContent="Damage:",Se=s("div"),Ee=u(ie),v(r,"alt","alt"),v(r,"height","125"),z(r.src,y="https://cdn2.fallensword.com/mercs/"+i[2].id+".png")||v(r,"src",y),v(r,"width","125"),v(O,"class","svelte-1yei4bm"),v(A,"alt","Gold"),v(A,"class","gold svelte-1yei4bm"),z(A.src,j="https://cdn2.fallensword.com/currency/0.png")||v(A,"src",j),v(C,"class","svelte-1yei4bm"),v(k,"class","svelte-1yei4bm"),v(d,"class","svelte-1yei4bm"),v(T,"class","svelte-1yei4bm"),v(U,"class","svelte-1yei4bm"),v(f,"class","offer svelte-1yei4bm"),v(t,"class","merc svelte-1yei4bm"),v(_,"class","attribs svelte-1yei4bm")},m(h,H){L(h,t,H),e(t,l),e(l,n),e(n,m),e(t,a),e(t,c),e(c,r),e(t,E),e(t,f),e(f,O),e(f,F),e(f,C),e(C,R),e(R,B),e(C,N),e(C,A),e(f,q),e(f,k),e(f,d),e(d,b),e(b,J),e(d,S),e(f,p),e(f,T),e(f,U),e(U,V),e(V,le),e(U,Ge),e(U,ne),e(ne,se),e(U,Re),L(h,oe,H),L(h,_,H),e(_,de),e(_,re),e(re,ve),e(_,Be),e(_,ae),e(_,fe),e(fe,ue),e(_,Fe),e(_,me),e(_,ce),e(ce,be),e(_,Je),e(_,pe),e(_,_e),e(_e,ge),e(_,Ue),e(_,he),e(_,ye),e(ye,ke),e(_,Ve),e(_,Ce),e(_,we),e(we,De),e(_,Ye),e(_,Ae),e(_,Me),e(Me,Te),e(_,ze),e(_,He),e(_,Se),e(Se,Ee)},p(h,H){H&4&&o!==(o=h[2].name+"")&&w(m,o),H&4&&!z(r.src,y="https://cdn2.fallensword.com/mercs/"+h[2].id+".png")&&v(r,"src",y),H&4&&D!==(D=Oe(h[2].gold)+"")&&w(B,D),H&4&&M!==(M=h[2].hire_time/3600+"")&&w(J,M),H&4&&G!==(G=h[2].hours+"")&&w(le,G),H&4&&W!==(W=h[2].mins+"")&&w(se,W),H&4&&X!==(X=h[2].level+"")&&w(ve,X),H&4&&Z!==(Z=h[8][h[2].class]+"")&&w(ue,Z),H&4&&I!==(I=h[7][h[2].type]+"")&&w(be,I),H&4&&$!==($=h[2].attributes[0].value+"")&&w(ge,$),H&4&&x!==(x=h[2].attributes[1].value+"")&&w(ke,x),H&4&&ee!==(ee=h[2].attributes[2].value+"")&&w(De,ee),H&4&&te!==(te=h[2].attributes[3].value+"")&&w(Te,te),H&4&&ie!==(ie=h[2].attributes[4].value+"")&&w(Ee,ie)},d(h){h&&P(t),h&&P(oe),h&&P(_)}}}function at(i){let t;return{c(){t=s("div"),t.textContent="Your expedition returned without finding any mercenaries.",v(t,"class","no-offer svelte-1yei4bm")},m(l,n){L(l,t,n)},d(l){l&&P(t)}}}function pt(i){let t;return{c(){t=s("div"),t.textContent="[ no active mercenaries ]",v(t,"class","no-active svelte-1yei4bm")},m(l,n){L(l,t,n)},p:Ke,d(l){l&&P(t)}}}function _t(i){let t,l=i[6],n=[];for(let o=0;o<l.length;o+=1)n[o]=ft(rt(i,l,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=Ze()},m(o,m){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(o,m);L(o,t,m)},p(o,m){if(m&8642){l=o[6];let a;for(a=0;a<l.length;a+=1){let c=rt(o,l,a);n[a]?n[a].p(c,m):(n[a]=ft(c),n[a].c(),n[a].m(t.parentNode,t))}for(;a<n.length;a+=1)n[a].d(1);n.length=l.length}},d(o){Xe(n,o),o&&P(t)}}}function ft(i){let t,l,n,o=i[24]+"",m,a,c,r,y,E,f,O,F,C,R,D=i[26]+"",B,N,A,j=i[27]+"",q,k,d,b,M,J,S,p,T;function U(){return i[14](i[22])}return{c(){t=s("div"),l=s("div"),n=s("b"),m=u(o),a=g(),c=s("div"),r=s("img"),f=g(),O=s("div"),O.textContent="Time Remaining",F=g(),C=s("div"),R=s("b"),B=u(D),N=u(" hour(s) "),A=s("b"),q=u(j),k=u(" min(s)"),d=g(),b=s("div"),M=s("button"),J=u("Disband"),S=g(),v(r,"alt","alt"),v(r,"class","tip-static"),v(r,"data-tipped",y=`<div style="column-gap: 2px; display: grid; grid-template-columns: repeat(2, 1fr);">
                      <div>Name:</div><div>`+i[24]+`</div>
                      <div>Level:</div><div>`+i[23]+`</div>
                      <div>Classification:</div><div>`+i[8][i[21]]+`</div>
                      <div>Type:</div><div>`+i[7][i[25]]+`</div>
                      <div>Attack:</div><div>`+i[20][0].value+`</div>
                      <div>Defense:</div><div>`+i[20][1].value+`</div>
                      <div>Armor:</div><div>`+i[20][2].value+`</div>
                      <div>HP:</div><div>`+i[20][3].value+`</div>
                      <div>Damage:</div><div>`+i[20][4].value+`</div>
                    </div>`),v(r,"height","125"),z(r.src,E="https://cdn2.fallensword.com/mercs/"+i[22]+".png")||v(r,"src",E),v(r,"width","125"),v(M,"class","custombutton svelte-1yei4bm"),M.disabled=i[1],v(M,"type","button"),v(b,"class","disband svelte-1yei4bm"),v(t,"class","active-merc svelte-1yei4bm")},m(V,G){L(V,t,G),e(t,l),e(l,n),e(n,m),e(t,a),e(t,c),e(c,r),e(t,f),e(t,O),e(t,F),e(t,C),e(C,R),e(R,B),e(C,N),e(C,A),e(A,q),e(C,k),e(t,d),e(t,b),e(b,M),e(M,J),e(t,S),p||(T=Q(M,"click",U),p=!0)},p(V,G){i=V,G&64&&o!==(o=i[24]+"")&&w(m,o),G&64&&y!==(y=`<div style="column-gap: 2px; display: grid; grid-template-columns: repeat(2, 1fr);">
                      <div>Name:</div><div>`+i[24]+`</div>
                      <div>Level:</div><div>`+i[23]+`</div>
                      <div>Classification:</div><div>`+i[8][i[21]]+`</div>
                      <div>Type:</div><div>`+i[7][i[25]]+`</div>
                      <div>Attack:</div><div>`+i[20][0].value+`</div>
                      <div>Defense:</div><div>`+i[20][1].value+`</div>
                      <div>Armor:</div><div>`+i[20][2].value+`</div>
                      <div>HP:</div><div>`+i[20][3].value+`</div>
                      <div>Damage:</div><div>`+i[20][4].value+`</div>
                    </div>`)&&v(r,"data-tipped",y),G&64&&!z(r.src,E="https://cdn2.fallensword.com/mercs/"+i[22]+".png")&&v(r,"src",E),G&64&&D!==(D=i[26]+"")&&w(B,D),G&64&&j!==(j=i[27]+"")&&w(q,j),G&2&&(M.disabled=i[1])},d(V){V&&P(t),p=!1,T()}}}function gt(i){let t,l,n,o,m,a,c,r,y,E,f,O,F,C,R,D,B,N,A;function j(p,T){return p[2]?ct:bt}let q=j(i,-1),k=q(i),d=i[2]&&vt(i),b=i[3]&&at(i);function M(p,T){return p[6].length?_t:pt}let J=M(i,-1),S=J(i);return{c(){t=s("div"),l=s("div"),n=u("("),o=s("b"),m=u(i[4]),a=u(" available for hire)"),c=g(),r=s("div"),k.c(),y=g(),E=s("div"),f=s("div"),d&&d.c(),O=g(),b&&b.c(),F=g(),C=s("div"),R=g(),D=s("div"),D.innerHTML="<b>Active Mercenaries</b>",B=g(),N=s("div"),A=s("div"),S.c(),v(l,"class","top-div svelte-1yei4bm"),v(r,"class","button-div svelte-1yei4bm"),v(C,"class","auto-decline svelte-1yei4bm"),v(f,"class","cols svelte-1yei4bm"),v(E,"class","result-div svelte-1yei4bm"),v(D,"class","active-title svelte-1yei4bm"),v(A,"class","active svelte-1yei4bm"),v(N,"class","lower-div svelte-1yei4bm"),v(t,"class","merc-hunter svelte-1yei4bm")},m(p,T){L(p,t,T),e(t,l),e(l,n),e(l,o),e(o,m),e(l,a),e(t,c),e(t,r),k.m(r,null),e(t,y),e(t,E),e(E,f),d&&d.m(f,null),e(f,O),b&&b.m(f,null),e(f,F),e(f,C),e(t,R),e(t,D),e(t,B),e(t,N),e(N,A),S.m(A,null)},p(p,T){T&16&&w(m,p[4]),q===(q=j(p,T))&&k?k.p(p,T):(k.d(1),k=q(p),k&&(k.c(),k.m(r,null))),p[2]?d?d.p(p,T):(d=vt(p),d.c(),d.m(f,O)):d&&(d.d(1),d=null),p[3]?b||(b=at(p),b.c(),b.m(f,F)):b&&(b.d(1),b=null),J===(J=M(p,T))&&S?S.p(p,T):(S.d(1),S=J(p),S&&(S.c(),S.m(A,null)))},d(p){p&&P(t),k.d(),d&&d.d(),b&&b.d(),S.d()}}}function ht(i){let t;return{c(){t=u("Merc Hunter")},m(l,n){L(l,t,n)},d(l){l&&P(t)}}}function yt(i){let t,l;return t=new st({props:{visible:i[0],$$slots:{title:[ht],default:[gt]},$$scope:{ctx:i}}}),t.$on("close",i[9]),{c(){xe(t.$$.fragment)},m(n,o){et(t,n,o),l=!0},p(n,[o]){let m={};o&1&&(m.visible=n[0]),o&1073741950&&(m.$$scope={dirty:o,ctx:n}),t.$set(m)},i(n){l||(Ie(t.$$.fragment,n),l=!0)},o(n){$e(t.$$.fragment,n),l=!1},d(n){tt(t,n)}}}function kt(i,t,l){let n=["Normal","Champion","Elite","Super Elite","Titan","Legendary"],o=["Human","Vermin","Undead","Dragon","Greenskin","Demon","Golem","Dwarf","Feline","Elf","Avian","Aquatic","Plant","Canine","Reptile","Beast","Mechanical","Mounted","Magical"],{visible:m=!0}=t,a=1,c=0,r=0,y="?",E="?",f=[];function O(){K("mercs","close"),l(0,m=!1)}function F(){l(2,c=0),l(3,r=1),l(1,a=0)}async function C(){K("mercs","doDecline"),l(1,a=1),await Pe(),l(2,c=0),l(1,a=0)}function R(d){let b=Math.floor((d-ot())/60),M=Math.floor(b/60);return b%=60,{hours:M,mins:b}}let D=d=>({...d,...R(d.expires)});async function B(){K("mercs","doAccept"),l(1,a=1);let d=await Le();l(6,f=[...f,D({...c,expires:d.r.expires})]),l(4,y=d.r.mercs_available.toString()),l(2,c=0),l(1,a=0)}function N(d){l(2,c=D(d.r)),l(1,a=0)}async function A(){K("mercs","getOffer"),l(1,a=1),l(3,r=0);let d=await je();d.r?N(d):F()}async function j(d){K("mercs","doDisband"),l(1,a=1),await Ne(d),l(6,f=f.filter(({id:b})=>b!==d)),l(1,a=0)}async function q(){let d=await dt();l(6,f=d.r.mercs?.map(D)||[]),l(4,y=d.r.mercs_available.toString()),l(5,E=d.r.gold.toString()),d.r.offer?N({r:d.r.offer}):l(1,a=0)}q();let k=d=>j(d);return i.$$set=d=>{"visible"in d&&l(0,m=d.visible)},[m,a,c,r,y,E,f,n,o,O,C,B,A,j,k]}var qe=class extends lt{constructor(t){super(),it(this,t,kt,yt,We,{visible:0})}},ut=qe;var Ct={visible:!0},mt=0;function wt(){mt=nt(Ct,mt,ut)}export{wt as default};
//# sourceMappingURL=mercs-QOKWJPQM.js.map
