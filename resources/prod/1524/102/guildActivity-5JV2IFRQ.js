import{a as y}from"./chunk-ECRBMJU2.js";import{a as h}from"./chunk-SC4V65IV.js";import"./chunk-SFOQF4NE.js";import"./chunk-R4CGZJCB.js";import{a as e}from"./chunk-S3N5L232.js";import"./chunk-LFI4OITJ.js";import{a}from"./chunk-ROTCIKTR.js";import"./chunk-PKJ2ARXN.js";import"./chunk-CKRNG6MA.js";import"./chunk-6MJKEXGN.js";import"./chunk-YQXIMIAT.js";import"./chunk-4X57LHCN.js";import"./chunk-6QG6UGYA.js";import{a as g}from"./chunk-SXPYV4X4.js";import{a as d}from"./chunk-AGN2GYZS.js";import"./chunk-7TJHGKXN.js";import"./chunk-OJG7MNTB.js";import{f as i}from"./chunk-M4CFJGZO.js";import{a as p}from"./chunk-FC2T2RFK.js";import"./chunk-ZRLD7TYA.js";import"./chunk-WJQ3A2NI.js";import"./chunk-EAEJ7O2I.js";import"./chunk-UPYTFADC.js";import"./chunk-UERPKMG4.js";import"./chunk-FUB7QZZI.js";import"./chunk-F6AV4QWO.js";import"./chunk-C54IMWL7.js";import"./chunk-7XNCVM7C.js";import"./chunk-S5YTVKJ4.js";import{a as c}from"./chunk-7PPLM4HV.js";import"./chunk-QLD5CDI7.js";import"./chunk-ZKTRQIGV.js";import{a as u,b as m}from"./chunk-F53JTC3Q.js";import"./chunk-I2K74DRD.js";import"./chunk-YI3QHXMF.js";import"./chunk-NR3OO2TM.js";import"./chunk-RGYUH6OH.js";import"./chunk-CPJOSTWF.js";import{a as f}from"./chunk-O3NTOCCL.js";import"./chunk-RBVLOJQS.js";import"./chunk-G4AQ6G7L.js";import"./chunk-IYSXGPFG.js";import"./chunk-B2AFMQVU.js";import"./chunk-7D7WYX4S.js";var _=t=>[t.name,[y(t.last_activity),t.current_stamina,t.level,t.max_stamina,i(),t.vl,t.guild_xp]],k=t=>t.members.map(_),M=t=>t.r.flatMap(k),w=[t=>!t,(t,o)=>t[1]!==o[1],(t,o)=>t[2]!==o[2],(t,o)=>t[3]>o[3],(t,o)=>t[5]!==o[5],(t,o)=>t[6]!==o[6]],C=t=>!t.some(f),D=t=>!t.some(d),E=([,t])=>t.length,F=([t,o])=>[t,o.filter(C).filter(D)],G=t=>c(t.members||{}).map(F).filter(E),I=(t,o)=>t[4]>o[4]?t:o,L=([t,o])=>[t,o.reduce(I)],S=t=>([o,n])=>w.some(s=>s(t[o]?.[0],n)),R=([t,o])=>[t,[o]],T=t=>([o,n])=>[o,n.filter(s=>s[4]!==t[o][4])],V=t=>([o])=>!t[o]||i()-t[o][4]>=86100,W=(t,o,n)=>({lastUpdate:i(),members:a(g({...t,...o,...n}).map(s=>[s,[...t[s]??[],...o[s]??[],...n[s]??[]]]))}),q=(t,o,n)=>W(a(t.map(T(o))),a(c(o).filter(S(n)).map(R)),n);function z(t,o,n){!t||!o||!n||m(e,q(o,n,a(t.map(R))))}function B(t){t&&m(e,{lastUpdate:i(),members:a(t)})}function H(t,o){let n=G(t),s=a(n.map(L)),l=M(o).filter(V(s));l.length?z(l,n,s):B(n)}async function J(t){let o=await h();o.s&&H(t,o)}var K=t=>i()>p(t.lastUpdate,0)+300;function P(t){K(t)&&J(t)}async function Q(){let t=await u(e);P(t??{lastUpdate:0,members:{}})}export{Q as default};
//# sourceMappingURL=guildActivity-5JV2IFRQ.js.map
