import{a as M}from"./chunk-HZVV5AUP.js";import"./chunk-F5ZXWTEO.js";import"./chunk-N7EOJUUU.js";import{a as y}from"./chunk-KRLBN6UN.js";import{a as h}from"./chunk-4P26A7FY.js";import{a as p}from"./chunk-ZDVW6BRT.js";import"./chunk-LUFMHZS7.js";import"./chunk-K6EFG3N7.js";import{a as A}from"./chunk-ZOR4KTU4.js";import"./chunk-LFXNJIWK.js";import"./chunk-O5EDBO4Q.js";import{a as x}from"./chunk-K7XSORZB.js";import"./chunk-QEARPC7F.js";import{a as u}from"./chunk-GFXI54IF.js";import"./chunk-X6LLQZN7.js";import{a as P}from"./chunk-WIQ6XRGI.js";import{a as v}from"./chunk-XFPCR5GW.js";import"./chunk-XVEYCRE7.js";import"./chunk-4LUQSMNM.js";import{a as L}from"./chunk-6QEKDVOV.js";import{a as O}from"./chunk-B2YROL26.js";import"./chunk-UHGSE7LB.js";import"./chunk-K25CWRN6.js";import"./chunk-6BZX7ZN7.js";import{a as C}from"./chunk-JMO45TBP.js";import{a as w}from"./chunk-DYLMNQVQ.js";import{a as c}from"./chunk-JEN6RTKA.js";import"./chunk-3LGJ7KIX.js";import"./chunk-RI33BKA7.js";import{f as d}from"./chunk-M4CFJGZO.js";import{a as m}from"./chunk-FC2T2RFK.js";import"./chunk-EAEJ7O2I.js";import"./chunk-UPYTFADC.js";import{a as k}from"./chunk-F6AV4QWO.js";import"./chunk-C54IMWL7.js";import"./chunk-7XNCVM7C.js";import"./chunk-S5YTVKJ4.js";import"./chunk-7PPLM4HV.js";import{a as o}from"./chunk-ZKTRQIGV.js";import"./chunk-F53JTC3Q.js";import"./chunk-I2K74DRD.js";import"./chunk-YI3QHXMF.js";import"./chunk-NR3OO2TM.js";import"./chunk-RGYUH6OH.js";import{a as Q}from"./chunk-DPMNQ3O4.js";import"./chunk-J6FMYNIK.js";import"./chunk-YCWZIL7K.js";import"./chunk-CPJOSTWF.js";import{a as I}from"./chunk-A3WPUSVT.js";import"./chunk-O3NTOCCL.js";import{A as S,B as $,y as E}from"./chunk-RBVLOJQS.js";import"./chunk-G4AQ6G7L.js";import"./chunk-IYSXGPFG.js";import{a as i}from"./chunk-B2AFMQVU.js";import"./chunk-7D7WYX4S.js";var r="enemy-buff-check-on",g="enemy-buff-check-off",s="enemy-send-message",l="enemy-quickbuff",b="enemy-quick-buff";var _=[[e=>e<120,"fshDodgerBlue","fshRed"],[e=>e<300,"fshDodgerBlue","fshRed"],[()=>!0,"fshPowderBlue","fshPink"]];function D(e,t){return e?t[1]:t[2]}function G(e,t){return t[0](d()-e)}function R(e,t){let n=_.find(o(G,e));return n?D(t,n):"fshWhite"}function j(e,t){return`<a class="player-name tip-static ${R(e.last_login,t)}" data-tipped="<b>${e.username}</b><br><table><tbody><tr><td>Level:</td><td>${e.level}</td></tr><tr><td>Last Activity:</td><td>${M(e.last_login)}</td></tr></tbody></table>" href="${E}${e.id}">${e.username}</a>`}function H(){return i.hideBuffSelected?"":`<span class="${r}"></span>`}function U(){return i.hideGuildInfoMessage?"":`<span class="${s} enemy-icon guild-minibox-action tip-static" data-tipped="Send Message"></span>`}function q(){return i.hideGuildInfoBuff?"":`<span class="${l} enemy-icon guild-minibox-action tip-static" data-tipped="Quick Buff"></span>`}function z(e){return i.hideGuildInfoSecureTrade?"":`<a class="enemy-secure-trade enemy-icon guild-minibox-action tip-static" href="${$}${e.username}" data-tipped="Secure Trade"></a>`}function F(e){return i.hideGuildInfoTrade?"":`<a class="enemy-trade enemy-icon guild-minibox-action tip-static" href="${S}${e.username}" data-tipped="Send Gold/Items/FSP"></a>`}function W(e){return d()-e.last_login<1800}function J(e,t){return`<li class="player"><div class="player-row">${H()}${j(t,e)}</div><div class="guild-minibox-actions">${U()}${q()}${z(t)}${F(t)}</div></li>`}function a(e,t){return e.filter(W).map(o(J,t)).join("")}var K=[(e,t)=>e.length+t.length,(e,t)=>{if(!i.enableAllyOnlineList)return t.length},e=>{if(!i.enableEnemyOnlineList)return e.length}];function f(e){L("allyEnemy",e)}function V(e,t,n){return n(e,t)===0}function X(e,t){return K.every(o(V,e,t))}function Y(e,t){let n="";i.enableAllyOnlineList&&(n+=a(e,!0)),i.enableEnemyOnlineList&&(n+=a(t,!1));let B=c("fshContactList");w("",B),u(B,n)}function N(e){let t=m(e._allies,[]),n=m(e._enemies,[]);X(t,n)||Y(t,n)}async function Z(){f("resetList");let e=await p(!0);N(e)}function T(e){f("toggleBuffSelected"),e.classList.toggle(r),e.classList.toggle(g)}function ee(e){f("msgPlayer"),window.openQuickMsgDialog(k(e.parentNode.previousElementSibling.lastElementChild))}function te(e){f("buffPlayer"),h(y(e.parentNode.previousElementSibling.lastElementChild.href))}function ne(){f("selectedBuff");let t=P(r,c("fshContactList")).map(n=>y(n.nextElementSibling.href)).join(",");h(t)}var ie=[[r,T],[g,T],[s,ee],[l,te],[b,ne]];function re(e){let{target:t}=e;if(t.id==="fshResetEnemy"){Z();return}A(ie)(e)}function oe(e){let t=v({id:"fshAllyEnemy",className:"minibox"}),n='<h3>Allies/Enemies</h3><div class="minibox-content"><h4>Online Contacts <span id="fshResetEnemy">Reset</span></h4><div class="minibox-enemy"><ul id="fshContactList"></ul>';i.hideBuffSelected||(n+=`<ul class="${b}">Quick Buff Selected</ul>`),n+="</div></div>",u(t,n),O(C(),t),I(t,re),N(e)}function fe(e){e&&x(3,oe,[e])}async function se(){if(Q())return;let e=await p(!1);fe(e)}export{se as default};
//# sourceMappingURL=allyEnemy-TCLUQ63P.js.map
