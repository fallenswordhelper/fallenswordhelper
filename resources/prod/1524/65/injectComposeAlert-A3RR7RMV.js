import{a as b}from"./chunk-FFQF3ZWU.js";import{a as w}from"./chunk-67W32VKU.js";import{a as N}from"./chunk-NABSSTR4.js";import"./chunk-DLQ3WG6P.js";import{a as C}from"./chunk-SGEJ7TQZ.js";import"./chunk-FPDB6HHT.js";import{a as A}from"./chunk-VOYQUMQS.js";import{a as y}from"./chunk-X4OUUFVF.js";import{a as p}from"./chunk-XJYFC7TB.js";import"./chunk-55L4ZDU3.js";import"./chunk-QWDVXKTR.js";import"./chunk-ABZ54ON2.js";import"./chunk-KR2SDNOK.js";import{a as e}from"./chunk-3FGVAWVX.js";import"./chunk-KGOSFF6R.js";import"./chunk-KM3BDUKX.js";import{a as T}from"./chunk-LHBSBOBO.js";import{a as d}from"./chunk-2COHD5H3.js";import"./chunk-2AO2GDV5.js";import"./chunk-UZF2DPM4.js";import"./chunk-PFETQSML.js";import"./chunk-E2LRFPD6.js";import{a as x}from"./chunk-OJ42IKEN.js";import"./chunk-YMWUQMPF.js";import"./chunk-RRWRGO3F.js";import"./chunk-3E35A5QB.js";import{a as s}from"./chunk-RPB63ICG.js";import{b as r}from"./chunk-MIAGY67V.js";import"./chunk-2OH7AKYH.js";import"./chunk-LP5DJPCW.js";import"./chunk-AMNKKFPI.js";import"./chunk-R5WQFHT3.js";import{S as h,pa as i,qa as m}from"./chunk-3IHZF2GE.js";import{a as g}from"./chunk-WZXZ6YXZ.js";function v(o){let t=o.match(/ETA: (\d+)h (\d+)m (\d+)s/);return{time_remaining:Number(t[1])*60*60+Number(t[2])*60+Number(t[3])}}function j(o){let t=A(o),l=s("composing-potion",t);if(l.length===0)return{s:!1};let B=l.length,M=s("composing-potion-time",t).map(C).filter(_=>_.endsWith("s")).map(v);return{r:{max_potions:B,potions:M},s:!0}}function c(){return y({cmd:"composing"}).then(j)}function f(o){return N(T({cmd:"composing"},o))}function a(){return f({subcmd:"view"})}function u(){return w(a,c)}var D=`<li class="notification"><a href="${h}"><span class="notification-icon"></span><p class="notification-content">Composing to do</p></a></li>`;function n(){b(d("notifications"),D)}function E(o){return o.time_remaining}function k(){n(),e(i,!0)}function I(o){let t=Math.min.apply(null,o.map(E));t>0?(e(i,!1),e(m,p+t*1e3)):k()}function L(o){o.potions.length!==o.max_potions?k():I(o.potions)}function P(o){o.s&&L(o.r)}function R(){let o=r(m);o&&p<o||u().then(P)}function V(){r(i)?n():R()}function $(){g.cmd!=="composing"&&x()&&V()}export{$ as default};
//# sourceMappingURL=injectComposeAlert-A3RR7RMV.js.map
