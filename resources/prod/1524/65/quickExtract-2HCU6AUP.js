import{a as w,b as F}from"./chunk-XZ5FGHOD.js";import{a as S}from"./chunk-72OSEI3B.js";import{a as $}from"./chunk-VCL72JAH.js";import"./chunk-CCQL6GVV.js";import"./chunk-JKF5PGCM.js";import{a as k}from"./chunk-4A6N43KQ.js";import"./chunk-4LNJRZ6C.js";import"./chunk-MLQXEM4Y.js";import"./chunk-NKPYHMS2.js";import"./chunk-LQQTECLM.js";import"./chunk-TGZKSQRP.js";import"./chunk-EF2M573K.js";import"./chunk-6F7QE44M.js";import"./chunk-67W32VKU.js";import"./chunk-NABSSTR4.js";import"./chunk-DLQ3WG6P.js";import{a as g}from"./chunk-BJBVZYR4.js";import"./chunk-B7V3OAWS.js";import"./chunk-7XGA3GAK.js";import{a as y}from"./chunk-U2VGMJIO.js";import"./chunk-7YFKPLW2.js";import{a as l}from"./chunk-L7WRUNH4.js";import{a as I}from"./chunk-NMCQLEMY.js";import"./chunk-UWJMWH2T.js";import"./chunk-VOYQUMQS.js";import"./chunk-X4OUUFVF.js";import"./chunk-55L4ZDU3.js";import"./chunk-QWDVXKTR.js";import"./chunk-KR2SDNOK.js";import{a as v}from"./chunk-OUF5VK2B.js";import"./chunk-LHBSBOBO.js";import{b as x}from"./chunk-ALGYGCJU.js";import{a as o}from"./chunk-SCKSNXVX.js";import{a as p}from"./chunk-2COHD5H3.js";import{a as E}from"./chunk-2AO2GDV5.js";import"./chunk-UZF2DPM4.js";import"./chunk-PFETQSML.js";import{a as i}from"./chunk-E2LRFPD6.js";import"./chunk-OJ42IKEN.js";import"./chunk-YMWUQMPF.js";import"./chunk-RRWRGO3F.js";import"./chunk-3E35A5QB.js";import{a as b}from"./chunk-RPB63ICG.js";import{a as _}from"./chunk-3ODBLJBA.js";import"./chunk-MIAGY67V.js";import"./chunk-2OH7AKYH.js";import"./chunk-LP5DJPCW.js";import"./chunk-AMNKKFPI.js";import"./chunk-R5WQFHT3.js";import{Ha as h,b as d}from"./chunk-3IHZF2GE.js";import"./chunk-WZXZ6YXZ.js";var u,R,r,s,c,a,f;function C(t,e){return e.inv_id===t}function D(t){let e=r.findIndex(i(C,t));e>=0&&r.splice(e,1)}function M(t){return`${t.amount} x ${h[t.type]}`}function T(t){return t.components?.length?`You successfully extracted 1 '${t.components?.[0].n}' component(s) from 1 resource(s).`:t.frags?`You gained ${t.frags.map(M).join(", ")} Fragments by opening the Fragment Stash.`:t.mailbox_items?.length?`You opened the container and received 1 x ${t.mailbox_items?.[0].n}`:'<span class="fshRed">You failed to extract any components from resource(s).</span>'}function q(t,e){F(e,f)||(D(t),w(T(e.r),f))}function j(t){k(t).then(i(q,t))}function A(t){let e=a[t.id.replace("fshExtr","")].invIDs;o(`extracting all ${e.length} resources`,t.parentNode),e.forEach(j)}function Y(t){g("Extract Resources","Are you sure you want to extract all similar items?",i(A,t))}function H(t){return c&&t.folder_id!==-1}function N(t){return!s&&t.is_in_st}function Q(t){return H(t)||N(t)}function B(t,e){return Q(e)||(t[e.item_id]?t[e.item_id].invIDs.push(e.inv_id):t[e.item_id]={invIDs:[e.inv_id],inv_id:e.inv_id,item_name:e.item_name}),t}function L(t,e){let n=a[e];return`${t}<tr><td class="fshCenter"><span class="smallLink" id="fshExtr${e}">Extract all ${n.invIDs.length}</span></td><td><img src="${d}items/${e}.gif" class="tip-dynamic" data-tipped="fetchitem.php?item_id=${e}&inv_id=${n.inv_id}&t=1&p=${R}" border=0></td><td>${n.item_name}</td></tr>`}function m(){if(!r)return;a=r.reduce(B,{});let t='<tr><th width="20%">Actions</th><th colspan="2">Items</th></tr><tr><td colspan="3"><ol id="qeresult"></ol></td></tr>';t+=E(a).reduce(L,""),o(t,u),f=p("qeresult")}function O(t){return t.item_name==="Zombie Coffin"||t.type===12||t.type===16}function P(t){R=t.player_id,r=t.items.filter(O),m()}function U(){s=!s,m()}function W(){c=!c,m()}function Z(t){return t.id.startsWith("fshExtr")}function z(){return[[l("fshInSt"),U],[l("fshInMain"),W],[Z,Y]]}function G(t){o('<div class="qeHead"><b>Quick Extract</b></div>Select which type of plants you wish to extract all of. Only select extractable resources.<br><label><input type="checkbox" id="fshInSt" checked> Select items in ST</label>&nbsp;&nbsp;<label><input type="checkbox" id="fshInMain" checked> Only extract items in Main Folder</label>',t),u=$({width:"100%"}),y(t,u)}function J(t){if(v())return;let e=t||x;G(e),s=!0,c=!0,_(e,I(z())),S().then(P),b("ui-dialog-titlebar-close").forEach(n=>n.blur())}export{J as default};
//# sourceMappingURL=quickExtract-2HCU6AUP.js.map
