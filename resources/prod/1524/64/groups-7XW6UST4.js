import{a as J,b as N}from"./chunk-WDW7XJSE.js";import"./chunk-7OUV3IMZ.js";import"./chunk-ZKH2SOY7.js";import{a as k}from"./chunk-OE3ANKI7.js";import"./chunk-7QUHZWKH.js";import{a as w}from"./chunk-O6F5EM4Y.js";import"./chunk-VFSEFN4G.js";import"./chunk-5E6JQNWL.js";import{a as T}from"./chunk-HGNKQF5Q.js";import"./chunk-PFYN7D6D.js";import"./chunk-QSO6T6S5.js";import{a as D}from"./chunk-RMS5LI4S.js";import"./chunk-AU7HMMK6.js";import{b as E,c as U}from"./chunk-BVJ4AQTS.js";import"./chunk-C7T6VCNC.js";import"./chunk-JXL4HPF6.js";import{a as $}from"./chunk-JEZXSBDP.js";import{a as o}from"./chunk-6HFP56UB.js";import"./chunk-JMJ2BOMP.js";import{a as x}from"./chunk-NFDSTU22.js";import{a as m}from"./chunk-3DWHDW4D.js";import"./chunk-RVEJ4C26.js";import{b as B}from"./chunk-JR7C2FJO.js";import{a as h}from"./chunk-YWJ4UNHS.js";import{a as A}from"./chunk-7Q3UNQAY.js";import{a as s}from"./chunk-S367ATRC.js";import"./chunk-CL6MB4ZE.js";import"./chunk-XPYPU624.js";import"./chunk-V4O7SGPV.js";import"./chunk-SOIZ76GQ.js";import"./chunk-QDYZC5DW.js";import"./chunk-6F7KGMTR.js";import"./chunk-CSKN77A5.js";import{a as v}from"./chunk-3EONQEO2.js";import"./chunk-FA37UARH.js";import"./chunk-JDBXWYYY.js";import"./chunk-5GNYWTGT.js";import{a as p}from"./chunk-E5PHBQC4.js";import"./chunk-XG256B2T.js";import{a as M}from"./chunk-EUEELQXP.js";import"./chunk-QS7J5TMD.js";import{a as u}from"./chunk-XJ5473QP.js";import"./chunk-WM64FGHN.js";import"./chunk-GQGCY7E7.js";import"./chunk-LXVMDOGR.js";import"./chunk-GX4J242O.js";import{a as n}from"./chunk-X5N7OOVX.js";import"./chunk-PUT3KB2D.js";import"./chunk-ZZU2SK7K.js";import"./chunk-MKQZLDMS.js";import"./chunk-55RTNKIA.js";import"./chunk-X73J5C7S.js";import"./chunk-5TFX5HF5.js";import{a as y}from"./chunk-SXGAQBQ6.js";import{a as d}from"./chunk-KM25KKJO.js";import{b as c}from"./chunk-NG7LLWFJ.js";import"./chunk-45P77O4Z.js";import"./chunk-6FX7G55Z.js";import"./chunk-O24SBNSZ.js";import"./chunk-DW345X2O.js";import{e as g,l as G,x as b}from"./chunk-AWEYVB2J.js";import{a as f}from"./chunk-UUU5NSJN.js";var I=/([a-zA-Z]{3}), (\d{1,2}) ([a-zA-Z]{3}) (\d{1,2}):(\d{2}):(\d{2}) UTC/;function P(t){let r=new Date().getFullYear();return g[new Date().getMonth()]==="Dec"&&t==="Jan"&&(r+=1),r}function q(t){let r=new Date;return r.setUTCDate(t[2]),r.setUTCMonth(g.indexOf(t[3])),r.setUTCFullYear(P(t[3])),r.setUTCHours(t[4]),r.setUTCMinutes(t[5]),r}function F(t){let r=t.cells[3],e=I.exec(p(r));o(r,`<br><span class="fshBlue fshXSmall">Local: ${q(e).toString().substr(0,21)}</span>`)}function O(t,r){let e=p(r.children[0]);return t[e]?`${B({last_login:t[e].last_login})}&nbsp;<a href="${b}${t[e].id}"><b>${e}</b></a> [${t[e].level}]`:`<b>${e}</b>`}function H(t,r){return t[r]?t[r].level:0}function W(t,r,e){return H(t,e)-H(t,r)}function Y(t,r){return t[r]?`<a href="${b}${t[r].id}">${r}</a>`:r}function j(t,r){let e=h(r.innerHTML);return e.length>1&&e.sort(n(W,t)),e}function X(t){return t!=="[none]"&&t.indexOf("<font")===-1}function _(t,r){let e=r.filter(X);e.length>0&&m(t,J(e)),o(t,`<span class="fshXSmall">Members: ${e.length}</span>`)}function V(t,r,e){let i=e.map(n(Y,t));u(`<span>${i.join(", ")}</span>`,r)}function Z(t,r){let e=r.cells[0];u(O(t,e),e);let i=r.cells[1],a=j(t,i);_(e,a),V(t,i,a),F(r)}function S(t){let r=c("betaOptIn");r&&E("groups.doGroupPaint"),y("group-action-container").map(e=>w(e)).forEach(n(Z,t)),r&&U("groups.doGroupPaint")}function l(t,r){let e=T({className:"custombutton",type:"button",value:r});return o(t,"&nbsp;"),m(t,e),e}function Q(t,r){let e=`<table class="fshgrpstat"><tr><td class="fshBrown">Attack</td><td class="fshRight">${r.attack}</td><td class="fshBrown">Defense</td><td class="fshRight">${r.defense}</td></tr><tr><td class="fshBrown">Armor</td><td class="fshRight">${r.armor}</td><td class="fshBrown">Damage</td><td class="fshRight">${r.damage}</td></tr><tr><td class="fshBrown">HP</td><td class="fshRight">${r.hp}</td><td colspan="2"></td></tr></table>`,i=t.parentNode.parentNode.previousElementSibling;o(i,e)}function K(t){N(t.href).then(n(Q,t))}function tt(t){t.target.disabled=!0,s('#pCC a[href*="=viewstats&"]').forEach(K)}function L(t){let r=l(t,"Fetch Group Stats");d(r,tt)}function rt(t){return!t.includes("#000099")}function et(t){u('<span class="fshXSmall fshBlue" style="line-height: 19px;">Joined</span>',t)}function ot(t,r){v({cmd:"guild",subcmd:"groups",subcmd2:"join",group_id:t}).then(n(et,r))}function nt(t){let r=t.parentNode.parentNode.parentNode.cells[1];if(h(p(r)).filter(rt).length<f.maxGroupSizeToJoin){let a=x({className:"group-action-link fshRelative",innerHTML:'<span class="fshSpinner fshSpinner12"></span>',style:{height:"19px",width:"19px"}});t.parentNode.replaceChild(a,t);let R=/confirmJoin\((\d+)\)/.exec(t.href)[1];ot(R,a)}}function z(){$("groups","joinAllGroupsUnderSize"),s('#pCC a[href*="confirmJoin"]').forEach(nt)}function it(t){let r=l(t,`Join All Groups < ${f.maxGroupSizeToJoin} Members`);d(r,z)}function C(t){let r=t.parentNode;f.enableMaxGroupSizeToJoin&&(D(t),it(r)),L(r),f.subcmd2===G&&z()}function st(){let t=c("minGroupLevel");t&&o(A("#pCC > table > tbody > tr > td > table td"),`<div class="fshBlue"> Current Min Level Setting: ${t}</div>`)}function at(){let t=s("#pCC td.header-dark");t.length<5||(t[0].setAttribute("width","20%"),t[1].setAttribute("width","44%"),t[2].setAttribute("width","7%"),t[3].setAttribute("width","22%"),t[4].setAttribute("width","7%"))}function ft(){if(M())return;let t=A('#pCC input[value="Join All Available Groups"]');!t||(k(!1).then(S),st(),C(t),at())}export{ft as default};
//# sourceMappingURL=groups-7XW6UST4.js.map
