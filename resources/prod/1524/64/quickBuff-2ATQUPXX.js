import{a as Q,b as M}from"./chunk-DR4VHJAP.js";import"./chunk-DSM3JAZW.js";import{a as F}from"./chunk-Z5M2I3YL.js";import"./chunk-WD6JKOJ5.js";import{a as C}from"./chunk-MKMENRQU.js";import{a as B}from"./chunk-ZPGINZQH.js";import{a as R}from"./chunk-2EYWDQLJ.js";import{a as D}from"./chunk-R6W24PQH.js";import{a as T}from"./chunk-ON5IN5Z3.js";import"./chunk-G2DBGFUC.js";import{a as b}from"./chunk-FUH5X4VH.js";import{a as y}from"./chunk-PZZGI3D7.js";import{a as l}from"./chunk-LNXB6HXV.js";import{a as w}from"./chunk-7SMWPQOT.js";import"./chunk-C7T6VCNC.js";import"./chunk-JXL4HPF6.js";import{a as I}from"./chunk-JEZXSBDP.js";import"./chunk-IUL3SPHK.js";import"./chunk-BQTQOQGW.js";import"./chunk-SDRXUAQO.js";import"./chunk-UWLJN7Q5.js";import"./chunk-JMJ2BOMP.js";import"./chunk-3DWHDW4D.js";import"./chunk-RVEJ4C26.js";import"./chunk-XDP2PAAX.js";import{a as h}from"./chunk-YWJ4UNHS.js";import{a}from"./chunk-7Q3UNQAY.js";import{a as d}from"./chunk-S367ATRC.js";import"./chunk-CL6MB4ZE.js";import"./chunk-FRV7FQNH.js";import"./chunk-XPYPU624.js";import{a as p}from"./chunk-6F7KGMTR.js";import"./chunk-CSKN77A5.js";import"./chunk-3EONQEO2.js";import"./chunk-FA37UARH.js";import"./chunk-JDBXWYYY.js";import"./chunk-5GNYWTGT.js";import{a as s}from"./chunk-E5PHBQC4.js";import"./chunk-XG256B2T.js";import"./chunk-EBLMPFV5.js";import{a as N}from"./chunk-EUEELQXP.js";import"./chunk-QS7J5TMD.js";import{a as i}from"./chunk-XJ5473QP.js";import{a as f}from"./chunk-WM64FGHN.js";import"./chunk-GQGCY7E7.js";import"./chunk-LXVMDOGR.js";import"./chunk-GX4J242O.js";import{a as o}from"./chunk-X5N7OOVX.js";import"./chunk-MKQZLDMS.js";import"./chunk-55RTNKIA.js";import"./chunk-X73J5C7S.js";import"./chunk-5TFX5HF5.js";import{a as k}from"./chunk-KM25KKJO.js";import"./chunk-NG7LLWFJ.js";import"./chunk-45P77O4Z.js";import"./chunk-6FX7G55Z.js";import"./chunk-DW345X2O.js";import"./chunk-AWEYVB2J.js";import"./chunk-UUU5NSJN.js";function K(t){let e=a("span.fshLastActivity",t);if(!e){e=y({className:"fshLastActivity"});let r=p("h1",t)[0];B(e,r)}return e}function v(t){let e=a(`div.player[data-username="${t.username}"]`),r=K(e);i(`Last Activity: ${D(t.last_login)}<br>Stamina: ${t.current_stamina} / ${t.stamina} ( ${Math.floor(t.current_stamina/t.stamina*100)}% )`,r)}function u(t){return Number(s(t).replace(/\[|\]/g,""))}function V(t,e){if(!e){let r=y({className:"fshPlayer"});return B(r,t.nextElementSibling),r}return e}function W(t,e){return t>e?"fshRed":"fshGreen"}function X(t,e,r){if(!e){i("",r);return}let n=t.nextElementSibling.children[0].children[0],c=u(n),z=V(t,r),J=W(c,e);i(` <span class="${J}">[${e}]</span>`,z)}function Y(t,e){return e[0]===t}function Z(t,e){let r=e.getAttribute("data-name"),n=t.find(o(Y,r));if(n)return n[1]}function tt(t,e){let r=Z(t,e),n=e.nextElementSibling.nextElementSibling;(r||n)&&X(e,r,n)}function et(t){return t.split(/ \[|]/)}function rt(t){return h(s(t.parentNode.lastElementChild)).map(et)}function E(t){let e=t.target;if(e.tagName!=="H1")return;b(s(e)).then(v);let r=rt(e);d("#buff-outer input[name]").forEach(o(tt,r))}var G='<div id="helperQBheader"><table class="quickbuffTable"><thead><tr><th class="quickbuffTableHeader">Sustain</th><th class="quickbuffTableHeader">Fury Caster</th><th class="quickbuffTableHeader">Guild Buffer</th><th class="quickbuffTableHeader">Buff Master</th><th class="quickbuffTableHeader">Extend</th><th class="quickbuffTableHeader">Reinforce</th></tr></thead><tbody><tr><td id="fshSus" class="quickbuffTableDetail">&nbsp;</td><td id="fshFur" class="quickbuffTableDetail">&nbsp;</td><td id="fshGB"  class="quickbuffTableDetail">&nbsp;</td><td id="fshBM"  class="quickbuffTableDetail">&nbsp;</td><td id="fshExt" class="quickbuffTableDetail">&nbsp;</td><td id="fshRI"  class="quickbuffTableDetail">&nbsp;</td></tr></tbody></table></div>',_=[50,54,55,56,60,61,98,101];function ft(t,e){let r=e.dataset.tipped,{cost:n}=t.previousElementSibling.dataset;C(r.replace("</center>",`<br>Stamina Cost: ${n}$&`),e)}function nt(t,e){return!_.includes(Number(t.htmlFor.slice(6)))&&u(e.children[0])<125}function it(t,e){nt(t,e)&&t.classList.add("fshDim")}function ot(t){let e=t.children[0];ft(t,e),it(t,e)}function q(){d('#buff-outer label[for^="skill-"]').forEach(ot)}function st(t,e){return!t&&e}function O(t){let e=p("h1",f("players"))[0];if(st(e,t)){setTimeout(O,100,t-1);return}e&&w(e)}function m(){f("targetPlayers").value&&O(9)}function at(t){let e=Math.floor(t/60),r=t%60,n=T(e,"m");return e>0&&r>0&&(n+=" "),n+=T(r,"s"),n}function ut(t){return`<span class="fshLime">On</span>&nbsp;<span class="fshBuffOn">(${at(t)})</span>`}function mt(t){let e=a(`#buff-outer input[data-name="${t}"]`);return e?`<span class="quickbuffActivate" data-buffid="${e.value}">Activate</span>`:'<span class="fshRed;">Off</span>'}function ct(t,e){let r=t[e]||0;return r?ut(r):mt(e)}function g(t,e,r){i(ct(t,e),r)}function lt(t,e){return t[e.name]=e.duration,t}function S(t){let e=t._skills.reduce(lt,{});g(e,"Guild Buffer",f("fshGB")),g(e,"Buff Master",f("fshBM")),g(e,"Extend",f("fshExt")),g(e,"Reinforce",f("fshRI"))}function pt(t,e){return e.name===t}function dt(t,e){let r=t.find(o(pt,e));return r&&r.value||0}function j(t,e,r){let n=dt(t,e),c="fshLime";n<100&&(c="fshRed"),i(`<span class="${c}">${n}%</span>`,r)}function x(t){let e=t._enhancements;j(e,"Sustain",f("fshSus")),j(e,"Fury Caster",f("fshFur"))}function A(t){x(t),S(t)}function ht(t){let e=f(`skill-${t}`);e&&(e.checked=!0)}function bt(t){t.split(";").forEach(ht)}function L(){let t=l("blist");t&&bt(t)}var P;function U(){P.length?(window.addPlayers([P.shift()]),setTimeout(U,200)):setTimeout(m,200)}function H(){let t=l("players");t&&(P=h(t),U())}function yt(t,e){M(e)&&(t.className="fshLime",i("On",t))}async function $(t){let e=t.target;if(e.className!=="quickbuffActivate")return;I("quickbuff","quickActivate");let r=await Q([window.self],[e.dataset.buffid]);yt(e,r)}function Bt(){k(f("helperQBheader"),$),k(f("players"),E)}function gt(){if(N())return;let t=f("quickbuff");!t||(b(window.self).then(A),R(t.children[0],G),F([q,L,H,Bt,m]))}export{gt as default};
//# sourceMappingURL=quickBuff-2ATQUPXX.js.map
