import{a as Je}from"./chunk-RSFH7S7C.js";import{a as Ge}from"./chunk-WMCZFGCW.js";import"./chunk-YJSMMGCL.js";import{a as We}from"./chunk-PRDC2FX4.js";import{$ as K,A as p,C as ne,H as z,I as Ue,K as x,L as me,M as oe,O as he,P as ke,Q as ve,R as h,S as y,U as Ce,V as Ze,Y as ye,Z as R,_ as H,a as w,aa as B,b as ge,ba as V,d as F,i as G,j as J,k as W,l as X,p as f,q as k,r as v,s as qe,t as _,u as T,v as D,w as Ee,x as P,z as je}from"./chunk-ORBHZR4S.js";import{a as Xe}from"./chunk-G54YS6XN.js";import{a as Qe}from"./chunk-U346SDJ4.js";import{a as Ne}from"./chunk-CDFJVUGB.js";import"./chunk-4PK2IDOS.js";import"./chunk-BSSYFFIZ.js";import"./chunk-SMI4WITT.js";import"./chunk-FCAAVUT5.js";import"./chunk-AU6TCDDP.js";import"./chunk-IDZMHJ64.js";import{a as le}from"./chunk-TSUHFY5W.js";import"./chunk-WLNOCDF7.js";import"./chunk-OTVSKV7D.js";import"./chunk-5DRIYRI5.js";import{a as He}from"./chunk-S4FS7DHJ.js";import"./chunk-EAI5CD5S.js";import{a as ze}from"./chunk-PTQVJCCE.js";import"./chunk-4SAQUUK6.js";import"./chunk-TYF4VCHJ.js";import"./chunk-S4QEGVCK.js";import"./chunk-NL2EDQDN.js";import"./chunk-SGTVLZZY.js";import{a as be}from"./chunk-BN2EMHT7.js";import"./chunk-Q6THDLFL.js";import"./chunk-W2KQHOA7.js";import{a as Ke}from"./chunk-BN7XNLUY.js";import"./chunk-Q4EXCAYO.js";import"./chunk-NHZZ7LZ4.js";import"./chunk-UHYEXGNQ.js";import"./chunk-7B7EL4RE.js";import"./chunk-DY5UVCP4.js";import"./chunk-AODVCOO3.js";import"./chunk-CPTULJAW.js";import{b as pe}from"./chunk-MWTT7SJH.js";import"./chunk-65ZLY3NC.js";import"./chunk-YLJQNWRW.js";import"./chunk-E6R3MXCQ.js";import{Ha as Re,b as Oe}from"./chunk-E2WYTXH7.js";import{a as fe}from"./chunk-S7VLPIAI.js";function _t(t){let e,l,n,o,c=t[2].default,i=G(c,t,t[1],null);return{c(){e=_("div"),i&&i.c(),p(e,"class","svelte-1ddnxaz"),z(e,"visible",t[0])},m(s,r){k(s,e,r),i&&i.m(e,null),l=!0,n||(o=P(e,"click",je(t[3])),n=!0)},p(s,[r]){i&&i.p&&(!l||r&2)&&W(i,c,s,s[1],l?J(c,s[1],r,null):X(s[1]),null),r&1&&z(e,"visible",s[0])},i(s){l||(h(i,s),l=!0)},o(s){y(i,s),l=!1},d(s){s&&v(e),i&&i.d(s),n=!1,o()}}}function pt(t,e,l){let{$$slots:n={},$$scope:o}=e,{visible:c=!0}=e,i,s,r;function u(){document.body.classList.contains("noscroll")||(i=!0,s=window.scrollY,r=document.body.style.top,document.body.classList.add("noscroll"),document.body.style.top=`-${s}px`)}function a(){i&&(document.body.classList.remove("noscroll"),document.body.style.top=r||"",window.scrollTo(0,s))}function m(S){me.call(this,t,S)}return t.$$set=S=>{"visible"in S&&l(0,c=S.visible),"$$scope"in S&&l(1,o=S.$$scope)},t.$$.update=()=>{if(t.$$.dirty&1){e:c?u():a()}},[c,o,n,m]}var Te=class extends V{constructor(e){super(),B(this,e,pt,_t,F,{visible:0})}},xe=Te;function bt(t){let e,l,n,o,c=t[7].default,i=G(c,t,t[6],null);return{c(){e=_("div"),i&&i.c(),p(e,"class","ui-dialog svelte-3ibgr0"),p(e,"role","dialog"),p(e,"aria-modal","true"),z(e,"modalVisible",t[1])},m(s,r){k(s,e,r),i&&i.m(e,null),t[8](e),l=!0,n||(o=P(window,"keydown",t[2]),n=!0)},p(s,[r]){i&&i.p&&(!l||r&64)&&W(i,c,s,s[6],l?J(c,s[6],r,null):X(s[6]),null),r&2&&z(e,"modalVisible",s[1])},i(s){l||(h(i,s),l=!0)},o(s){y(i,s),l=!1},d(s){s&&v(e),i&&i.d(s),t[8](null),n=!1,o()}}}var $e;function gt(t,e,l){let n,{$$slots:o={},$$scope:c}=e,{modal:i}=e,{visible:s=!0}=e,r=x(),u=()=>r("close"),a,m;function S(g){if(!!s){if(g.key==="Escape"&&$e===i){u();return}if(g.key==="Tab"){let C=He("*",i).filter($=>$.tabIndex>=0),A=C.indexOf(document.activeElement);A===-1&&g.shiftKey&&(A=0),A+=C.length+(g.shiftKey?-1:1),A%=C.length,C[A].focus(),g.preventDefault()}}}function d(g){oe[g?"unshift":"push"](()=>{i=g,l(0,i)})}return t.$$set=g=>{"modal"in g&&l(0,i=g.modal),"visible"in g&&l(3,s=g.visible),"$$scope"in g&&l(6,c=g.$$scope)},t.$$.update=()=>{if(t.$$.dirty&8){e:l(1,n=s)}if(t.$$.dirty&9){e:i&&s&&(l(5,m=$e),$e=i)}if(t.$$.dirty&41){e:i&&!s&&($e=m)}if(t.$$.dirty&24){e:s?l(4,a=document?.activeElement):a?.focus()}},[i,n,S,s,a,m,c,o,d]}var Pe=class extends V{constructor(e){super(),B(this,e,gt,bt,F,{modal:0,visible:3})}},et=Pe;function ht(t){let e,l=t[3].default,n=G(l,t,t[5],null);return{c(){n&&n.c()},m(o,c){n&&n.m(o,c),e=!0},p(o,c){n&&n.p&&(!e||c&32)&&W(n,l,o,o[5],e?J(l,o[5],c,null):X(o[5]),null)},i(o){e||(h(n,o),e=!0)},o(o){y(n,o),e=!1},d(o){n&&n.d(o)}}}function kt(t){let e,l,n;function o(i){t[4](i)}let c={visible:t[1],$$slots:{default:[ht]},$$scope:{ctx:t}};return t[0]!==void 0&&(c.modal=t[0]),e=new et({props:c}),oe.push(()=>ye(e,"modal",o)),e.$on("close",t[2]),{c(){R(e.$$.fragment)},m(i,s){H(e,i,s),n=!0},p(i,s){let r={};s&2&&(r.visible=i[1]),s&32&&(r.$$scope={dirty:s,ctx:i}),!l&&s&1&&(l=!0,r.modal=i[0],he(()=>l=!1)),e.$set(r)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){y(e.$$.fragment,i),n=!1},d(i){K(e,i)}}}function vt(t){let e,l;return e=new xe({props:{visible:t[1],$$slots:{default:[kt]},$$scope:{ctx:t}}}),e.$on("click",t[2]),{c(){R(e.$$.fragment)},m(n,o){H(e,n,o),l=!0},p(n,[o]){let c={};o&2&&(c.visible=n[1]),o&35&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){l||(h(e.$$.fragment,n),l=!0)},o(n){y(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}function yt(t,e,l){let{$$slots:n={},$$scope:o}=e,{modal:c}=e,{visible:i=!0}=e,s=x(),r=()=>s("close"),u;function a(){fe.dialogIsClosed&&(u=fe.dialogIsClosed),fe.dialogIsClosed=()=>!i}function m(){u&&(fe.dialogIsClosed=u)}function S(d){c=d,l(0,c)}return t.$$set=d=>{"modal"in d&&l(0,c=d.modal),"visible"in d&&l(1,i=d.visible),"$$scope"in d&&l(5,o=d.$$scope)},t.$$.update=()=>{if(t.$$.dirty&2){e:i?a():m()}},[c,i,r,n,S,o]}var Ie=class extends V{constructor(e){super(),B(this,e,yt,vt,F,{modal:0,visible:1})}},we=Ie;function $t(t){let e,l,n;return{c(){e=_("button"),e.textContent="\xD7",p(e,"class","modal-close ui-dialog-titlebar-close svelte-12ycrze"),p(e,"type","button")},m(o,c){k(o,e,c),l||(n=P(e,"click",t[0]),l=!0)},p:w,i:w,o:w,d(o){o&&v(e),l=!1,n()}}}function wt(t){let e=x();return[()=>e("close")]}var Me=class extends V{constructor(e){super(),B(this,e,wt,$t,F,{})}},tt=Me;function St(t){let e,l,n,o,c,i,s;o=new tt({}),o.$on("close",t[5]);let r=t[4].default,u=G(r,t,t[9],null);return{c(){e=_("div"),l=T(t[0]),n=D(),R(o.$$.fragment),c=D(),i=_("div"),u&&u.c(),p(e,"class","modal-title ui-widget-header ui-helper-reset ui-helper-clearfix svelte-1whj1n2"),p(i,"class","modal-content svelte-1whj1n2")},m(a,m){k(a,e,m),f(e,l),f(e,n),H(o,e,null),t[6](e),k(a,c,m),k(a,i,m),u&&u.m(i,null),s=!0},p(a,m){(!s||m&1)&&ne(l,a[0]),u&&u.p&&(!s||m&512)&&W(u,r,a,a[9],s?J(r,a[9],m,null):X(a[9]),null)},i(a){s||(h(o.$$.fragment,a),h(u,a),s=!0)},o(a){y(o.$$.fragment,a),y(u,a),s=!1},d(a){a&&v(e),K(o),t[6](null),a&&v(c),a&&v(i),u&&u.d(a)}}}function qt(t){let e,l,n;function o(i){t[7](i)}let c={visible:t[1],$$slots:{default:[St]},$$scope:{ctx:t}};return t[2]!==void 0&&(c.modal=t[2]),e=new we({props:c}),oe.push(()=>ye(e,"modal",o)),e.$on("close",t[8]),{c(){R(e.$$.fragment)},m(i,s){H(e,i,s),n=!0},p(i,[s]){let r={};s&2&&(r.visible=i[1]),s&521&&(r.$$scope={dirty:s,ctx:i}),!l&&s&4&&(l=!0,r.modal=i[2],he(()=>l=!1)),e.$set(r)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){y(e.$$.fragment,i),n=!1},d(i){K(e,i)}}}function Et(t,e,l){let{$$slots:n={},$$scope:o}=e,{title:c=""}=e,{visible:i=!0}=e,s,r;Ue(()=>{Ne(r,s)});function u(d){me.call(this,t,d)}function a(d){oe[d?"unshift":"push"](()=>{r=d,l(3,r)})}function m(d){s=d,l(2,s)}function S(d){me.call(this,t,d)}return t.$$set=d=>{"title"in d&&l(0,c=d.title),"visible"in d&&l(1,i=d.visible),"$$scope"in d&&l(9,o=d.$$scope)},[c,i,s,r,n,u,a,m,S,o]}var De=class extends V{constructor(e){super(),B(this,e,Et,qt,F,{title:0,visible:1})}},lt=De;function Ct(t){let e,l,n,o,c,i,s,r,u;return{c(){e=_("div"),l=T(t[1]),n=D(),o=_("div"),c=_("button"),c.textContent="Yes",i=D(),s=_("button"),s.textContent="No",p(e,"class","svelte-u0wbtl"),p(c,"class","ui-button ui-corner-all ui-widget"),p(c,"type","button"),p(s,"class","ui-button ui-corner-all ui-widget"),p(s,"type","button"),p(o,"class","svelte-u0wbtl")},m(a,m){k(a,e,m),f(e,l),k(a,n,m),k(a,o,m),f(o,c),f(o,i),f(o,s),r||(u=[P(c,"click",t[3]),P(s,"click",t[2])],r=!0)},p(a,m){m&2&&ne(l,a[1])},d(a){a&&v(e),a&&v(n),a&&v(o),r=!1,ge(u)}}}function Tt(t){let e,l;return e=new we({props:{visible:t[0],$$slots:{default:[Ct]},$$scope:{ctx:t}}}),e.$on("close",t[2]),{c(){R(e.$$.fragment)},m(n,o){H(e,n,o),l=!0},p(n,[o]){let c={};o&1&&(c.visible=n[0]),o&34&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){l||(h(e.$$.fragment,n),l=!0)},o(n){y(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}function Pt(t,e,l){let{msg:n="Are you sure?"}=e,{visible:o=!0}=e,c=x();function i(){l(0,o=!1),c("no")}function s(){l(0,o=!1),c("yes")}return t.$$set=r=>{"msg"in r&&l(1,n=r.msg),"visible"in r&&l(0,o=r.visible)},[o,n,i,s]}var Le=class extends V{constructor(e){super(),B(this,e,Pt,Tt,F,{msg:1,visible:0})}},nt=Le;function de(t,e,l){if(e)e.$set(t);else return new l({props:t,target:document.body});return e}var ot={visible:!0},Se;function It(t){Se=de(ot,Se,nt),Se.$on("yes",()=>t(!0)),Se.$on("no",()=>t(!1))}function Ye(t){return ot.msg=t,new Promise(It)}function Mt(t){return`${t.amount} x ${Re[t.type]}`}var Dt=[[t=>t.components?.length,t=>`You successfully extracted 1 '${t.components?.[0].n}' component(s) from 1 resource(s).`],[t=>t.frags,t=>`You gained ${t.frags.map(Mt).join(", ")} Fragments by opening the Fragment Stash.`],[t=>t.mailbox_items?.length,t=>`You received 1 x '${t.mailbox_items?.[0].n}' from the container.`],[()=>1,()=>'<span class="fshRed">You failed to extract any components from resource(s).</span>']];function Fe(t){return Dt.find(([e])=>e(t))[1](t)}var Lt=(t,e,l)=>`fetchitem.php?item_id=${e}&inv_id=${l}&t=1&p=${t}`,Yt=t=>`background-image: url(${Oe}items/${t}.gif)`;function Be(t,e){return Xe(e,"item_name").map(l=>({...l,count:e.filter(n=>n.item_name===l.item_name).length,delPending:!1,extractIds:e.filter(n=>n.item_name===l.item_name).map(n=>n.inv_id),style:Yt(l.item_id),tip:Lt(t,l.item_id,l.inv_id)}))}function it(t,e,l){let n=t.slice();return n[28]=e[l].count,n[29]=e[l].delPending,n[30]=e[l].item_name,n[31]=e[l].style,n[32]=e[l].tip,n[34]=l,n}function st(t,e,l){let n=t.slice();return n[35]=e[l],n}function Ft(t){let e;return{c(){e=T("Refresh")},m(l,n){k(l,e,n)},d(l){l&&v(e)}}}function rt(t){let e,l=t[35]+"";return{c(){e=_("li"),p(e,"class","svelte-11l0q24")},m(n,o){k(n,e,o),e.innerHTML=l},p(n,o){o[0]&64&&l!==(l=n[35]+"")&&(e.innerHTML=l)},d(n){n&&v(e)}}}function Bt(t){return{c:w,m:w,p:w,i:w,o:w,d:w}}function Vt(t){let e,l,n=t[5],o=[];for(let i=0;i<n.length;i+=1)o[i]=ct(it(t,n,i));let c=i=>y(o[i],1,1,()=>{o[i]=null});return{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=Ee()},m(i,s){for(let r=0;r<o.length;r+=1)o[r].m(i,s);k(i,e,s),l=!0},p(i,s){if(s[0]&4128){n=i[5];let r;for(r=0;r<n.length;r+=1){let u=it(i,n,r);o[r]?(o[r].p(u,s),h(o[r],1)):(o[r]=ct(u),o[r].c(),h(o[r],1),o[r].m(e.parentNode,e))}for(ke(),r=n.length;r<o.length;r+=1)c(r);ve()}},i(i){if(!l){for(let s=0;s<n.length;s+=1)h(o[s]);l=!0}},o(i){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)y(o[s]);l=!1},d(i){qe(o,i),i&&v(e)}}}function At(t){let e;return{c(){e=T("Done")},m(l,n){k(l,e,n)},p:w,i:w,o:w,d(l){l&&v(e)}}}function Nt(t){let e,l,n,o,c=[Rt,Ot],i=[];function s(r,u){return r[29]?0:1}return e=s(t,[-1,-1]),l=i[e]=c[e](t),{c(){l.c(),n=Ee()},m(r,u){i[e].m(r,u),k(r,n,u),o=!0},p(r,u){let a=e;e=s(r,u),e===a?i[e].p(r,u):(ke(),y(i[a],1,1,()=>{i[a]=null}),ve(),l=i[e],l?l.p(r,u):(l=i[e]=c[e](r),l.c()),h(l,1),l.m(n.parentNode,n))},i(r){o||(h(l),o=!0)},o(r){y(l),o=!1},d(r){i[e].d(r),r&&v(n)}}}function Ot(t){let e,l;function n(){return t[16](t[34])}return e=new Ge({props:{$$slots:{default:[Ht]},$$scope:{ctx:t}}}),e.$on("click",n),{c(){R(e.$$.fragment)},m(o,c){H(e,o,c),l=!0},p(o,c){t=o;let i={};c[0]&32|c[1]&128&&(i.$$scope={dirty:c,ctx:t}),e.$set(i)},i(o){l||(h(e.$$.fragment,o),l=!0)},o(o){y(e.$$.fragment,o),l=!1},d(o){K(e,o)}}}function Rt(t){let e;return{c(){e=_("span"),p(e,"class","fshSpinner fshSpinner12")},m(l,n){k(l,e,n)},p:w,i:w,o:w,d(l){l&&v(e)}}}function Ht(t){let e,l=t[28]+"",n;return{c(){e=T("Extract "),n=T(l)},m(o,c){k(o,e,c),k(o,n,c)},p(o,c){c[0]&32&&l!==(l=o[28]+"")&&ne(n,l)},d(o){o&&v(e),o&&v(n)}}}function ct(t){let e,l,n,o,c,i,s,r,u,a,m,S=t[30]+"",d,g,C,A=[Nt,At],$=[];function ee(q,I){return q[28]?0:1}return n=ee(t,[-1,-1]),o=$[n]=A[n](t),{c(){e=_("tr"),l=_("td"),o.c(),c=D(),i=_("td"),s=_("span"),a=D(),m=_("td"),d=T(S),g=D(),p(l,"class","svelte-11l0q24"),z(l,"delPending",t[29]),p(s,"class","imgSpan tip-dynamic svelte-11l0q24"),p(s,"data-tipped",r=t[32]),p(s,"style",u=t[31]),p(i,"class","imgCol svelte-11l0q24")},m(q,I){k(q,e,I),f(e,l),$[n].m(l,null),f(e,c),f(e,i),f(i,s),f(e,a),f(e,m),f(m,d),f(e,g),C=!0},p(q,I){let N=n;n=ee(q,I),n===N?$[n].p(q,I):(ke(),y($[N],1,1,()=>{$[N]=null}),ve(),o=$[n],o?o.p(q,I):(o=$[n]=A[n](q),o.c()),h(o,1),o.m(l,null)),I[0]&32&&z(l,"delPending",q[29]),(!C||I[0]&32&&r!==(r=q[32]))&&p(s,"data-tipped",r),(!C||I[0]&32&&u!==(u=q[31]))&&p(s,"style",u),(!C||I[0]&32)&&S!==(S=q[30]+"")&&ne(d,S)},i(q){C||(h(o),C=!0)},o(q){y(o),C=!1},d(q){q&&v(e),$[n].d()}}}function Kt(t){return{c:w,m:w,p:w,i:w,o:w,d:w}}function zt(t){let e,l,n,o,c,i,s,r,u,a,m,S,d,g,C,A,$,ee,q,I,N,ce,ae,Q,ue,te,ie,_e,se,re,b,j;$=new Je({props:{$$slots:{default:[Ft]},$$scope:{ctx:t}}}),$.$on("click",t[11]);let U=t[6],L=[];for(let E=0;E<U.length;E+=1)L[E]=rt(st(t,U,E));let Y={ctx:t,current:null,token:null,hasCatch:!1,pending:Kt,then:Vt,catch:Bt,blocks:[,,,]};return Ce(se=t[1],Y),{c(){e=_("div"),l=T(`Select which type of plants you wish to extract all of. Only select extractable resources.
    `),n=_("br"),o=D(),c=_("label"),i=_("input"),s=T(`
      Select items in ST`),r=T(`\xA0
    `),u=_("label"),a=_("input"),m=T(`
      Main Folder Only`),S=T(`\xA0
    `),d=_("label"),g=_("input"),C=T(`
      Disable Prompts`),A=T(`\xA0
    `),R($.$$.fragment),ee=D(),q=_("br"),I=D(),N=_("table"),ce=_("thead"),ce.innerHTML=`<tr><th class="actionCol svelte-11l0q24">Actions</th> 
          <th colspan="2">Items</th></tr>`,ae=D(),Q=_("tbody"),ue=_("tr"),te=_("td"),ie=_("ol");for(let E=0;E<L.length;E+=1)L[E].c();_e=D(),Y.block.c(),p(i,"type","checkbox"),p(a,"type","checkbox"),p(g,"type","checkbox"),p(te,"colspan","3"),p(N,"class","svelte-11l0q24"),p(e,"class","svelte-11l0q24")},m(E,M){k(E,e,M),f(e,l),f(e,n),f(e,o),f(e,c),f(c,i),i.checked=t[2],f(c,s),f(e,r),f(e,u),f(u,a),a.checked=t[3],f(u,m),f(e,S),f(e,d),f(d,g),g.checked=t[4],f(d,C),f(e,A),H($,e,null),f(e,ee),f(e,q),f(e,I),f(e,N),f(N,ce),f(N,ae),f(N,Q),f(Q,ue),f(ue,te),f(te,ie);for(let Z=0;Z<L.length;Z+=1)L[Z].m(ie,null);f(Q,_e),Y.block.m(Q,Y.anchor=null),Y.mount=()=>Q,Y.anchor=null,re=!0,b||(j=[P(i,"change",t[13]),P(i,"change",t[8]),P(a,"change",t[14]),P(a,"change",t[9]),P(g,"change",t[15]),P(g,"change",t[10])],b=!0)},p(E,M){t=E,M[0]&4&&(i.checked=t[2]),M[0]&8&&(a.checked=t[3]),M[0]&16&&(g.checked=t[4]);let Z={};if(M[1]&128&&(Z.$$scope={dirty:M,ctx:t}),$.$set(Z),M[0]&64){U=t[6];let O;for(O=0;O<U.length;O+=1){let Ae=st(t,U,O);L[O]?L[O].p(Ae,M):(L[O]=rt(Ae),L[O].c(),L[O].m(ie,null))}for(;O<L.length;O+=1)L[O].d(1);L.length=U.length}Y.ctx=t,M[0]&2&&se!==(se=t[1])&&Ce(se,Y)||Ze(Y,t,M)},i(E){re||(h($.$$.fragment,E),h(Y.block),re=!0)},o(E){y($.$$.fragment,E);for(let M=0;M<3;M+=1){let Z=Y.blocks[M];y(Z)}re=!1},d(E){E&&v(e),K($),qe(L,E),Y.block.d(),Y.token=null,Y=null,b=!1,ge(j)}}}function Qt(t){let e,l;return e=new lt({props:{visible:t[0],title:"Quick Extract",$$slots:{default:[zt]},$$scope:{ctx:t}}}),e.$on("close",t[7]),{c(){R(e.$$.fragment)},m(n,o){H(e,n,o),l=!0},p(n,o){let c={};o[0]&1&&(c.visible=n[0]),o[0]&126|o[1]&128&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){l||(h(e.$$.fragment,n),l=!0)},o(n){y(e.$$.fragment,n),l=!1},d(n){K(e,n)}}}var jt="Are you sure you want to extract all similar items?",at="selectST",ut="selectMain",ft="disableQuickExtractPrompts";function Ut(t,e,l){let{visible:n=!0}=e,o,c,i=pe(at),s=pe(ut),r=pe(ft),u,a,m=[],S=b=>b.item_name==="Zombie Coffin"||b.type===12||b.type===16,d=(b,j)=>Ke(b.item_name,j.item_name),g=b=>i||!b.is_in_st,C=b=>!s||b.folder_id===-1;function A(){le("quickExtract","close"),l(0,n=!1)}function $(){l(5,a=Be(c,u.filter(g).filter(C)))}function ee(){le("quickExtract","toggleSelectST"),be(at,i),$()}function q(){le("quickExtract","toggleSelectMain"),be(ut,s),$()}function I(){le("quickExtract","togglePrompts"),be(ft,r)}async function N(){let b=await We();c=b.player_id,u=b.items.filter(S).sort(d),$()}function ce(){le("quickExtract","refresh"),l(6,m=[]),l(1,o=N())}let ae;function Q(b){return!b.s&&ae!==b.e.message&&(ae=b.e.message,l(6,m=[...m,b.e.message])),b.s}async function ue(b){let j=await Qe(b);Q(j)&&(l(6,m=[...m,Fe(j.r)]),u=u.filter(U=>U.inv_id!==b))}async function te(b){le("quickExtract","extract",r),(r?!0:await Ye(jt))&&(l(5,a[b].delPending=!0,a),await ze(a[b].extractIds.map(ue)),l(5,a[b].count=0,a))}function ie(){i=this.checked,l(2,i)}function _e(){s=this.checked,l(3,s)}function se(){r=this.checked,l(4,r)}let re=b=>te(b);return t.$$set=b=>{"visible"in b&&l(0,n=b.visible)},t.$$.update=()=>{if(t.$$.dirty[0]&1){e:n&&(l(6,m=[]),l(1,o=N()))}},[n,o,i,s,r,a,m,A,ee,q,I,ce,te,ie,_e,se,re]}var Ve=class extends V{constructor(e){super(),B(this,e,Ut,Qt,F,{visible:0},null,[-1,-1])}},mt=Ve;var Zt={visible:!0},dt;function Gt(){dt=de(Zt,dt,mt)}export{Gt as default};
//# sourceMappingURL=quickExtract-KWGSONPI.js.map
