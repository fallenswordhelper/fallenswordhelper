import{a as l}from"./chunk-PV2I23US.js";import{a as c}from"./chunk-S4FS7DHJ.js";import{a}from"./chunk-4SAQUUK6.js";import{a as u}from"./chunk-TYF4VCHJ.js";import{Oa as i,Pa as o}from"./chunk-E2WYTXH7.js";function s(e){let t=i.map(([r,n])=>({id:r,level:Number(l(`input[name="${n}"]`,e).value),blocked:l(`${o}[value="${r}"]`,e).checked}));return[...t,...c(`${o}:checked`,e).map(r=>({id:Number(r.value),level:0,blocked:r.checked})).filter(r=>!t.find(({id:n})=>r.id===n)).sort((r,n)=>r.id-n.id)]}function p(e){return[...e.entries()].filter(r=>r[0].startsWith("discardPref")).map(r=>({id:parseInt(r[0][r[0].length-1],10),action:parseInt(r[1],10)}))}function _(e){return[e[0].get("pvp_ladder")==="1",e[2].get("ui_preference_11")==="1",e[2].get("ui_preference_15")==="1",e[2].get("disable_wordcensor")==="1",e[2].get("ui_preference_30")==="1",e[2].get("ui_preference_21")==="1",e[2].get("ui_preference_33")==="1",e[2].get("ui_preference_23")==="1"]}function m(e){let t=[...e.forms].map(r=>new FormData(r));return{s:!0,r:{skills:s(e),item_drop_rarity:p(t[1]),flags:_(t),min_group_join_level:parseInt(t[0].get("min_group_level"),10),item_drop_discard_level:parseInt(t[1].get("auto_discard_level"),10),player_block_type:parseInt(t[2].get("block_level"),10)}}}async function d(){let e=await u({cmd:"settings"});return e?m(a(e)):{s:!1,e:{message:"Could not connect to FS servers",code:1}}}export{d as a};
//# sourceMappingURL=chunk-UGZLRDNY.js.map
