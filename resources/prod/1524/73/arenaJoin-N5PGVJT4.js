import{a as Pe}from"./chunk-4PIHTUXS.js";import{a as Te,b as Ue,c as Be}from"./chunk-YIU64X3O.js";import"./chunk-PUYWI27I.js";import"./chunk-O3YK4Q4F.js";import{a as He}from"./chunk-4F755HII.js";import"./chunk-ISVOHVVD.js";import"./chunk-3BNPTMP2.js";import"./chunk-LL6TX5BE.js";import"./chunk-DDFZ2SWV.js";import"./chunk-762OQDNK.js";import{a as Ie}from"./chunk-67VRCXVQ.js";import"./chunk-KQOLXVWW.js";import{$ as I,A as h,C as M,F as W,G as K,N as Q,P as Ne,Q as Re,R as q,S as C,U as X,V as Y,Z as y,_ as j,a as d,aa as E,b as O,ba as H,d as R,e as P,n as x,p as b,q as k,r as w,s as D,t as S,u as U,v as A,w as J,x as V}from"./chunk-ORBHZR4S.js";import{a as Ee}from"./chunk-6BJK6PGG.js";import{a as we}from"./chunk-N3PYNKAX.js";import"./chunk-A4DJFB44.js";import"./chunk-RVU7JLRR.js";import{a as Ae}from"./chunk-ZN6Y2L7C.js";import{a as je}from"./chunk-4PK2IDOS.js";import"./chunk-BSSYFFIZ.js";import"./chunk-SMI4WITT.js";import"./chunk-N3ER3OGK.js";import"./chunk-IDZMHJ64.js";import"./chunk-TSUHFY5W.js";import"./chunk-SC2PSRG5.js";import{a as ye}from"./chunk-WLNOCDF7.js";import"./chunk-OTVSKV7D.js";import"./chunk-5DRIYRI5.js";import"./chunk-JAXKMKJG.js";import"./chunk-TUE5ZMCM.js";import"./chunk-PV2I23US.js";import"./chunk-S4FS7DHJ.js";import"./chunk-EAI5CD5S.js";import"./chunk-WD2PJAL6.js";import"./chunk-3FFDOC6A.js";import"./chunk-W63VP4AC.js";import"./chunk-JMJTPPQZ.js";import{a as Ce}from"./chunk-PTQVJCCE.js";import"./chunk-YVZHAZ2L.js";import"./chunk-ZYIHMEDV.js";import"./chunk-2SW32QWU.js";import"./chunk-25QBSENP.js";import"./chunk-4SAQUUK6.js";import{a as qe}from"./chunk-TYF4VCHJ.js";import"./chunk-S4QEGVCK.js";import"./chunk-NL2EDQDN.js";import"./chunk-UHIE2U7H.js";import"./chunk-SGTVLZZY.js";import"./chunk-JN32CCUR.js";import{a as Z}from"./chunk-NQPU6ZEY.js";import"./chunk-BN7XNLUY.js";import"./chunk-Q4EXCAYO.js";import{b as Se}from"./chunk-GUWFFNX3.js";import{a as be}from"./chunk-NHZZ7LZ4.js";import"./chunk-UHYEXGNQ.js";import"./chunk-7B7EL4RE.js";import"./chunk-DY5UVCP4.js";import"./chunk-GL5QHOTK.js";import"./chunk-C6NE64RN.js";import"./chunk-XUIDQDTX.js";import"./chunk-LJJ4O6SU.js";import"./chunk-AODVCOO3.js";import"./chunk-CPTULJAW.js";import"./chunk-MWTT7SJH.js";import"./chunk-65ZLY3NC.js";import"./chunk-YLJQNWRW.js";import"./chunk-E6R3MXCQ.js";import{Ia as ke,b as G}from"./chunk-E2WYTXH7.js";import"./chunk-S7VLPIAI.js";function Ye(t){let e;return{c(){e=U(t[1])},m(n,l){k(n,e,l)},p(n,l){l&2&&M(e,n[1])},d(n){n&&w(e)}}}function Ze(t){let e,n;return{c(){e=S("img"),h(e,"alt","Flag"),P(e.src,n=G+"ui/arena/specials_"+t[2](t[1])+".png")||h(e,"src",n)},m(l,r){k(l,e,r)},p(l,r){r&2&&!P(e.src,n=G+"ui/arena/specials_"+l[2](l[1])+".png")&&h(e,"src",n)},d(l){l&&w(e)}}}function xe(t){let e,n,l,r,i;function a($,u){return typeof $[1]=="boolean"?Ze:Ye}let f=a(t,-1),s=f(t);return{c(){e=S("div"),n=S("div"),l=U(t[0]),r=A(),i=S("div"),s.c(),h(n,"class","top svelte-yr50ap"),h(i,"class","bottom svelte-yr50ap")},m($,u){k($,e,u),b(e,n),b(n,l),b(e,r),b(e,i),s.m(i,null)},p($,[u]){u&1&&M(l,$[0]),f===(f=a($,u))&&s?s.p($,u):(s.d(1),s=f($),s&&(s.c(),s.m(i,null)))},i:d,o:d,d($){$&&w(e),s.d()}}}function et(t,e,n){let{title:l=""}=e,{flag:r=0}=e,i=a=>String(Number(a));return t.$$set=a=>{"title"in a&&n(0,l=a.title),"flag"in a&&n(1,r=a.flag)},[l,r,i]}var ee=class extends H{constructor(e){super(),E(this,e,et,xe,R,{title:0,flag:1})}},z=ee;function te(t){return Te({subcmd:"usesetup",set_id:t})}function Fe(t,e,n){let l=t.slice();return l[7]=e[n],l}function Ge(t,e,n){let l=t.slice();return l[10]=e[n].id,l[11]=e[n].name,l}function Le(t){let e,n=t[11]+"",l,r;return{c(){e=S("option"),l=U(n),e.__value=r=t[10],e.value=e.__value},m(i,a){k(i,e,a),b(e,l)},p(i,a){a&4&&n!==(n=i[11]+"")&&M(l,n),a&4&&r!==(r=i[10])&&(e.__value=r,e.value=e.__value)},d(i){i&&w(e)}}}function Me(t){let e,n;return{c(){e=S("img"),h(e,"alt","Move"),P(e.src,n=G+"arena/"+(t[7]?t[7]-1:"x")+".png")||h(e,"src",n)},m(l,r){k(l,e,r)},p(l,r){r&1&&!P(e.src,n=G+"arena/"+(l[7]?l[7]-1:"x")+".png")&&h(e,"src",n)},d(l){l&&w(e)}}}function tt(t){let e,n,l,r,i,a,f=t[2],s=[];for(let m=0;m<f.length;m+=1)s[m]=Le(Ge(t,f,m));let $=t[0].slots,u=[];for(let m=0;m<$.length;m+=1)u[m]=Me(Fe(t,$,m));return{c(){e=S("div"),n=S("select");for(let m=0;m<s.length;m+=1)s[m].c();l=A(),r=S("div");for(let m=0;m<u.length;m+=1)u[m].c();h(n,"class","svelte-l2bu6v"),t[1]===void 0&&Q(()=>t[5].call(n)),h(e,"class","ams svelte-l2bu6v"),h(r,"class","amf svelte-l2bu6v")},m(m,p){k(m,e,p),b(e,n);for(let o=0;o<s.length;o+=1)s[o].m(n,null);W(n,t[1]),k(m,l,p),k(m,r,p);for(let o=0;o<u.length;o+=1)u[o].m(r,null);i||(a=[V(n,"change",t[5]),V(n,"change",t[3])],i=!0)},p(m,[p]){if(p&4){f=m[2];let o;for(o=0;o<f.length;o+=1){let g=Ge(m,f,o);s[o]?s[o].p(g,p):(s[o]=Le(g),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=f.length}if(p&6&&W(n,m[1]),p&1){$=m[0].slots;let o;for(o=0;o<$.length;o+=1){let g=Fe(m,$,o);u[o]?u[o].p(g,p):(u[o]=Me(g),u[o].c(),u[o].m(r,null))}for(;o<u.length;o+=1)u[o].d(1);u.length=$.length}},i:d,o:d,d(m){m&&w(e),D(s,m),m&&w(l),m&&w(r),D(u,m),i=!1,O(a)}}}function nt(t,e,n){let{res:l=0}=e,r=0,i=0,a=0,f=({slots:u})=>u.join()===r.slots.join();(function(){n(0,r=l.current_set),n(2,a=[...l.sets.some(f)?[]:[r],...l.sets]),n(1,i=a.find(f).id)})();async function s(){await te(i),n(0,r=a.find(({id:u})=>u===i))}function $(){i=K(this),n(1,i),n(2,a)}return t.$$set=u=>{"res"in u&&n(4,l=u.res)},[r,i,a,s,l,$]}var ne=class extends H{constructor(e){super(),E(this,e,nt,tt,R,{res:4})}},Ve=ne;function lt(t){let e,n,l,r=t[5].message+"",i;return{c(){e=S("div"),n=S("div"),l=S("p"),i=U(r),h(l,"class","svelte-15i8mhg"),h(e,"class","ajf svelte-15i8mhg")},m(a,f){k(a,e,f),b(e,n),b(n,l),b(l,i)},p:d,i:d,o:d,d(a){a&&w(e)}}}function rt(t){let e,n,l,r,i,a,f,s,$,u,m,p,o;n=new z({props:{title:"Players",flag:t[1].players.length+" / "+t[1].max_players}}),r=new z({props:{title:"Specials",flag:t[1].specials}}),a=new z({props:{title:"Hell Forge",flag:t[1].hellforge}}),s=new z({props:{title:"Epic",flag:t[1].epic}}),u=new z({props:{title:"Max Equip Level",flag:Z(t[1].equip_level)}});let g=t[1].specials&&We(t);return{c(){e=S("div"),y(n.$$.fragment),l=A(),y(r.$$.fragment),i=A(),y(a.$$.fragment),f=A(),y(s.$$.fragment),$=A(),y(u.$$.fragment),m=A(),g&&g.c(),p=J(),h(e,"class","ajf svelte-15i8mhg")},m(_,v){k(_,e,v),j(n,e,null),b(e,l),j(r,e,null),b(e,i),j(a,e,null),b(e,f),j(s,e,null),b(e,$),j(u,e,null),k(_,m,v),g&&g.m(_,v),k(_,p,v),o=!0},p(_,v){let F={};v&2&&(F.flag=_[1].players.length+" / "+_[1].max_players),n.$set(F);let T={};v&2&&(T.flag=_[1].specials),r.$set(T);let L={};v&2&&(L.flag=_[1].hellforge),a.$set(L);let c={};v&2&&(c.flag=_[1].epic),s.$set(c);let N={};v&2&&(N.flag=Z(_[1].equip_level)),u.$set(N),_[1].specials?g?(g.p(_,v),v&2&&q(g,1)):(g=We(_),g.c(),q(g,1),g.m(p.parentNode,p)):g&&(Ne(),C(g,1,1,()=>{g=null}),Re())},i(_){o||(q(n.$$.fragment,_),q(r.$$.fragment,_),q(a.$$.fragment,_),q(s.$$.fragment,_),q(u.$$.fragment,_),q(g),o=!0)},o(_){C(n.$$.fragment,_),C(r.$$.fragment,_),C(a.$$.fragment,_),C(s.$$.fragment,_),C(u.$$.fragment,_),C(g),o=!1},d(_){_&&w(e),I(n),I(r),I(a),I(s),I(u),_&&w(m),g&&g.d(_),_&&w(p)}}}function We(t){let e,n,l;return n=new Ve({props:{res:t[0]}}),{c(){e=S("div"),y(n.$$.fragment),h(e,"class","ajf svelte-15i8mhg")},m(r,i){k(r,e,i),j(n,e,null),l=!0},p(r,i){let a={};i&1&&(a.res=r[0]),n.$set(a)},i(r){l||(q(n.$$.fragment,r),l=!0)},o(r){C(n.$$.fragment,r),l=!1},d(r){r&&w(e),I(n)}}}function it(t){return{c:d,m:d,p:d,i:d,o:d,d}}function at(t){let e,n,l,r={ctx:t,current:null,token:null,hasCatch:!0,pending:it,then:rt,catch:lt,error:5,blocks:[,,,]};return X(n=t[2](),r),{c(){e=J(),r.block.c()},m(i,a){k(i,e,a),r.block.m(i,r.anchor=a),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(i,[a]){t=i,Y(r,t,a)},i(i){l||(q(r.block),l=!0)},o(i){for(let a=0;a<3;a+=1){let f=r.blocks[a];C(f)}l=!1},d(i){i&&w(e),r.block.d(i),r.token=null,r=null}}}function ot(t,e,n){let l=Number(we("pvp_id")),r=0,i=0,a=s=>s.arenas.find($=>$.id===l);async function f(){let s=await Ue();if(s.s)n(0,r=s.r),n(1,i=a(s.r));else throw new Error(s.e.message)}return[r,i,f]}var le=class extends H{constructor(e){super(),E(this,e,ot,at,R,{})}},ze=le;function De(t){let e,n,l,r;return{c(){e=S("img"),h(e,"alt",n=t[1].name),P(e.src,l=t[2](t[1]))||h(e,"src",l),h(e,"class","tip-dynamic"),h(e,"data-tipped",r=t[3](t[1]))},m(i,a){k(i,e,a)},p(i,a){a&2&&n!==(n=i[1].name)&&h(e,"alt",n),a&2&&!P(e.src,l=i[2](i[1]))&&h(e,"src",l),a&2&&r!==(r=i[3](i[1]))&&h(e,"data-tipped",r)},d(i){i&&w(e)}}}function st(t){let e,n,l=t[1]&&De(t);return{c(){e=S("div"),l&&l.c(),h(e,"class",n=x(t[0])+" svelte-mgvhim")},m(r,i){k(r,e,i),l&&l.m(e,null)},p(r,[i]){r[1]?l?l.p(r,i):(l=De(r),l.c(),l.m(e,null)):l&&(l.d(1),l=null),i&1&&n!==(n=x(r[0])+" svelte-mgvhim")&&h(e,"class",n)},i:d,o:d,d(r){r&&w(e),l&&l.d()}}}function mt(t,e,n){let{class:l=""}=e,{item:r}=e,i=f=>`${G}items/${f.b}.gif`,a=f=>`fetchitem.php?item_id=${f.b}&inv_id=${f.a}&t=1&p=${Ae()}`;return t.$$set=f=>{"class"in f&&n(0,l=f.class),"item"in f&&n(1,r=f.item)},[l,r,i,a]}var re=class extends H{constructor(e){super(),E(this,e,mt,st,R,{class:0,item:1})}},B=re;function ft(t){let e,n,l,r,i,a,f,s,$,u,m,p,o,g,_,v,F,T,L;return n=new B({props:{class:"med",item:t[1](t[0],"Gloves")}}),r=new B({props:{class:"med",item:t[1](t[0],"Helmet")}}),a=new B({props:{class:"sml",item:t[1](t[0],"Amulet")}}),s=new B({props:{class:"lrg",item:t[1](t[0],"Weapon")}}),u=new B({props:{class:"lrg",item:t[1](t[0],"Armor")}}),p=new B({props:{class:"lrg",item:t[1](t[0],"Shield")}}),g=new B({props:{class:"sml",item:t[1](t[0],"Ring")}}),v=new B({props:{class:"med",item:t[1](t[0],"Boots")}}),T=new B({props:{class:"sml",item:t[1](t[0],"Rune")}}),{c(){e=S("div"),y(n.$$.fragment),l=A(),y(r.$$.fragment),i=A(),y(a.$$.fragment),f=A(),y(s.$$.fragment),$=A(),y(u.$$.fragment),m=A(),y(p.$$.fragment),o=A(),y(g.$$.fragment),_=A(),y(v.$$.fragment),F=A(),y(T.$$.fragment),h(e,"class","grid svelte-630zmj")},m(c,N){k(c,e,N),j(n,e,null),b(e,l),j(r,e,null),b(e,i),j(a,e,null),b(e,f),j(s,e,null),b(e,$),j(u,e,null),b(e,m),j(p,e,null),b(e,o),j(g,e,null),b(e,_),j(v,e,null),b(e,F),j(T,e,null),L=!0},p(c,[N]){let ue={};N&1&&(ue.item=c[1](c[0],"Gloves")),n.$set(ue);let ce={};N&1&&(ce.item=c[1](c[0],"Helmet")),r.$set(ce);let pe={};N&1&&(pe.item=c[1](c[0],"Amulet")),a.$set(pe);let _e={};N&1&&(_e.item=c[1](c[0],"Weapon")),s.$set(_e);let ge={};N&1&&(ge.item=c[1](c[0],"Armor")),u.$set(ge);let de={};N&1&&(de.item=c[1](c[0],"Shield")),p.$set(de);let he={};N&1&&(he.item=c[1](c[0],"Ring")),g.$set(he);let $e={};N&1&&($e.item=c[1](c[0],"Boots")),v.$set($e);let ve={};N&1&&(ve.item=c[1](c[0],"Rune")),T.$set(ve)},i(c){L||(q(n.$$.fragment,c),q(r.$$.fragment,c),q(a.$$.fragment,c),q(s.$$.fragment,c),q(u.$$.fragment,c),q(p.$$.fragment,c),q(g.$$.fragment,c),q(v.$$.fragment,c),q(T.$$.fragment,c),L=!0)},o(c){C(n.$$.fragment,c),C(r.$$.fragment,c),C(a.$$.fragment,c),C(s.$$.fragment,c),C(u.$$.fragment,c),C(p.$$.fragment,c),C(g.$$.fragment,c),C(v.$$.fragment,c),C(T.$$.fragment,c),L=!1},d(c){c&&w(e),I(n),I(r),I(a),I(s),I(u),I(p),I(g),I(v),I(T)}}}function ut(t,e,n){let{equipment:l=0}=e,r=(i,a)=>i&&i.find(f=>f.t===ke.indexOf(a));return t.$$set=i=>{"equipment"in i&&n(0,l=i.equipment)},[l,r]}var ie=class extends H{constructor(e){super(),E(this,e,ut,ft,R,{equipment:0})}},Je=ie;async function ae(t){let e=await qe({cmd:"profile",subcmd:"managecombatset",submit:"Use",combatSetId:t});return Pe(e)}function oe(t){return je({subcmd:"usecombatset",combatSetId:t})}function se(t){return ye(oe,ae,t)}function Oe(t,e,n){let l=t.slice();return l[8]=e[n].id,l[9]=e[n].name,l}function ct(t){return{c:d,m:d,p:d,i:d,o:d,d}}function pt(t){let e,n,l,r,i,a,f,s,$,u,m=t[1],p=[];for(let o=0;o<m.length;o+=1)p[o]=Ke(Oe(t,m,o));return f=new Je({props:{equipment:t[0]}}),{c(){e=S("div"),n=S("div"),l=S("div"),r=U(`Inventory
        `),i=S("select");for(let o=0;o<p.length;o+=1)p[o].c();a=A(),y(f.$$.fragment),h(i,"class","svelte-wrxyiv"),t[2]===void 0&&Q(()=>t[5].call(i)),h(l,"class","flex svelte-wrxyiv"),h(n,"class","innerColumnHeader svelte-wrxyiv")},m(o,g){k(o,e,g),b(e,n),b(n,l),b(l,r),b(l,i);for(let _=0;_<p.length;_+=1)p[_].m(i,null);W(i,t[2]),b(e,a),j(f,e,null),s=!0,$||(u=[V(i,"change",t[5]),V(i,"change",t[4])],$=!0)},p(o,g){if(g&2){m=o[1];let v;for(v=0;v<m.length;v+=1){let F=Oe(o,m,v);p[v]?p[v].p(F,g):(p[v]=Ke(F),p[v].c(),p[v].m(i,null))}for(;v<p.length;v+=1)p[v].d(1);p.length=m.length}g&6&&W(i,o[2]);let _={};g&1&&(_.equipment=o[0]),f.$set(_)},i(o){s||(q(f.$$.fragment,o),s=!0)},o(o){C(f.$$.fragment,o),s=!1},d(o){o&&w(e),D(p,o),I(f),$=!1,O(u)}}}function Ke(t){let e,n=t[9]+"",l,r;return{c(){e=S("option"),l=U(n),e.__value=r=t[8],e.value=e.__value},m(i,a){k(i,e,a),b(e,l)},p(i,a){a&2&&n!==(n=i[9]+"")&&M(l,n),a&2&&r!==(r=i[8])&&(e.__value=r,e.value=e.__value)},d(i){i&&w(e)}}}function _t(t){return{c:d,m:d,p:d,i:d,o:d,d}}function gt(t){let e,n,l,r={ctx:t,current:null,token:null,hasCatch:!1,pending:_t,then:pt,catch:ct,blocks:[,,,]};return X(n=t[3](),r),{c(){e=J(),r.block.c()},m(i,a){k(i,e,a),r.block.m(i,r.anchor=a),r.mount=()=>e.parentNode,r.anchor=e,l=!0},p(i,[a]){t=i,Y(r,t,a)},i(i){l||(q(r.block),l=!0)},o(i){for(let a=0;a<3;a+=1){let f=r.blocks[a];C(f)}l=!1},d(i){i&&w(e),r.block.d(i),r.token=null,r=null}}}function dt(t,e,n){let l=0,r=0,i=0,a=({a:m})=>l.some(({a:p})=>p===m),f=({items:m})=>m.every(a);async function s(){let[m,p]=await Ce([Ie(),Ee()]);n(0,l=m.r.equipment);let o=p.r.find(f);n(2,i=o?.id??-1),n(1,r=[...o?[]:[{id:-1,name:"Primary",items:l}],...p.r])}async function $(){await se(i),n(0,l=r.find(({id:m})=>m===i).items)}function u(){i=K(this),n(2,i),n(1,r)}return[l,r,i,s,$,u]}var me=class extends H{constructor(e){super(),E(this,e,dt,gt,R,{})}},Qe=me;function ht(t){let e,n,l,r;return e=new ze({}),l=new Qe({}),{c(){y(e.$$.fragment),n=A(),y(l.$$.fragment)},m(i,a){j(e,i,a),k(i,n,a),j(l,i,a),r=!0},p:d,i(i){r||(q(e.$$.fragment,i),q(l.$$.fragment,i),r=!0)},o(i){C(e.$$.fragment,i),C(l.$$.fragment,i),r=!1},d(i){I(e,i),i&&w(n),I(l,i)}}}var fe=class extends H{constructor(e){super(),E(this,e,null,ht,R,{})}},Xe=fe;function $t(t){return new t({target:Se})}function vt(){be("arenaTypeTabs")?Be():(He(),$t(Xe))}export{vt as default};
//# sourceMappingURL=arenaJoin-N5PGVJT4.js.map
