import{a as K}from"./chunk-MGVD4FQ4.js";import{a as M}from"./chunk-6IZG63VO.js";import"./chunk-B35BPAFW.js";import"./chunk-KRQZUYAA.js";import{a as bt}from"./chunk-EJYNHLOT.js";import{a as H}from"./chunk-CUOXRVBB.js";import"./chunk-7F6UET6H.js";import"./chunk-THHO4RFC.js";import{$ as q,A as N,D as G,E as J,K as dt,M as $t,O as _t,P as gt,Q as ht,R as g,S as h,Y as kt,Z as P,_ as F,a as ft,aa as St,ba as vt,d as ut,p as b,q as p,r as d,s as mt,t as T,u as y,v as E,x as pt}from"./chunk-BNPFZHGS.js";import"./chunk-XISFQ2VF.js";import{a as j}from"./chunk-ZUVZVCQ4.js";import"./chunk-QVH3QICI.js";import{a as rt}from"./chunk-DRXOYIKT.js";import"./chunk-A4AXMI4N.js";import"./chunk-I5C5UCLL.js";import{a as D}from"./chunk-RPABO2SK.js";import"./chunk-F5LTWK46.js";import{a as U}from"./chunk-3FI2HRMQ.js";import"./chunk-TTKNE24C.js";import{a as at}from"./chunk-HX4UZBSJ.js";import"./chunk-DPMIXN5L.js";import"./chunk-BH2HHYW5.js";import"./chunk-RNWAALFB.js";import"./chunk-ZGDP3UEU.js";import"./chunk-HQE3XUSR.js";import"./chunk-VPVOZ3TL.js";import{b as lt}from"./chunk-5YL45SUV.js";import{a as st}from"./chunk-T5HQ7FPX.js";import"./chunk-SON5T5EI.js";import"./chunk-CQJA6XZZ.js";import{a as C}from"./chunk-J55DBM2B.js";import"./chunk-YXCGOJCF.js";import"./chunk-GQZRPO65.js";import{a as it,b as O}from"./chunk-IRX7VNA6.js";import"./chunk-ZOSLBUG4.js";import"./chunk-INHQR3KU.js";import{a as ct}from"./chunk-O5WVQXEQ.js";import"./chunk-KIM4IHFF.js";import"./chunk-AQ577ZPT.js";function yt(t,e,n){let s=t.slice();return s[12]=e[n][0],s[13]=e[n][1],s}function qt(t){let e;return{c(){e=y("All Items")},m(n,s){p(n,e,s)},d(n){n&&d(e)}}}function Bt(t){let e;return{c(){e=y("All Resources")},m(n,s){p(n,e,s)},d(n){n&&d(e)}}}function Lt(t){let e=t[12]+"",n;return{c(){n=y(e)},m(s,f){p(s,n,f)},p:ft,d(s){s&&d(n)}}}function It(t){let e,n,s;function f(){return t[8](t[13])}return e=new H({props:{$$slots:{default:[Lt]},$$scope:{ctx:t}}}),e.$on("click",f),{c(){P(e.$$.fragment),n=E()},m(i,$){F(e,i,$),p(i,n,$),s=!0},p(i,$){t=i;let u={};$&65536&&(u.$$scope={dirty:$,ctx:t}),e.$set(u)},i(i){s||(g(e.$$.fragment,i),s=!0)},o(i){h(e.$$.fragment,i),s=!1},d(i){q(e,i),i&&d(n)}}}function Qt(t){let e;return{c(){e=y("Perfect")},m(n,s){p(n,e,s)},d(n){n&&d(e)}}}function At(t){let e,n,s,f,i,$,u,_,B,k,m,L,Q,S,c,A,V,z,Z;s=new H({props:{$$slots:{default:[qt]},$$scope:{ctx:t}}}),s.$on("click",t[6]),i=new H({props:{$$slots:{default:[Bt]},$$scope:{ctx:t}}}),i.$on("click",t[7]);let v=t[2](),l=[];for(let o=0;o<v.length;o+=1)l[o]=It(yt(t,v,o));let Pt=o=>h(l[o],1,1,()=>{l[o]=null});function Ft(o){t[10](o)}let x={};return t[1]!==void 0&&(x.inSt=t[1]),m=new bt({props:x}),$t.push(()=>kt(m,"inSt",Ft)),m.$on("toggle",t[5]),c=new H({props:{$$slots:{default:[Qt]},$$scope:{ctx:t}}}),c.$on("click",t[4]),{c(){e=T("div"),n=y(`Select:
  `),P(s.$$.fragment),f=E(),P(i.$$.fragment),$=E();for(let o=0;o<l.length;o+=1)l[o].c();u=y("How many:"),_=T("input"),B=E(),k=T("div"),P(m.$$.fragment),Q=E(),S=T("div"),A=T("div"),P(c.$$.fragment),N(_,"class","custominput svelte-110my18"),N(_,"type","text"),N(e,"class","quickSelect svelte-110my18"),N(k,"class","svelte-110my18"),J(A,"display","contents"),J(A,"--button-color","blue"),N(S,"class","svelte-110my18")},m(o,r){p(o,e,r),b(e,n),F(s,e,null),b(e,f),F(i,e,null),b(e,$);for(let w=0;w<l.length;w+=1)l[w].m(e,null);b(e,u),b(e,_),G(_,t[0]),p(o,B,r),p(o,k,r),F(m,k,null),p(o,Q,r),p(o,S,r),b(S,A),F(c,A,null),V=!0,z||(Z=pt(_,"input",t[9]),z=!0)},p(o,[r]){let w={};r&65536&&(w.$$scope={dirty:r,ctx:o}),s.$set(w);let tt={};if(r&65536&&(tt.$$scope={dirty:r,ctx:o}),i.$set(tt),r&12){v=o[2]();let a;for(a=0;a<v.length;a+=1){let ot=yt(o,v,a);l[a]?(l[a].p(ot,r),g(l[a],1)):(l[a]=It(ot),l[a].c(),g(l[a],1),l[a].m(e,u))}for(gt(),a=v.length;a<l.length;a+=1)Pt(a);ht()}r&1&&_.value!==o[0]&&G(_,o[0]);let et={};!L&&r&2&&(L=!0,et.inSt=o[1],_t(()=>L=!1)),m.$set(et);let nt={};r&65536&&(nt.$$scope={dirty:r,ctx:o}),c.$set(nt)},i(o){if(!V){g(s.$$.fragment,o),g(i.$$.fragment,o);for(let r=0;r<v.length;r+=1)g(l[r]);g(m.$$.fragment,o),g(c.$$.fragment,o),V=!0}},o(o){h(s.$$.fragment,o),h(i.$$.fragment,o),l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)h(l[r]);h(m.$$.fragment,o),h(c.$$.fragment,o),V=!1},d(o){o&&d(e),q(s),q(i),mt(l,o),o&&d(B),o&&d(k),q(m),o&&d(Q),o&&d(S),q(c),z=!1,Z()}}}function Dt(t,e,n){let s=dt(),f="all",i=O("selectST");function $(){let c=O("sendClasses");return K(c)||K(it.sendClasses)}function u(c){s("select",[c,f,i])}function _(){s("perf",[f,i])}function B(){D("ahQuickCreate","toggleSelectST")}let k=()=>u("-1"),m=()=>u("-2"),L=c=>u(c);function Q(){f=this.value,n(0,f)}function S(c){i=c,n(1,i)}return[f,i,$,u,_,B,k,m,L,Q,S]}var W=class extends vt{constructor(e){super(),St(this,e,Dt,At,ut,{})}},wt=W;async function R(t,e){let n=await Promise.all(t.map(e));return t.filter((s,f)=>n[f])}async function X(t,e){for(let n of t)if(await e(n))return!0;return!1}function I(t){return t.id.split("-")[2]}function Ct(t,e){let[n]=e.children[0].children;t.items[I(n)].is_in_st&&(n.style.backgroundColor="rgba(255,0,0,0.3)")}function Ht(t,e){e.filter(n=>n.addedNodes?.[0]?.tagName==="DIV").forEach(n=>{Ct(t,n.addedNodes[0])})}function Y(t){let e=st("auction-items");ct(e.children).forEach(C(Ct,t)),new MutationObserver(C(Ht,t)).observe(e,{childList:!0})}function Mt(){return new wt({target:lt})}var Rt=t=>t.parentNode.parentNode.dataset.tipped,Vt=t=>Rt(t).split("?")[1],jt=t=>rt(Vt(t),"item_id"),Tt=t=>at(Number(t))?1/0:Number(t),zt=async t=>(await M()).items[I(t)].type,Ot=async t=>await zt(t)===12,Ut=async t=>(await M()).items[I(t)].craft,Gt=async t=>await Ut(t)==="Perfect",Jt=[t=>t==="-1",(t,e)=>jt(e)===t,(t,e)=>t==="-2"&&Ot(e)],Kt=async(t,e,n)=>Boolean(await n(t,e)),Wt=(t,e)=>X(Jt,C(Kt,t,e)),Xt=async(t,e)=>Boolean(await Wt(t,e)),Yt=(t,e)=>R(e,C(Xt,t)),Zt=async t=>!(await M()).items[I(t)].is_in_st,Et=(t,e)=>t?e:R(e,Zt);async function xt([t,e,n],s){(await Yt(t,await Et(n,s))).slice(0,Tt(e)).forEach(j)}function Nt(t,e){let n=U("#auction-items .selectable-item");n.length&&(U("#auction-items .auction-create-selected div").forEach(j),e(t.detail,n))}function te(t){D("ahQuickCreate","Select Filter"),Nt(t,xt)}async function ee([t,e],n){(await R(await Et(e,n),Gt)).slice(0,Tt(t)).forEach(j)}function ne(t){D("ahQuickCreate","Perfect Filter"),Nt(t,ee)}async function oe(){let t=await M(),e=Mt();e.$on("select",te),e.$on("perf",ne),t.items.fshHasST&&Y(t)}export{oe as default};
//# sourceMappingURL=quickCreate-XUSKBMQW.js.map
