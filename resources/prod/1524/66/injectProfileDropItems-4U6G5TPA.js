import{a as ye}from"./chunk-7AXFB45L.js";import{a as de,b as he,e as ve,f as _e}from"./chunk-3THWWFNP.js";import"./chunk-5GPZVUH5.js";import"./chunk-4MXLGWYV.js";import"./chunk-VKHN5KA6.js";import"./chunk-YAWZ5Z3S.js";import"./chunk-LBFCILOF.js";import{a as j}from"./chunk-QYKTX7K2.js";import{a as ue}from"./chunk-42ERUKKF.js";import"./chunk-4ANIW5ET.js";import"./chunk-H3M42MG7.js";import"./chunk-DM5NY3YK.js";import{a as x}from"./chunk-JYJDUK7M.js";import"./chunk-YJVBIGD3.js";import{a as te}from"./chunk-EVGFM7BF.js";import"./chunk-5ENNWELG.js";import"./chunk-M4E3GUBN.js";import"./chunk-2OMMRFOM.js";import"./chunk-WPQM6NGY.js";import"./chunk-2DWXCWIM.js";import"./chunk-CQHRZYSX.js";import{B as se,E as B,F as ie,I as fe,L as le,Y as ce,Z as pe,a as M,b as oe,d as re,o as p,p as q,q as H,r as ne,s as u,t as me,u as w,w as R,z as y}from"./chunk-4MM6RLJ7.js";import{a as ae}from"./chunk-ONFGX27P.js";import"./chunk-DW3F3SWU.js";import"./chunk-JBC4S2VY.js";import"./chunk-E4LGDQH2.js";import"./chunk-HMVU6YYT.js";import"./chunk-YZ2VIXA6.js";import"./chunk-C4L2DL62.js";import"./chunk-7DWVT37O.js";import"./chunk-MED54ICD.js";import"./chunk-IRVI43RT.js";import{a as _}from"./chunk-AMIV6VU6.js";import{a as O}from"./chunk-CAKCK4NI.js";import{a as $}from"./chunk-CQI4LTJC.js";import{a as ee}from"./chunk-DREXNAOH.js";import"./chunk-S4JGXK5I.js";import{a as T}from"./chunk-7E37LMAT.js";import{a as Y}from"./chunk-XK7P3DIR.js";import"./chunk-7PBYWO3D.js";import"./chunk-SGJW3QOZ.js";import{f as F}from"./chunk-HLZQULI6.js";import{a as Z}from"./chunk-H3CO5HSE.js";import{a as C}from"./chunk-ODQJYK6Y.js";import"./chunk-SMGTENZD.js";import"./chunk-XFT6LK7P.js";import"./chunk-EVSMFORE.js";import"./chunk-7XP2MRVG.js";import"./chunk-DO7SCVXY.js";import"./chunk-HNI63WVA.js";import"./chunk-KE767BLN.js";import"./chunk-TUVTWIHM.js";import{a as U}from"./chunk-4ATHPVF4.js";import"./chunk-RTMHI3L7.js";import{a as A}from"./chunk-TYMQPSI2.js";import"./chunk-ONCZ3D52.js";import"./chunk-ER7X2LNC.js";import{a as W}from"./chunk-JZHGPOOI.js";import"./chunk-TUVTX7TQ.js";import"./chunk-IWE7LPGP.js";import"./chunk-SBFBOIF5.js";import"./chunk-VWFYI5BK.js";import"./chunk-QVWAWWED.js";import"./chunk-4QNYZHAB.js";import"./chunk-PYHGZC4L.js";import"./chunk-D76XH5RX.js";import{a as K}from"./chunk-MA3AC62H.js";import"./chunk-IWF73C7V.js";import"./chunk-YJHKALOE.js";import"./chunk-ZMMQFEZR.js";import"./chunk-DTSXLBNB.js";import"./chunk-NCV3HP3S.js";import"./chunk-YG74QOJP.js";import{b as N}from"./chunk-STY5NEH4.js";import"./chunk-M7Q5FD7X.js";import{a as S}from"./chunk-K2U7JEMX.js";import"./chunk-PUAVFQTB.js";import"./chunk-OHKPSLFK.js";import"./chunk-EJREXK3Y.js";function ge(e,t,o){let s=e.slice();return s[7]=t[o],s}function be(e){let t,o=e[3](e[7])+"",s,f;return{c(){t=u("option"),s=me(o),t.__value=f=e[2](e[7]),t.value=t.__value},m(r,l){q(r,t,l),p(t,s)},p(r,l){l&1&&o!==(o=r[3](r[7])+"")&&se(s,o),l&1&&f!==(f=r[2](r[7]))&&(t.__value=f,t.value=t.__value)},d(r){r&&H(t)}}}function we(e){let t,o,s,f,r,l,h,k,a,c,z,d=e[0],i=[];for(let n=0;n<d.length;n+=1)i[n]=be(ge(e,d,n));return{c(){t=u("tr"),o=u("td"),s=u("span"),s.textContent="Move selected items to:",f=w(),r=u("select");for(let n=0;n<i.length;n+=1)i[n].c();l=w(),h=u("span"),h.textContent="\xA0",k=w(),a=u("button"),a.textContent="Move",y(r,"class","customselect"),e[1]===void 0&&le(()=>e[5].call(r)),y(a,"class","custombutton"),y(a,"type","button"),y(o,"class","fshCenter")},m(n,v){q(n,t,v),p(t,o),p(o,s),p(o,f),p(o,r);for(let m=0;m<i.length;m+=1)i[m].m(r,null);B(r,e[1]),p(o,l),p(o,h),p(o,k),p(o,a),c||(z=[R(r,"change",e[5]),R(a,"click",e[4])],c=!0)},p(n,[v]){if(v&13){d=n[0];let m;for(m=0;m<d.length;m+=1){let G=ge(n,d,m);i[m]?i[m].p(G,v):(i[m]=be(G),i[m].c(),i[m].m(r,null))}for(;m<i.length;m+=1)i[m].d(1);i.length=d.length}v&7&&B(r,n[1])},i:M,o:M,d(n){n&&H(t),ne(i,n),c=!1,oe(z)}}}function xe(e,t,o){let s=fe(),{folders:f}=t,r,l=c=>c.parentNode.href.match(/&folder_id=(-?\d+)/i)[1],h=c=>U(c.parentNode.parentNode);function k(){_("dropitems","Move to Folder"),s("move",r)}function a(){r=ie(this),o(1,r),o(2,l),o(0,f)}return e.$$set=c=>{"folders"in c&&o(0,f=c.folders)},[f,r,l,h,k,a]}var De=class extends pe{constructor(t){super();ce(this,t,xe,we,re,{folders:0})}},Ie=De;function V(e,t){return ye(t,e).then(()=>({r:t}))}function J(e,t){return ee({cmd:"profile",subcmd:"sendtofolder",folder_id:e,folderItem:t})}function L(e,t){return $(J,V,e,t)}function g(){return C('[name="removeIndex[]"]:checked')}function b(e){let t=x(e);t.nextElementSibling.remove(),t.remove()}async function je(e,t){(await L(e,t.map(s=>s.value))).s&&t.forEach(b)}function Pe(e){j(30,g()).forEach(K(je,e.detail))}function Q(){let e=C('#pCC img[src$="/folder.png"]');if(e.length===0)return;let t=x(ue(e[0]));new Ie({anchor:t.nextElementSibling,props:{folders:e},target:t.parentNode}).$on("move",Pe)}function Ee(e){he().forEach(t=>{t.checked=Boolean(e)})}var P="ajaxifyDestroy",E="disableDestroyPrompts",D,I,ke;async function Se(e){let t=await ve(e.map(o=>o.value));te(t),!!t.s&&e.forEach(b)}function Ne(e){!e.returnValue||!D||(e.preventDefault(),j(30,g()).forEach(Se),_("dropitems","Destroy by AJAX"))}function Te(){return _("dropitems","Destroy without prompts"),!0}function Ce(){window.confirmDestroy=I?Te:ke}function Ae(){I=N(E),ke=window.confirmDestroy,Ce()}function Fe(){D=!D,A(P,D)}function Me(){I=!I,A(E,I),Ce()}var qe=()=>Y([[T(P),Fe],[T(E),Me]]);function He(){let e=Z('input[type="submit"]');O(e.parentNode,`&nbsp;&nbsp;${F(P)}&nbsp;&nbsp;${F(E)}`),S(e.parentNode,"change",qe())}function X(){He(),Ae(),D=N(P),S(document.forms[0],"submit",Ne),window.check=Ee}var Re=[Q,_e,X];function Be(){W()||!de()||ae(Re)}export{Be as default};
//# sourceMappingURL=injectProfileDropItems-4U6G5TPA.js.map
