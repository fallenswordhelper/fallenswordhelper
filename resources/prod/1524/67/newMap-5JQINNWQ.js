import{a as Fi,b as Oi}from"./chunk-MQY3QG7H.js";import{a as Ki}from"./chunk-LVSRMGPC.js";import"./chunk-A6CMXDOJ.js";import{a as _i}from"./chunk-DJSSVARO.js";import{a as Ri}from"./chunk-7XC7H6RF.js";import{a as bt}from"./chunk-6MW4E72Z.js";import{a as Ii,b as Pi}from"./chunk-6WQCNSAU.js";import{a as $i}from"./chunk-5TKHVRM7.js";import{b as Ei}from"./chunk-SGLRGPER.js";import{a as Mi}from"./chunk-QTN3B4PX.js";import{a as I}from"./chunk-E4WYAPBJ.js";import{a as Ce,b as Et}from"./chunk-WATSSAMP.js";import"./chunk-OMLB537C.js";import{a as Ti,b as Ni}from"./chunk-2USRV5J2.js";import{a as Hi}from"./chunk-LBZC3AZC.js";import{a as Y}from"./chunk-MB46LEPM.js";import{a as bi}from"./chunk-NIPXNRB7.js";import{a as Gi}from"./chunk-LR3KBWZB.js";import{a as Vi}from"./chunk-LAXIUOOL.js";import"./chunk-2R7CKV7Q.js";import{a as wi,b as Ci}from"./chunk-SVLPODC2.js";import{a as Bi}from"./chunk-KJBIFLFR.js";import{a as Lt}from"./chunk-7CUXENXQ.js";import{a as St}from"./chunk-L37IMG4Y.js";import{a as xi}from"./chunk-VKLKLU7U.js";import"./chunk-CX6XSC6N.js";import"./chunk-Z4DKK5CW.js";import{a as ki}from"./chunk-JUJOOGTY.js";import{a as ui}from"./chunk-KU37HGPS.js";import{a as si}from"./chunk-63BSU6BH.js";import{a as ii}from"./chunk-CVRYQVCL.js";import"./chunk-MASGDQW6.js";import{a as kt}from"./chunk-ADODKMOJ.js";import{a as h}from"./chunk-EFNZZWVY.js";import"./chunk-BRQHWDSF.js";import{B as Ct,D as pi,R as ur,S as hi,Y as gi,Z as vi,a as wt,d as ci,e as sr,o as k,p as ae,q as le,r as mi,s as S,t as ke,u as we,v as di,z as L}from"./chunk-GQICR5FI.js";import"./chunk-BGHYXCTD.js";import{a as yi}from"./chunk-SUWGTJAK.js";import{a as cr}from"./chunk-VPEGULTG.js";import{a as Di}from"./chunk-KDW6O7F3.js";import"./chunk-R6ZQTMWR.js";import{a as p}from"./chunk-TGAACOKW.js";import{a as fr}from"./chunk-F4MAHORE.js";import{a as Bt}from"./chunk-FBVFH3Q5.js";import{a as Ai,b as Li,c as Si}from"./chunk-IBHHVPCI.js";import"./chunk-T72LSAK3.js";import{a as Ke}from"./chunk-GWTIQQMM.js";import{a as Sn}from"./chunk-O3HE4BLN.js";import{a as ai}from"./chunk-VWHMT5TQ.js";import"./chunk-7S52F6G2.js";import"./chunk-73QAIZKM.js";import{a as Xn}from"./chunk-RKFUGC6E.js";import"./chunk-AEFPVUQR.js";import"./chunk-YSGDS4H5.js";import{a as li}from"./chunk-EL2KYGGK.js";import{a as xe}from"./chunk-QPL4UDOG.js";import{a as At}from"./chunk-VLOJXVBO.js";import{a as re}from"./chunk-26JISGFW.js";import{a as De}from"./chunk-P5WXMFOM.js";import{a as fi}from"./chunk-N2VZWPJP.js";import"./chunk-QDHLPZKT.js";import"./chunk-INFCFROH.js";import{a as f}from"./chunk-MPKWYN54.js";import{a as m}from"./chunk-ZXNRU5Y3.js";import{a as i}from"./chunk-OWY2Q2GJ.js";import"./chunk-3S466L2P.js";import{a as lr}from"./chunk-4C4OOPJF.js";import"./chunk-NZVYRFHL.js";import{a as R}from"./chunk-HORLN2G6.js";import{a as Qn}from"./chunk-LZOEHEPU.js";import{a as Zn}from"./chunk-77ENHOPZ.js";import"./chunk-7YKL7AQP.js";import{f as ie}from"./chunk-G4OVHIBK.js";import{a as xt}from"./chunk-7QWFOD3X.js";import"./chunk-MEB43QPQ.js";import{a as ye}from"./chunk-QWSDLB5G.js";import{a as gt}from"./chunk-FJBSYG3T.js";import{a as jn}from"./chunk-WZMCOCZ3.js";import{a as oe}from"./chunk-PGXMNMPQ.js";import{a as ge}from"./chunk-FV22T2G6.js";import"./chunk-TEYDVMII.js";import{a as ri}from"./chunk-URZ6G3T3.js";import{a as oi}from"./chunk-IFFNUHS4.js";import"./chunk-YLOJQ3K3.js";import{a as ni}from"./chunk-7AGW2MW4.js";import"./chunk-A667SZ24.js";import"./chunk-NTEMJNYZ.js";import"./chunk-N3YOZZB2.js";import{a as U}from"./chunk-4C3N6WGV.js";import{a as ne}from"./chunk-MIOWB4UH.js";import{a as pt,b as ar}from"./chunk-LUOJJ6W7.js";import"./chunk-MCIAXMHF.js";import{a as ei}from"./chunk-FDW632OT.js";import{a as Jn}from"./chunk-PUGPLE52.js";import"./chunk-4PSUCBRT.js";import{a as y}from"./chunk-3NPR3CPY.js";import"./chunk-DF3664XK.js";import"./chunk-O4HYZYL5.js";import{a as z}from"./chunk-WRRYWMWJ.js";import{a as Oe}from"./chunk-SWRTRF44.js";import{a as w}from"./chunk-NM6GCAWC.js";import{a}from"./chunk-THKPSV6M.js";import{a as ti}from"./chunk-R5BSABBG.js";import{a as W}from"./chunk-L4DDZPXD.js";import"./chunk-H4BEXNKD.js";import"./chunk-TBVC64JY.js";import{a as u}from"./chunk-PCBO3IJC.js";import{a as yt,b as Dt}from"./chunk-3DZI6Z43.js";import"./chunk-JPOUNVF7.js";import{a as dt}from"./chunk-UFBUSQTS.js";import"./chunk-M4ZGL2LG.js";import"./chunk-BH7UVVMX.js";import{a as vt}from"./chunk-RUZIZ442.js";import{a as B}from"./chunk-JDVPJYUH.js";import{b as g}from"./chunk-EGK63SHX.js";import{a as Yn}from"./chunk-6FME2ZRC.js";import{a as G}from"./chunk-7EGIQ5LI.js";import{a as ve}from"./chunk-S4JH4JN6.js";import{a as ht}from"./chunk-CHZ553KP.js";import{$ as Tn,Aa as Kn,Ba as qn,Ca as Wn,Da as Un,Ea as zn,K as nr,N as bn,Na as mt,P as ir,X as Mn,Y as he,Z as st,_ as Hn,aa as Vn,b as te,ba as Nn,ca as Gn,da as $n,e as ft,ea as Rn,fa as In,ga as ut,ha as Pn,ia as _n,ja as Fn,k as pe,la as On,ma as q,na as ct,oa as b,p as or,x as En}from"./chunk-ZBCNB5YM.js";import{a as n}from"./chunk-UMUEY5TB.js";var fe;function ml(e){return e}function dl(e){return n.showBuffInfo&&e.some(ml)}function pl(){if(fe)h(fe,!1);else{fe=m({className:"fshActionBox",innerHTML:"<div></div><div></div><div></div><div></div><div></div><div></div>"});let e=a("actionContainer");ki(fe,e.children[2])}return fe}function hl(){fe&&h(fe,!0)}function mr(e){if(dl(e))return pl();hl()}var P,dr;function gl(e){P=e.children[3],P.className="fshBlue",f("CA ",P),dr=p(),i(P,dr),I(P," active")}function vl(e,t){P?h(P,!1):gl(e),f(t.level,dr)}function yl(){P&&h(P,!0)}function pr(e,t){t?vl(e,t):yl()}var _,hr;function Dl(e){_=e.children[4],_.className="fshRed",f("Doubler ",_),hr=p(),i(_,hr),I(_," active")}function xl(e,t){_?h(_,!1):Dl(e),f(t.level,hr)}function kl(){_&&h(_,!0)}function gr(e,t){t?xl(e,t):kl()}var Q,vr;function wl(e){Q=e.children[2],f("Damage bonus: ",Q),vr=p(),i(Q,vr),I(Q,"%")}function Cl(e,t){if(e){let r=Math.min(Math.round(Math.floor(t/5)*Number(e.level))*.01,20);return Ce(r,2).toString()}return"0"}function Bl(e,t,r){Q?h(Q,!1):wl(e),f(Cl(t,Number(r)),vr)}function Al(){Q&&h(Q,!0)}function yr(e,t,r){t?Bl(e,t,r):Al()}function d(e,t){f(z(e),t)}var se,Dr;function Ll(e){se=e.children[1],f("Kill Streak: ",se),Dr=p(),i(se,Dr)}function Sl(e,t){se?h(se,!1):Ll(e),d(t,Dr)}function El(){se&&h(se,!0)}function xr(e,t,r,o){t||r?Sl(e,o):El()}function bl(e,t){return t.name===e}function X(e){let{buffs:t}=GameData.player();if(t)return t.find(u(bl,e))}function kr(){let e=GameData.player().teleportCooldown;return e>1&&e}var Ml=["red","orange","yellow"];function wr(){let e=$("#actionlist-shield-imp");e.length===1&&e.css("background-color",Ml[e.text()]||"#ad8043")}var T,Cr;function Hl(e){Oi(e)&&GameData.fetch(q)}function Tl(){X("Summon Shield Imp")||Fi([xt()],[55]).then(Hl)}function Vl(e){return e?Number(e.stack):0}var Nl=["imp-0","imp-1","imp-1"];function Gl(e){return Nl[e]||"fshGreen"}function $l(e){T=e.children[0],f("Shield Imps Remaining: ",T),Cr=p(),i(T,Cr),re(T,"&nbsp;");let t=p({className:"xSmallLink",textContent:"Recast"});i(T,t),B(t,Tl)}function Rl(e,t){T?h(T,!1):$l(e);let r=Vl(t);T.className=Gl(r),f(r,Cr)}function Il(){T&&h(T,!0)}function Br(e,t,r){t||r?Rl(e,t):Il()}function Pl(e){return e.type===0}function Ar(){let{dynamic:e}=GameData.realm();return R(e)&&e.some(Pl)}function x(e){return p({textContent:e})}var ue,Mt,qi;function _l(e,t){ue=e.children[5],f("Teleport Cooldown: ",ue),Mt=x(t.toString()),i(ue,Mt)}function Fl(e,t){ue?h(ue,!1):_l(e,t)}function Ol(){ue&&h(ue,!0)}function Wi(){let e=Math.max(Math.ceil((qi-Date.now())/1e3),0);f(e,Mt),e>0&&setTimeout(Wi,500)}function Ui(e){Mt&&(qi=Date.now()+e*1e3,Wi())}function zi(e,t){t?Fl(e,t):Ol()}var qe,Lr,Sr,Er,br,Mr,Hr;function Kl(){qe=X("Death Dealer"),Lr=X("Doubler"),Sr=X("Counter Attack"),Er=X("Summon Shield Imp"),br=kr(),Mr=Ar(),Hr=GameData.player().killStreak}function Tr(){wr(),Kl();let e=mr([qe,Lr,Sr,Er,br,Mr]);e&&(Br(e,Er,qe),xr(e,qe,Mr,Hr),yr(e,qe,Hr),pr(e,Sr),gr(e,Lr),zi(e,br))}function ql(e,t){Ui(t.player.teleportCooldown)}function Yi(){Tr(),$.subscribe(`${st} ${Hn}`,Tr),$.subscribe(Fn,ql)}function Qi(){n.showBuffInfo=!n.showBuffInfo,y("showBuffInfo",n.showBuffInfo),Tr()}function Wl(){return window.GameController&&GameController.Realm&&!GameController.Realm.footprintTileList}function Vr(){Wl()&&(GameController.Realm.footprintTileList=[])}function Xi(e,t,r){return si({className:`fshCurveEle fshCurveLbl fshPoint tip-static ${e}`,dataset:{tipped:t},htmlFor:r})}function Ht(e){let t=m({className:"fshToggle"}),r=kt({checked:e.prefVal,id:e.checkId,type:"checkbox"});i(t,r);let o=Xi(e.onClass,e.onTip,e.checkId);i(t,o);let l=Xi(e.offClass,e.offTip,e.checkId);return i(t,l),i(e.worldName,t),r}var J,Vt,Nt,Ji,ji,Zi,ea,ta,ra;function Ul(e){Ke(e),GameData.doAction(12,401,{},0)}function zl(){Di(ai())}function Yl(){window.open(`${bn+or}map`,"fsMap")}function Ql(){let e=GameData.realm();window.open(`${Mn}realms${or}view&realm_id=${e.id}`,"mapUfsg")}function Xl(){y("playNewMessageSound",!g("playNewMessageSound"))}function Jl(){n.huntingMode=!n.huntingMode,y("huntingMode",n.huntingMode)}function jl(){return m({className:"fshCurveContainer",id:"fshWorldButtonContainer"})}function oa(e){return e?e.toString():"?"}function Zl(){let e=m({textContent:"Min Lvl: "});return Vt=x(oa(GameData.realm().minlevel)),i(e,Vt),e}function ef(){let e=m({textContent:"Your Lvl: "});return Nt=x(oa(GameData.player().level)),i(e,Nt),e}function tf(e){let t=m({className:"fshFsty"});i(t,Zl()),i(t,ef()),i(e,t)}function Tt(e,t,r){let o=Y({className:`fshCurveEle fshCurveBtn fshPoint tip-static ${e}`,dataset:{tipped:t}});return i(r,o),o}function rf(e){tf(e),Ji=Tt("fshFormGroup","Quick Create Attack Group",e),ji=Tt("fshQuickBuff","Open Quick Buff Popup",e),Zi=Tt("fshRealmMap","Open Realm Map",e),ea=Tt("fshTempleOne","Search map in Ultimate FSG",e)}function of(e){if(g("showSpeakerOnWorld")){let t=g("playNewMessageSound");ta=Ht({prefVal:t,checkId:"fshSoundCheck",onClass:"soundOn",onTip:"Turn Off Sound when you have a new log message",offClass:"soundOff",offTip:"Turn On Sound when you have a new log message",worldName:e})}}function nf(e){let t=n.huntingMode;ra=Ht({prefVal:t,checkId:"fshHuntCheck",onClass:"huntOn",onTip:"Hunting mode is ON",offClass:"huntOff",offTip:"Hunting mode is OFF",worldName:e})}function af(){rf(J),of(J),nf(J)}var lf=[[e=>e===ta,Xl],[e=>e===ra,Jl]],ff=[[e=>e===Ji,Ul],[e=>e===ji,zl],[e=>e===Zi,Yl],[e=>e===ea,Ql]];function sf(){B(J,lr(ff)),G(J,"change",lr(lf))}function uf(){J||(J=jl(),af(),sf(),At(J,a("worldCoord")))}function cf(e,t){Vt&&t.b.minlevel&&(Vr(),f(t.b.minlevel,Vt))}function mf(e,t){Nt&&f(t.b,Nt)}function Nr(){uf(),$.subscribe($n,cf),$.subscribe(Tn,mf)}var df=["NORMAL","CHAMPION","ELITE","SUPER ELITE","TITAN","LEGENDARY"],pf=`url("${te}ui/world/icon_action_attack_`,Gt=!1;function Gr(e){return ye(".verb.attack",e)}function $r(e){let t=df.indexOf(e.toUpperCase());return gt(`#actionList .actionListItem.creature.creature-${t}`)}function hf(e){e.classList.remove("attack-1","attack-2","attack-3","attack-4","attack-5","attack-6","attack-7","attack-8"),e.style.backgroundImage=""}function gf(e,t){e!==null&&(e.classList.add(`attack-${t+1}`),e.style.backgroundImage=`${pf}${t+1}.png")`)}function na(e){let t=["LEGENDARY","NORMAL"].flatMap($r),r=$r("CHAMPION"),[o,l]=e?[t,r]:[r,t];o.map(Gr).filter(s=>s!==null).forEach(hf),l.slice(0,8).map(Gr).forEach(gf)}function vf(e){if(!e.altKey||!e.shiftKey||e.target.tagName==="INPUT"||e.target.tagName==="TEXTAREA"||(Gt||na(!0),Gt=!0,!e.code.match(/(Digit|Numpad)[1-8]/)))return;let t=$r("CHAMPION"),r=parseInt(e.code.slice(-1),10)-1;if(r<t.length){let o=Gr(t[r]);o!==null&&(xe("world","ChampionAttack"),o.click())}}function yf(e){Gt&&(!e.ctrlKey||!e.shiftKey)&&(Gt=!1,na(!1))}function Rr(){let{body:e}=document;G(e,"keydown",vf),G(e,"keyup",yf)}var Df=["Breaker","Protection","Master Thief","Protect Gold","Disarm","Duelist","Thievery","Master Blacksmith","Master Crafter","Fury Caster","Master Inventor","Sustain"],Ir=[],E;function xf(e){(e.id===54||e.id===26)&&(E.player.buffs[e.id]=parseInt(e.level,10))}function kf(e){Df.indexOf(e.name)===-1&&(E.player.enhancements[e.name]=e.value)}function wf(e){e.player.buffs&&e.player.buffs.forEach(xf)}function Cf(e){e.player.enhancements&&e.player.enhancements.forEach(kf)}function Bf(e,t){E={},E.combat=t.response.data,E.combat.inventory_id&&(E.combat.drop=E.combat.item.id),E.player={},E.player.buffs={},E.player.enhancements={},wf(t),Cf(t),E.time=t.time,Ir.push(E),Dt("fsh_combatLog",Ir)}function Af(e,t){t.response.response===0&&Bf(e,t)}function Lf(e){e&&(Ir=e),$.subscribe(ut,Af)}function Pr(){g("keepLogs")&&yt("fsh_combatLog").then(Lf)}function ce(e){return n.doNotKillList.includes(ge(e))}function Sf(e){e.classList.toggle("fshBlue",ce(Jn(e)))}function Be(){let e=a("actionList");vt("creature",e).forEach(Sf)}function Ef(e,t){if(ce(e))return a("actionList").children[t].children[0].children[1].classList.remove("loading"),!0}function bf(e){let t=GameData.actions()[e];if(t)return Ef(t.data.name,e)}function Mf(e){return function(r,o,l,s){bf(l.passback)||e(r,o,l,s)}}var Hf={2:Mf};function Tf(e){return Yn(e)||e===0}function Vf(e){return e&&dt(e)}function Nf(e){return function(r,o,l,s){let c=Hf[r];Vf(c)&&Tf(s)?c(e)(r,o,l,s):e(r,o,l,s)}}function _r(){let e=GameData.doAction;GameData.doAction=Nf(e)}function Fr(){$.subscribe(he,Be),Be(),_r()}function ia(e){e[1]=e[2].r.list}function aa(e,t,r){let o=e.slice();return o[3]=t[r],o[5]=r,o}function Gf(e){let t,r=e[6].message+"",o;return{c(){t=S("p"),o=ke(r),pi(t,"color","red")},m(l,s){ae(l,t,s),k(t,o)},p(l,s){s&1&&r!==(r=l[6].message+"")&&Ct(o,r)},d(l){l&&le(t)}}}function $f(e){ia(e);let t,r,o,l=e[1],s=[];for(let c=0;c<l.length;c+=1)s[c]=fa(aa(e,l,c));return{c(){t=S("table"),r=S("tr"),r.innerHTML=`<td class="header"></td> 
      <td class="header"></td> 
      <td class="header">Username</td> 
      <td class="header">Kills</td>`,o=we();for(let c=0;c<s.length;c+=1)s[c].c();L(r,"class","svelte-1p6satm"),L(t,"id","world-event-contrib-table"),L(t,"class","svelte-1p6satm")},m(c,N){ae(c,t,N),k(t,r),k(t,o);for(let D=0;D<s.length;D+=1)s[D].m(t,null)},p(c,N){if(ia(c),N&1){l=c[1];let D;for(D=0;D<l.length;D+=1){let K=aa(c,l,D);s[D]?s[D].p(K,N):(s[D]=fa(K),s[D].c(),s[D].m(t,null))}for(;D<s.length;D+=1)s[D].d(1);s.length=l.length}},d(c){c&&le(t),mi(s,c)}}}function la(e){let t,r,o,l;return{c(){t=S("a"),r=S("img"),sr(r.src,o=te+"guilds/"+e[3].guild.id+"_mini.png")||L(r,"src",o),L(r,"alt","guild logo"),L(r,"class","svelte-1p6satm"),L(t,"href",l=""+(nr+e[3].guild.id))},m(s,c){ae(s,t,c),k(t,r)},p(s,c){c&1&&!sr(r.src,o=te+"guilds/"+s[3].guild.id+"_mini.png")&&L(r,"src",o),c&1&&l!==(l=""+(nr+s[3].guild.id))&&L(t,"href",l)},d(s){s&&le(t)}}}function fa(e){let t,r,o=e[5]+1+"",l,s,c,N,D,K,it=e[3].player.name+"",er,at,An,tr,lt=e[3].value+"",rr,Ln,C=e[3].guild&&la(e);return{c(){t=S("tr"),r=S("td"),l=ke(o),s=we(),c=S("td"),C&&C.c(),N=we(),D=S("td"),K=S("a"),er=ke(it),An=we(),tr=S("td"),rr=ke(lt),Ln=we(),L(K,"href",at=""+(ir+e[3].player.name)),L(t,"class","svelte-1p6satm")},m(H,de){ae(H,t,de),k(t,r),k(r,l),k(t,s),k(t,c),C&&C.m(c,null),k(t,N),k(t,D),k(D,K),k(K,er),k(t,An),k(t,tr),k(tr,rr),k(t,Ln)},p(H,de){H[3].guild?C?C.p(H,de):(C=la(H),C.c(),C.m(c,null)):C&&(C.d(1),C=null),de&1&&it!==(it=H[3].player.name+"")&&Ct(er,it),de&1&&at!==(at=""+(ir+H[3].player.name))&&L(K,"href",at),de&1&&lt!==(lt=H[3].value+"")&&Ct(rr,lt)},d(H){H&&le(t),C&&C.d()}}}function Rf(e){let t;return{c(){t=ke("Loading...")},m(r,o){ae(r,t,o)},p:wt,d(r){r&&le(t)}}}function If(e){let t,r,o={ctx:e,current:null,token:null,hasCatch:!0,pending:Rf,then:$f,catch:Gf,value:2,error:6};return ur(r=e[0],o),{c(){t=di(),o.block.c()},m(l,s){ae(l,t,s),o.block.m(l,o.anchor=s),o.mount=()=>t.parentNode,o.anchor=t},p(l,[s]){e=l,o.ctx=e,s&1&&r!==(r=e[0])&&ur(r,o)||hi(o,e,s)},i:wt,o:wt,d(l){l&&le(t),o.block.d(l),o.token=null,o=null}}}function Pf(e,t,r){let{promise:o}=t;return e.$$set=l=>{"promise"in l&&r(0,o=l.promise)},[o]}var sa=class extends vi{constructor(t){super();gi(this,t,Pf,If,ci,{promise:0})}},ua=sa;function Or(e){return fi({cmd:"toprated",subcmd:e})}var _f=({username:e,value:t})=>({player:{name:e},value:t});async function Kr(e){if(e==="globalquest")return{r:{list:(await li({cmd:"toprated",subcmd:"eventcontrib"})).map(_f)}}}function qr(e){return De(Or,Kr,e)}var Wr,ca=()=>({promise:qr("globalquest")});function Ff(e){Wr?Wr.$set(ca()):Wr=new ua({props:ca(),target:e})}function Of(){let e=a("world-event-contrib");Ff(e),$(e).dialog({title:"Top 100 Event Contributers",minWidth:300,height:300,zIndex:9999})}function Ur(){let e=$("#world-event-badge");!e.length||(e.off(),B(e[0],Of))}function Kf(e){return e.response&&e.response.msg&&e.response.msg.startsWith("Creature did not exist at that location")}function qf(e){Kf(e)&&GameData.fetch(ct+b)}function Wf(e){e.remove()}function Uf(e,t){qf(t),gt(".creature-4 > .quickCombat > .verbs").forEach(Wf)}function zr(){$.subscribe(ut,Uf)}function F(e){return!e||!e.response||!e.response.data}var ma='<table class="relicT relicS"><thead><tr><th colspan="2">Adjusted defense values</th></tr></thead><tbody><tr><td>DC225:</td><td id="DC225">0</td></tr><tr><td>DC175:</td><td id="DC175">0</td></tr><tr><td colspan="2">&nbsp;</td></tr></tbody><thead><tr><th colspan="2">Attacking Group Stats</th></tr></thead><tbody><tr><td>Raw Group Attack:</td><td class="fshGrey" id="GroupAttack"></td></tr><tr><td>Group Attack w/ buffs:</td><td id="GroupAttackBuffed"></td></tr><tr><td>Raw Group Defense:</td><td class="fshGrey" id="GroupDefense"></td></tr><tr><td>Group Defense w/ buffs:</td><td id="GroupDefenseBuffed"></td></tr><tr><td>Raw Group Armor:</td><td class="fshGrey" id="GroupArmor"></td></tr><tr><td>Group Armor w/ buffs:</td><td id="GroupArmorBuffed"></td></tr><tr><td>Raw Group Damage:</td><td class="fshGrey" id="GroupDamage"></td></tr><tr><td>Group Damage w/ buffs:</td><td id="GroupDamageBuffed"></td></tr><tr><td>Raw Group HP:</td><td class="fshGrey" id="GroupHP"></td></tr><tr><td>Group HP w/ buffs:</td><td id="GroupHPBuffed"></td></tr></tbody></table>',da='<table class="relicT relicS"><thead><tr><th colspan="2">Defending Guild Stats</th></tr></thead><tbody><tr><td>Relic Count:</td><td id="relicCount">0</td></tr><tr><td>Lead Defender Bonus:</td><td id="LDPercentage">0</td></tr><tr><td>Lead Defender Cloaked:</td><td id="LDCloaked">No</td></tr></tbody><thead><tr><th colspan="2">Other Defender Stats</th></tr></thead><tbody><tr><td>Raw Attack:</td><td class="fshGrey" id="attackValue">0</td></tr><tr><td>Attack w/ buffs:</td><td id="attackValueBuffed">0</td></tr><tr><td>Raw Defense:</td><td class="fshGrey" id="defenseValue">0</td></tr><tr><td>Defense w/buffs:</td><td id="defenseValueBuffed">0</td></tr><tr><td>Raw Armor:</td><td class="fshGrey" id="armorValue">0</td></tr><tr><td>Armor w/ buffs:</td><td id="armorValueBuffed">0</td></tr><tr><td>Raw Damage:</td><td class="fshGrey" id="damageValue">0</td></tr><tr><td>Damage w/ buffs:</td><td id="damageValueBuffed">0</td></tr><tr><td>Raw HP:</td><td class="fshGrey" id="hpValue">0</td></tr><tr><td>HP w/ buffs:</td><td id="hpValueBuffed">0</td></tr><tr><td>Cloaked:</td><td id="defendersCloaked">0</td></tr><tr><td>Processed:</td><td id="defendersProcessed">0</td></tr></tbody></table>',pa='<table class="relicT"><thead><tr><th colspan="2">Processing</th></tr></thead><tbody><tr><td class="fshGreen" colspan="2" id="ProcessingStatus">Parsing defending guild stats ...</td></tr></tbody><thead><tr><th colspan="2">Assumptions</th></tr></thead><tbody><tr><td colspan="2" class="fshGrey">Above calculations include Constitution, Fortitude, Nightmare Visage, Chi Strike, Sanctuary, Terrorize and Flinch bonus calculations (in that order) on both the defending group and attacking group.</td></tr></tbody></table>';var O,Ae,Le,Se;function zf(e){return e.player_name}function Yf(e){Se=e.defenders.map(zf)}function Qf(){O?w("",O):O=m({className:"body"})}function Xf(e){Ae=m({className:"fshFloatLeft fshRelicLeftDiv"}),i(O,Ae),e.is_owner&&i(Ae,Ti(Se)),Le=Y({className:"custombutton",textContent:"Fetch Stats"}),i(Ae,Le)}function ha(e){Yf(e),Qf(),Xf(e);let t=a("dialog-relic");i(t,O)}var V,ga,va,Yr,Qr,Xr,Jr,$t,jr,Zr,eo,to,ro,oo,no,io,ao,lo,fo,so,uo,co,mo,po,ho,go,vo,yo,Do,xo,j,Jf=[e=>e!=="lastUpdate",e=>!Se.includes(e),e=>V[e].last_login,e=>Number(V[e].last_login)<ga,e=>Number(V[e].last_login)>va,e=>V[e].level<400||V[e].level>421,e=>V[e].level<441||V[e].level>450];function jf(e,t){return t(e)}function Zf(e){return Jf.every(u(jf,e))}function es(e){return`<a href="${En}${V[e].id}">${e}</a>`}function ts(e){V=e,ga=ar-120,va=ar-604800;let t=ti(V).filter(Zf).map(es);re(O,`<div class="fshFloatLeft fshRelicLowDiv"><table class="relicT"><thead><tr><th>${t.length.toString()} Offline guild members not at relic:</th></tr></thead><tbody><tr><td>${t.join(" ")}</td></tr></tbody></table></div>`)}function rs(){Yr=a("relicCount"),Qr=a("LDPercentage"),Xr=a("LDCloaked"),Jr=a("attackValue"),$t=a("attackValueBuffed"),jr=a("defenseValue"),Zr=a("defenseValueBuffed"),eo=a("armorValue"),to=a("armorValueBuffed"),ro=a("damageValue"),oo=a("damageValueBuffed"),no=a("hpValue"),io=a("hpValueBuffed"),ao=a("defendersCloaked"),lo=a("defendersProcessed")}function os(){fo=a("DC225"),so=a("DC175"),uo=a("GroupAttack"),co=a("GroupAttackBuffed"),mo=a("GroupDefense"),po=a("GroupDefenseBuffed"),ho=a("GroupArmor"),go=a("GroupArmorBuffed"),vo=a("GroupDamage"),yo=a("GroupDamageBuffed"),Do=a("GroupHP"),xo=a("GroupHPBuffed")}function ya(e){Bt(Le);let t=g("hideRelicOffline");e.is_owner&&!t&&bi(!0).then(ts),re(Ae,pa),j=a("ProcessingStatus");let r=m({className:"fshFloatLeft fshRelicMidDiv",innerHTML:da});i(O,r),rs();let o=m({className:"fshFloatLeft fshRelicRightDiv",innerHTML:ma});i(O,o),os()}var Rt;function ns(e){return e===1?1.5:Ce(1-e/10,2)}function Da(e){let t=U(e),o=jn('#pCC img[src*="/relics/"]',t).length;f(o,Yr),Rt=ns(o),f(`${String(Rt*100)}%`,Qr)}function It(e,t){return e>t*10||e<t?e:t*10}function is(e){e.attackValue=It(e.attackBonus,e.levelValue),e.defenseValue=It(e.defenseBonus,e.levelValue),e.armorValue=It(e.armorBonus,e.levelValue),e.damageValue=It(e.damageBonus,e.levelValue),e.hpValue=e.hpBonus}var as=[["levelValue","level"],["attackValue","attack"],["attackBonus","bonus_attack"],["defenseValue","defense"],["defenseBonus","bonus_defense"],["armorValue","armor"],["armorBonus","bonus_armor"],["damageValue","damage"],["damageBonus","bonus_damage"],["hpValue","hp"],["hpBonus","bonus_hp"],["killStreakValue","killstreak"]];function ls(e,t,r){e[r[0]]=Number(t[r[1]])}function fs(e,t){as.forEach(u(ls,e,t))}var ss=[["counterAttackLevel","Counter Attack"],["doublerLevel","Doubler"],["deathDealerLevel","Death Dealer"],["darkCurseLevel","Dark Curse"],["holyFlameLevel","Holy Flame"],["constitutionLevel","Constitution"],["sanctuaryLevel","Sanctuary"],["flinchLevel","Flinch"],["nightmareVisageLevel","Nightmare Visage"],["superEliteSlayerLevel","Super Elite Slayer"],["fortitudeLevel","Fortitude"],["chiStrikeLevel","Chi Strike"],["terrorizeLevel","Terrorize"],["barricadeLevel","Barricade"],["reignOfTerrorLevel","Reign Of Terror"],["anchoredLevel","Anchored"],["severeConditionLevel","Severe Condition"],["entrenchLevel","Entrench"],["cloakLevel","Cloak"]];function us(e,t,r){e[r[0]]=t[r[1]]||0}function cs(e,t){ss.forEach(u(us,e,t))}function Ee(e){if(!e)return;let t=bt(e._skills),r={};return fs(r,e),cs(r,t),r.superEliteSlayerMultiplier=Ce(.002*r.superEliteSlayerLevel,2),oi(r.armorValue)&&is(r),r}var Me,Pt,Ue,be,ze,_t,Ye,wo,ko,A,v,me;function ms(){v.attack-=me.attack,v.defense-=me.defense,v.armor-=me.armor,v.damage-=me.damage,v.hp-=me.hp}function We(e){return Math.round(e*Rt)}function ds(){Me+=We(A.attackValue),Ue+=We(A.defenseValue),be+=We(A.armorValue),ze+=We(A.damageValue),Ye+=We(A.hpValue)}function ka(){d(Me,Jr),d(Ue,jr),d(be,eo),d(ze,ro),d(Ye,no),f(wo,ao),ko+=1,f(ko,lo)}function ps(){d(v.attack,uo),d(v.defense,mo),d(v.armor,ho),d(v.damage,vo),d(v.hp,Do)}function hs(e){return Math.ceil(v.attack*(W(e["Nightmare Visage"],0)*.0025))}function gs(){let e=Math.ceil(v.attack*A.flinchLevel*.001);d(v.attack-e,co)}function vs(e){return Math.ceil(v.defense*(1+W(e.Constitution,0)*.001))}function ys(e,t){d(t+e,po)}function Ds(e){d(v.armor+Math.floor(v.armor*W(e.Sanctuary,0)*.001),go)}function xs(e,t){return Math.ceil(t*W(e.Fortitude,0)*.001)}function ks(e){d(v.hp+e,xo)}function ws(e,t){let r=Math.ceil((v.hp+t)*W(e["Chi Strike"],0)*.001),o=Math.ceil(v.damage*A.terrorizeLevel*.001);d(v.damage+r-o,yo)}function Cs(e){let t=hs(e);v.attack-=t,gs();let r=vs(e);ys(t,r),Ds(e);let o=xs(e,r);ks(o),ws(e,o)}function Bs(e){let t=Math.ceil(Pt*W(e.Flinch,0)*.001);d(Pt-t,$t)}function As(e){let t=Math.ceil(_t*W(e.Terrorize,0)*.001);d(_t-t,oo)}function Ls(){f("Processing attacking group stats ... ",j),me&&ms(),ps();let e=bt(GameData.player().buffs);Cs(e),Bs(e),As(e),f("Done.",j)}function Ss(){return Math.ceil(Me*(A.nightmareVisageLevel*.0025))}function Es(){return Math.ceil(Ue*(1+A.constitutionLevel*.001))}function bs(e){Pt=Me-e,d(Pt,$t)}function xa(e){return 1-e*mt}function Ms(e,t){let r=t+e;d(r,Zr),d(Math.ceil(r*xa(225)),fo),d(Math.ceil(r*xa(175)),so)}function Hs(){d(be+Math.floor(be*A.sanctuaryLevel*.001),to)}function Ts(e){return Math.ceil(e*A.fortitudeLevel*.001)}function Vs(e){_t=ze+Math.ceil(e*A.chiStrikeLevel*.001),d(_t)}function Ns(){A.cloakLevel!==0&&f("Yes",Xr)}function wa(){f("Processing defending guild stats ... ",j),ds(),ka();let e=Ss();bs(e);let t=Es();Ms(e,t),Hs();let r=Ye+Ts(t);d(r,io),Vs(r),Ns(),GameData.player().hasGroup&&v?Ls():f("Done.",j)}function Ca(e){let t=Ee(e);Me+=Math.round(t.attackValue*pe),Ue+=Math.round(t.defenseValue*pe),be+=Math.round(t.armorValue*pe),ze+=Math.round(t.damageValue*pe),Ye+=Math.round(t.hpValue*pe),t.cloakLevel!==0&&(wo+=1),ka()}function Ba(e){A=Ee(e)}function Aa(e){v=e}function La(e){me=e}function Sa(){Me=0,Ue=0,be=0,ze=0,Ye=0,wo=0,ko=0}var Qe;function Gs(e){f(e.message,j)}function $s(e){return e.parentNode.parentNode.previousElementSibling.previousElementSibling.innerHTML.indexOf('"#000099"')!==-1}function Rs(e){let t=e.previousElementSibling.href,r=[Ni(t).then(Aa)];return $s(e)&&r.push(Gi().then(La)),r}function Is(e){let t=U(e),r=ye('#pCC a[href*="confirmDisband"]',t);if(!r)return;let o=Rs(r);return ni(o)}function Ps(){return ne({cmd:"guild",subcmd:"groups"}).then(Is)}function _s(){return ne({cmd:"guild",subcmd:"view",guild_id:Qe.controlled_by.guild_id}).then(Da)}function Fs(e,t){return t===0?cr(e).then(Ba):cr(e).then(Ca).catch(Gs)}function Os(){return Se.map(Fs)}function Ks(){let e=[_s()];return GameData.player().hasGroup&&e.push(Ps()),e=e.concat(Os()),e}function qs(){ya(Qe),Sa();let e=Ks();St(e,wa)}function Ws(e,t){F(t)||(Qe=t.response.data,Qe.defenders.length>0&&(ha(Qe),Sn(Le,"click",qs)))}function Co(){$.subscribe(Pn,Ws)}function Xe(e){return ei({cache:!1,url:"fetchdata.php",data:{...e,fshrnd:Ei()},dataType:"json"})}var Ea=[];function Us(e){return F(e)||Ea.push(e),e}function zs(e,t){return e===Number(t.response.data.id)}function Ys(e,t){e(t)}function Qs(e){return new Promise(t=>{Xn(3,Ys,[t,e])})}function Je(e,t){let r=Ea.find(u(zs,e));return r?Qs(r):Xe({a:1,id:e,passback:t}).then(Us)}var Ft,Bo,Ao,Lo,So,Eo;function je(e,t){return ri(ve(t,e))}function Xs(e){Ao=je(e,qn),Bo=je(e,Kn),So=je(e,Un),Lo=je(e,Wn),Eo=je(e,zn)}function ba(){Ft=GameData.player().level,Xs(a("statbar-character-tooltip-stats"))}function Js(e){return`<table><tr><td><img src="${te}creatures/${e.image_id}.png" height="200" width="200"></td><td rowspan="2"><table width="400"><tr><td class="header" colspan="4" class="fshCenter">Statistics</td></tr>`}function js(e,t){return`<tr><td>Class:&nbsp;</td><td width="40%">${e.creature_class}</td><td>Level:&nbsp;</td><td width="40%">${e.level} (your level:<span class="${t}">${Ft}</span>)</td></tr>`}function Zs(e){return`<tr><td>Attack:&nbsp;</td><td width="40%">${e.attack} (your defense:<span class="fshYellow">${Bo}</span>)</td><td>Defense:&nbsp;</td><td width="40%">${e.defense} (your attack:<span class="fshYellow">${Ao}</span>)</td></tr>`}function eu(e){return`<tr><td>Armor:&nbsp;</td><td width="40%">${e.armor} (your damage:<span class="fshYellow">${Lo}</span>)</td><td>Damage:&nbsp;</td><td width="40%">${e.damage} (your armor:<span class="fshYellow">${So}</span>)</td></tr>`}function tu(e,t){return`<tr><td>HP:&nbsp;</td><td width="40%">${e.hp} (your HP:<span class="fshYellow">${Eo}</span>)(1H: <span class="fshRed">${t}</span>)</td><td>Gold:&nbsp;</td><td width="40%">${e.gold}</td></tr>`}var ru='<tr><td colspan="4" height="5"></td></tr><tr><td class="header" colspan="4" class="fshCenter">Enhancements</td></tr>';function ou(e){return`<tr><td colspan="2">${e.name}:</td><td colspan="2">${e.value}</td></tr>`}function nu(e){return e.enhancements.length===0?'<tr><td colspan="4">[no enhancements]</td></tr>':e.enhancements.map(ou).join("")}function iu(e){return`<tr><td colspan="4" height="5"></td></tr><tr><td class="header" colspan="4" class="fshCenter">Description</td></tr><tr><td colspan="4">${e.description}</td></tr><tr><td colspan="4" height="5"></td></tr></table></td></tr><tr><td class="fshCenter"><b>${e.name}</b></td></tr></table>`}function au(e,t,r){return Js(e)+js(e,r)+Zs(e)+eu(e)+tu(e,t)+ru+nu(e)+iu(e)}function lu(e){let t=Math.ceil(e.hp*n.hpVariable+e.armor*n.generalVariable),r="fshYellow";return ba(),Ft>e.level&&(r="fshRed"),au(e,t,r)}function bo(e){if(!F(e))return lu(e.response.data)}var fu=["verb","view","tip-static"];function su(e,t){$(e).qtip({overwrite:!0,show:{event:"mouseover",ready:!0},style:{classes:"qtip-tipsy qtip-custom"},position:{my:"center right",at:"center left",effect:!1,viewport:$(window)},content:{text:t},hide:{effect:!1}})}function uu(e){return ht(e.parentNode.children).indexOf(e)}function cu(e,t){let r=bo(t);e.set("content.text",r)}function mu(e,t,r){return Je(GameData.actions()[e].data.id,e).then(u(cu,r)),"Loading..."}function du(e,t){xe("NewMap","CreatureInfo");let r=uu(t);e.classList.add("fshTip"),su(e,u(mu,r))}function pu(e,t){return ui(fu,e)&&!Oe("fshTip",e)&&Oe("creature",t)}function hu(e){if(!n.showCreatureInfo)return;let{target:t}=e,r=t.parentNode.parentNode.parentNode;pu(t,r)&&du(t,r)}function Mo(){G(a("actionList"),"mouseover",hu)}var M;function gu(e,t){t.creature_class=e.creature_class,t.image_id=e.image_id,t.level=Number(e.level),t.type=e.type}function vu(e){M[e.name]?M[e.name].seen&&(M[e.name].seen+=1):(M[e.name]={seen:1},gu(e,M[e.name]))}function Ma(e,t,r){return t?e(t,r):r}function Ha(e,t){let r=e||{};return r.min=Ma(Math.min,r.min,t),r.max=Ma(Math.max,r.max,t),r}var yu=["attack","armor","damage","defense","hp"];function Du(e,t){return!e||e.min!==t.min||e.max!==t.max}function xu(e,t,r){let o=Ha(t[r],Number(e[r]));Du(t[r],o)&&(t[r]=o)}function ku(e,t){yu.forEach(u(xu,e,t))}function wu(e){return e.enhancements&&e.enhancements.length>0}function Cu(e,t){e[t.name]=Ha(e[t.name],Number(t.value))}function Bu(e,t){wu(e)&&(t.enhancements=t.enhancements||{},e.enhancements.forEach(u(Cu,t.enhancements)))}function Au(e){M||(M={}),vu(e),ku(e,M[e.name]),Bu(e,M[e.name]),Dt("fsh_monsterLog",M)}function Ta(e){n.showMonsterLog&&Au(e)}function Lu(e){M=e||{}}function Va(){yt("fsh_monsterLog").then(Lu)}var Na=[];function Su(e){F(e)||(xe("NewMap","MonsterLog"),Ta(e.response.data))}function Eu(e,t){return e.id===t.id}function bu(e){if(Na.find(u(Eu,e.data)))return!0;Na.push(e.data)}function Mu(e,t){e.type!==6||bu(e)||Je(e.data.id,t).then(Su)}function Ga(){n.showMonsterLog&&GameData.actions().forEach(Mu)}function Ho(){Va(),$.subscribe("-1-success.action-response 4-success.action-response 5-success.action-response 25-success.action-response",Ga),Ga()}function To(){return xi({subcmd:"scouttower"})}function Hu(e){let t=e.split(/[: /[]/);return new Date(Number(t[4]),ft.indexOf(t[3]),Number(t[2]),Number(t[0]),Number(t[1]))}function Tu(e){let t=oe(e[1]);return t==="No active cooldown"?0:Math.ceil((Hu(t.slice(16))-pt)/1e3)}function Vu(e){let t=e[0].cells[0].children[0];return{base_id:Number(t.src.match(/s\/(\w+)\.p/)[1].slice(0,-32)),name:t.title}}function Nu(e){return{cooldown:Tu(e),creature:Vu(e),kills:Number(oe(e[0].cells[3]))}}function Gu(e){let t=oe(e[0].cells[1]);if(t!=="n/a"){let r=oe(e[0].cells[2]).split("/");return{realm:t,current_hp:Number(r[0]),max_hp:Number(r[1])}}}function $u(e){let t=e[2].cells[0].children;if(t.length===1)return{contributors:Bi(t[0].rows,3,0).map(o=>({kills:Number(oe(o.cells[1])),player:{name:oe(o.cells[0])}}))}}function Ru(e){return{...Nu(e),...Gu(e),...$u(e)}}function Iu(e){let t=U(e),r=ye('table[width="500"]',t);if(!r)return{s:!1};let o=ht(r.rows).filter((s,c,N)=>c!==0&&c<N.length-1&&(c-1)%6<3);return{r:Hi(3,o).map(Ru),s:!0}}function Vo(){return ne({cmd:"guild",subcmd:"scouttower"}).then(Iu)}function No(){return De(To,Vo)}function Pu(e,[t,r,o]){let l=e.insertCell(-1);return l.colSpan=t,o&&(l.className="header"),i(l,r),l}function _u(e,t){t.forEach(u(Pu,e))}function Fu(e,t,r){let o=e.insertRow(-1);return r&&(o.className="fshBlue"),_u(o,t),o}function Ou(e,t){Fu(e,t[0],t[1])}function Ze(e,t){t.forEach(u(Ou,e))}var Go;function $a(e){Go=e}var $o,Ro,Io,Po,_o,Fo,Oo,Ko;function Ku(){$o=x("Current"),Ro=x("Kills"),Io=x("Member"),Po=x("% of Total")}function qu(){_o=x("Status"),Fo=x("Titan HP"),Oo=x("Total"),Ko=x("Your Guild")}function Ra(){Ku(),qu()}var He,Te,Ve,Ne,Ge,$e,Re,Ie,Pe;function Wu(){He=p({innerHTML:"&nbsp;"}),Te=p({innerHTML:"&nbsp;"}),Ve=p(),Ne=p()}function Uu(){Ge=p(),$e=p(),Re=p(),Ie=p(),Pe=p()}function Ia(){Wu(),Uu()}function Pa(){w("&nbsp;",He),w("&nbsp;",Te),f("",Ve),f("",Ne),f("",Ge),f("",$e),f("",Re),w("",Ie),w("",Pe)}var Z;function Ot(){for(;Z.rows.length>8;)Z.deleteRow(8)}function zu(){let e=p();return i(e,Ve),I(e,"/"),i(e,Ne),e}function _a(e){let t=p();return i(t,e),I(t,"%"),t}function Fa(){Z=ii({className:"fshCenter"}),Ra(),Ze(Z,[[[[5,He,!0],[1,Te,!0]]],[[[2,Fo,!0],[4,Ko,!0]]],[[[2,zu()],[4,Ge]]],[[[2,$o,!0],[4,_a($e)]],!0],[[[2,Oo,!0],[4,_a(Re)]],!0],[[[2,_o,!0],[4,Ie]],!0],[[[6,Pe]]],[[[2,Io,!0],[2,Ro,!0],[2,Po,!0]]]])}var ee,Kt,qo;function Wo(){Kt=null,ee&&!Oe("fshHide",ee)&&(h(ee,!0),Pa(),Ot())}function Oa(e){return e.type===0?(Kt=e.base_creature_id,qo=`(${e.x},${e.y})`,!0):!1}function Ka(){if(ee)h(ee,!1);else{let e=a("actionContainer");ee=m({className:"fshActionBox titanInfo"}),Ia(),Fa(),i(ee,Z),i(e,ee)}}function Yu(e){let t=new Date(pt+e*1e3);return`${Lt(t.getHours())}:${Lt(t.getMinutes())} ${Lt(t.getDate())}/${ft[t.getMonth()]}/${t.getFullYear()}`}function Qu(e){return e<=0?'<span class="fshGreen cooldown">No active cooldown</span>':`<span class="fshMaroon cooldown">Cooldown until: ${Yu(e)}</span>`}function Xu(e){return Et(Ii(e.max_hp-e.current_hp,e.kills),2)}function Ju(e){return Et(e.kills*100/e.max_hp,2)}function ju(e){return Pi(e.kills,e.max_hp,e.current_hp)}function Zu(e){e.forEach(([t,r])=>{f(t,r)})}function ec(e){Zu([[e.creature.name.replace(" (Titan)",""),He],[qo,Te],[e.current_hp,Ve],[e.max_hp,Ne],[e.kills,Ge],[Xu(e),$e],[Ju(e),Re]]),w(ju(e),Ie),w(Qu(e.cooldown),Pe)}function tc(e,t){return[[[2,x(t.player.name)],[2,x(t.kills.toString())],[2,x(`${Et(t.kills*100/e.kills,2)}%`)]]]}function rc(e){if(Ot(),!e.contributors)return;let t=e.contributors.map(u(tc,e));Ze(Z,t)}function oc(e){return e.realm&&e.creature.base_id===Kt&&e.realm===Go}function Uo(e){let t=e.find(oc);t&&(ec(t),rc(t))}var qt;function nc(){qt&&(window.clearTimeout(qt),qt=null)}function ic(e){return e&&e.s&&R(e.r)}function qa(e){return n.showTitanInfo&&R(e)&&e.some(Oa)}function ac(e,t){!ic(t)||(Uo(t.r),qa(GameData.realm().dynamic)?qt=window.setTimeout(e,3e4):Wo())}function Wa(){No().then(u(ac,Wa))}function Ua(e){nc(),qa(e)?(Ka(),Wa()):Wo()}function za(e){e.dynamic&&($a(e.name),Ua(e.dynamic))}function Ya(){n.showTitanInfo=!n.showTitanInfo,y("showTitanInfo",n.showTitanInfo),Ua(GameData.realm().dynamic)}function lc(e){return e.realm&&e.realm.name}function Qa(e,t){lc(t)&&za(t.realm)}function zo(){window.initialGameData&&Qa(null,window.initialGameData),$.subscribe(`${Rn} ${_n}`,Qa)}var Yo;function Xa(e){$("#statbar-gold").css("background-color",e)}function Ja(){$("#HelperSendTotal").html(z(g("currentGoldSentTotal"))),Number(GameData.player().gold)>Yo?Xa("red"):Xa("inherit")}function fc(){return`<dt class="stat-gold-sendTo">Send To:</dt><dd id="HelperSendTo">${g("goldRecipient")}</dd><dt class="stat-gold-sendAmt">Amount:</dt><dd id="HelperSendAmt">${z(Yo)}</dd><dt class="stat-gold-sendTo">Send?</dt><dd><input id="HelperSendGold" value="Send!" class="custombutton" type="submit"><input type="hidden" id="xc" value=""</dd><dt class="stat-gold-sendTotal">Total Sent:</dt><dd id="HelperSendTotal">${z(g("currentGoldSentTotal"))}</dd>`}function sc(){Yo=g("goldAmount"),$("#statbar-gold-tooltip-general").append(fc()),$("#HelperSendGold").on("click",Si),Ja(),$.subscribe(Vn,Ja)}function Qo(){Li(),Ai&&sc()}var et,tt,Wt,_e,Jo,Xo,Ut;function uc(){return Xe({a:14,d:0,id:et.id,item_id:et.itemId})}function cc(e){let t=e.response.response,r=e.response.msg,o;if(t!==0){let l=r.indexOf("<");l!==-1?o=r.substring(0,l):o=r}else o=`You purchased ${e.response.data.name} for ${z(e.response.data.cost)} gold.`;re(Ut,`${o}<br>`)}function mc(){GameData.doAction(14,3,{id:et.id,item_id:et.itemId},0),Wt.close()}function dc(){let e=Mi(Jo.value);if(!e)return;let t=[];for(let r=1;r<e;r+=1)t.push(uc().then(cc));St(t,mc)}function pc(){_e=m({className:"fshClear",textContent:"Select how many to quick-buy:"}),Jo=kt({id:"buyAmount",className:"fshNumberInput",min:1,max:99,value:1,type:"number"}),i(_e,Jo),Xo=Y({textContent:"Quick-buy"}),B(Xo,dc),i(_e,Xo),Ut=m(),i(_e,Ut),i(tt,_e)}function hc(){return tt||a("shopDialogConfirm")}function gc(){return Wt||$(tt).data("hcsWorldDialogShopConfirm")}function vc(){_e?f("",Ut):pc()}function yc(e,t){et=t,tt=hc(),!!tt&&(Wt=gc(),Wt&&vc())}function jo(){$.subscribe(Nn,yc)}function Dc(e){let t=U(e),r=Vi(t);return{r:{attributes:[{value:r.attack},{value:r.defense},{value:r.armor},{value:r.damage},{value:r.hp}]}}}function Zo(e){return ne({cmd:"guild",subcmd:"groups",subcmd2:"viewstats",group_id:e}).then(Dc)}function en(e){return wi({subcmd2:"viewstats",group_id:e})}function tn(e){return De(en,Zo,e)}function ja(e){return e.numberOfCreatureHitsTillDead-e.numberOfHitsRequired<=1?", dies on miss":", survives a miss"}function xc(e){return e.numberOfHitsRequired==="-"||e.numberOfHitsRequired>e.numberOfCreatureHitsTillDead}function kc(e){return e.numberOfCreatureHitsTillDead==="-"?e.numberOfHitsRequired:xc(e)?"-":e.numberOfHitsRequired}function wc(e){return e.numberOfCreatureHitsTillDead==="-"||e.numberOfCreatureHitsTillDead>e.numberOfHitsRequired}function Cc(e){return e.numberOfHitsRequired==="-"?e.numberOfCreatureHitsTillDead:wc(e)?"-":e.numberOfCreatureHitsTillDead}var Bc=[[e=>e.playerHits==="-"&&e.creatureHits==="-",()=>"Unresolved"],[e=>e.playerHits==="-",()=>"Player dies"],[e=>e.playerHits===1,e=>`Player 1 hits${ja(e)}`],[e=>e.playerHits>1,e=>`Player > 1 hits${ja(e)}`]];function Ac(e,t){return t[0](e)}function Lc(e){let t=Bc.find(u(Ac,e));return t?t[1](e):"Unknown"}function rn(e){e.playerHits=kc(e),e.creatureHits=Cc(e),e.fightStatus=Lc(e)}function Sc(e){return e.callback.groupExists?e.callback.groupArmorValue:e.player.armorValue}function Ec(e){let t=Sc(e);e.overallArmorValue=t+Math.floor(e.player.armorValue*e.player.sanctuaryLevel*.001)}function bc(e){e.player.sanctuaryLevel>0&&(e.extraNotes+=`Sanc Bonus Armor = ${Math.floor(e.player.armorValue*e.player.sanctuaryLevel*.001)}<br>`)}function Mc(e){e.terrorizeEffect=Math.floor(e.creature.damage*e.player.terrorizeLevel*.001)}function Hc(e){e.player.terrorizeLevel>0&&(e.extraNotes+=`Terrorize Creature Damage Effect = ${e.terrorizeEffect*-1}<br>`)}function Tc(e){e.creatureDamageDone=Math.ceil(e.generalVariable*e.creature.damage-e.overallArmorValue+e.overallHPValue)}function Vc(e){let t=e.generalVariable*e.creature.damage;t<e.overallArmorValue?e.numberOfCreatureHitsTillDead=e.overallHPValue:e.numberOfCreatureHitsTillDead=Math.ceil(e.overallHPValue/(t-e.overallArmorValue))}function Nc(e){e.creatureHitByHowMuch>=0?Vc(e):e.numberOfCreatureHitsTillDead="-"}function on(e){Ec(e),bc(e),Mc(e),Hc(e),e.creature.damage-=e.terrorizeEffect,Tc(e),Nc(e)}function Gc(e){return e.callback.groupExists?e.callback.groupAttackValue:e.player.attackValue}function Za(e){return Math.floor(e.creature.defense*e.player.darkCurseLevel*mt)}function $c(e){let t=e.creature.defense-Za(e);return e.combatEvaluatorBias===3?e.overallAttackValue-Math.ceil(t)-50:e.overallAttackValue-Math.ceil(e.attackVariable*t)}function nn(e){let t=Gc(e);e.player.darkCurseLevel>0&&(e.extraNotes+=`DC Bonus Attack = ${Za(e)}<br>`),e.nightmareVisageAttackMovedToDefense=Math.floor((t+e.counterAttackBonusAttack)*e.player.nightmareVisageLevel*.0025),e.player.nightmareVisageLevel>0&&(e.extraNotes+=`NMV Attack moved to Defense = ${e.nightmareVisageAttackMovedToDefense}<br>`),e.overallAttackValue=t+e.counterAttackBonusAttack-e.nightmareVisageAttackMovedToDefense,e.hitByHowMuch=$c(e)}function Rc(e){return e.player.counterAttackLevel>0&&e.numberOfHitsRequired===1}function el(e){e.lowestCALevelToStillHit=Math.max(Math.ceil((e.counterAttackBonusAttack-e.hitByHowMuch+1)/e.player.attackValue/.0025),0),e.lowestCALevelToStillKill=Math.max(Math.ceil((e.counterAttackBonusDamage-e.damageDone+1)/e.player.damageValue/.0025),0)}function Ic(e){return e.player.counterAttackLevel>0?Math.ceil((1+e.player.doublerLevel/50)*.0025*e.lowestFeasibleCALevel):0}function Pc(e){e.extraAttackAtLowestFeasibleCALevel=Math.floor(e.player.attackValue*.0025*e.lowestFeasibleCALevel),e.extraDamageAtLowestFeasibleCALevel=Math.floor(e.player.damageValue*.0025*e.lowestFeasibleCALevel),e.extraNotes+=`Extra CA Att/Dam at this lowered CA level = ${e.extraAttackAtLowestFeasibleCALevel} / ${e.extraDamageAtLowestFeasibleCALevel}<br>`}function _c(e){el(e),e.lowestFeasibleCALevel=Math.max(e.lowestCALevelToStillHit,e.lowestCALevelToStillKill),e.extraNotes+=`Lowest CA to still 1-hit this creature = ${e.lowestFeasibleCALevel}<br>`,e.lowestFeasibleCALevel!==0&&Pc(e),e.extraStaminaPerHitAtLowestFeasibleCALevel=Ic(e),e.extraStaminaPerHitAtLowestFeasibleCALevel<e.extraStaminaPerHit?e.extraNotes+=`Extra Stam Used at this lowered CA level = ${e.extraStaminaPerHitAtLowestFeasibleCALevel}<br>`:e.extraNotes+="No reduction of stam used at the lower CA level<br>"}function Fc(e){return e.numberOfHitsRequired==="-"||e.numberOfHitsRequired!==1}function Oc(e){e.lowestCALevelToStillHit>175?e.extraNotes+="Even with CA175 you cannot hit this creature<br>":e.lowestCALevelToStillHit!==0&&(e.extraNotes+=`You need a minimum of CA${e.lowestCALevelToStillHit} to hit this creature<br>`)}function Kc(e){e.lowestCALevelToStillKill>175?e.extraNotes+="Even with CA175 you cannot 1-hit kill this creature<br>":e.lowestCALevelToStillKill!==0&&(e.extraNotes+=`You need a minimum of CA${e.lowestCALevelToStillKill} to 1-hit kill this creature<br>`)}function qc(e){el(e),Oc(e),Kc(e)}function an(e){Rc(e)&&_c(e),Fc(e)&&qc(e)}function Wc(e){return e.callback.groupExists?e.callback.groupHPValue:e.player.hpValue}function Uc(e){return e.callback.groupExists?e.callback.groupDamageValue:e.player.damageValue}function zc(e){let t=Wc(e),{fortitudeLevel:r}=e.player;e.fortitudeExtraHPs=Math.floor(t*r*.001),r>0&&(e.extraNotes+=`Fortitude Bonus HP = ${e.fortitudeExtraHPs}<br>`),e.overallHPValue=t+e.fortitudeExtraHPs}function Yc(e){let{chiStrikeLevel:t}=e.player;e.chiStrikeExtraDamage=Math.floor(e.overallHPValue*t*.001),t>0&&(e.extraNotes+=`Chi Strike Bonus Damage = ${e.chiStrikeExtraDamage}<br>`)}function ln(e){zc(e),Yc(e);let t=Uc(e);if(e.overallDamageValue=t+e.deathDealerBonusDamage+e.counterAttackBonusDamage+e.holyFlameBonusDamage+e.chiStrikeExtraDamage,e.damageDone=Math.floor(e.overallDamageValue-(e.generalVariable*e.creature.armor+e.hpVariable*e.creature.hp)),e.hitByHowMuch>0){let r=1;e.overallDamageValue>=e.generalVariable*e.creature.armor&&(r=e.overallDamageValue-e.generalVariable*e.creature.armor),e.numberOfHitsRequired=Math.ceil(e.hpVariable*e.creature.hp/r)}else e.numberOfHitsRequired="-"}function fn(e){return e.callback.groupExists?e.callback.groupDefenseValue:e.player.defenseValue}function Qc(e){e.player.constitutionLevel>0&&(e.extraNotes+=`Constitution Bonus Defense = ${Math.floor(fn(e)*e.player.constitutionLevel*.001)}<br>`)}function Xc(e){e.player.flinchLevel>0&&(e.extraNotes+=`Flinch Bonus Attack Reduction = ${Math.floor(e.creature.attack*e.player.flinchLevel*.001)}<br>`)}function sn(e){e.overallDefenseValue=fn(e)+Math.floor(fn(e)*e.player.constitutionLevel*.001)+e.nightmareVisageAttackMovedToDefense,Qc(e),Xc(e),e.creatureHitByHowMuch=Math.floor(e.attackVariable*e.creature.attack-e.creature.attack*e.player.flinchLevel*.001-e.overallDefenseValue),e.combatEvaluatorBias===3&&(e.creatureHitByHowMuch=Math.floor(e.creature.attack-e.creature.attack*e.player.flinchLevel*.001-e.overallDefenseValue-50))}function Jc(e){e.player.superEliteSlayerLevel>0&&(e.extraNotes+=`SES Stat Reduction Multiplier = ${e.player.superEliteSlayerMultiplier}<br>`)}function jc(e){e.holyFlameBonusDamage=0,e.creature.class==="Undead"&&(e.holyFlameBonusDamage=Math.max(Math.floor((e.player.damageValue-e.creature.armor)*e.player.holyFlameLevel*.002),0),e.player.holyFlameLevel>0&&(e.extraNotes+=`HF Bonus Damage = ${e.holyFlameBonusDamage}<br>`))}function Zc(e){e.deathDealerBonusDamage=Math.floor(e.player.damageValue*(Math.min(Math.floor(e.player.killStreakValue/5)*.01*e.player.deathDealerLevel,20)/100))}function em(e){e.counterAttackBonusAttack=Math.floor(e.player.attackValue*.0025*e.player.counterAttackLevel),e.counterAttackBonusDamage=Math.floor(e.player.damageValue*.0025*e.player.counterAttackLevel)}function tm(e){e.extraStaminaPerHit=0,e.player.counterAttackLevel>0&&(e.extraStaminaPerHit=Math.ceil((1+e.player.doublerLevel/50)*.0025*e.player.counterAttackLevel))}function rm(e){e.player.deathDealerLevel>0&&(e.extraNotes+=`DD Bonus Damage = ${e.deathDealerBonusDamage}<br>`)}function om(e){e.player.counterAttackLevel>0&&(e.extraNotes+=`CA Bonus Attack/Damage = ${e.counterAttackBonusAttack} / ${e.counterAttackBonusDamage}<br>CA Extra Stam Used = ${e.extraStaminaPerHit}<br>`)}function un(e){e.extraNotes="",Jc(e),jc(e),Zc(e),em(e),tm(e),rm(e),om(e)}function nm(e){return e.callback.groupExists?"Group ":""}function im(e){return`<tr><td bgcolor="#CD9E4B" colspan="4" align="center">${nm(e)}Combat Evaluation</td></tr>`}function am(e){return e.hitByHowMuch>0?"Yes":"No"}function lm(e){return`<tr><td align="right"><span style="color:#333333">Will I hit it? </td><td align="left">${am(e)}</td><td align="right"><span style="color:#333333">Extra Attack: </td><td align="left">( ${e.hitByHowMuch} )</td></tr>`}function fm(e){return`<tr><td align="right"><span style="color:#333333"># Hits to kill it? </td><td align="left">${e.numberOfHitsRequired}</td><td align="right"><span style="color:#333333">Extra Damage: </td><td align="left">( ${e.damageDone} )</td></tr>`}function sm(e){return e.creatureHitByHowMuch>=0?"Yes":"No"}function um(e){return`<tr><td align="right"><span style="color:#333333">Will I be hit? </td><td align="left">${sm(e)}</td><td align="right"><span style="color:#333333">Extra Defense: </td><td align="left">( ${-1*e.creatureHitByHowMuch} )</td></tr>`}function cm(e){return`<tr><td align="right"><span style="color:#333333"># Hits to kill me? </td><td align="left">${e.numberOfCreatureHitsTillDead}</td><td align="right"><span style="color:#333333">Extra Armor + HP: </td><td align="left">( ${-1*e.creatureDamageDone} )</td></tr>`}function mm(e){return`<tr><td align="right"><span style="color:#333333"># Player Hits? </td><td align="left">${e.playerHits}</td><td align="right"><span style="color:#333333"># Creature Hits? </td><td align="left">${e.creatureHits}</td></tr>`}function dm(e){return`<tr><td align="right"><span style="color:#333333">Fight Status: </span></td><td align="left" colspan="3"><span>${e.fightStatus}</span></td></tr>`}function pm(e){return`<tr><td align="right"><span style="color:#333333">Notes: </span></td><td align="left" colspan="3"><span style="font-size:x-small;">${e.extraNotes}</span></td></tr>`}function cn(e){return`<table width="100%"><tbody>${im(e)}${lm(e)}${fm(e)}${um(e)}${cm(e)}${mm(e)}${dm(e)}${pm(e)}</tbody></table>`}var zt,Yt,rt;function hm(e){if(!zt){let t=ve("body",e);t.length===1&&([zt]=t)}}function tl(){return ce(Yt)?"Remove from do not kill list":"Add to the do not kill list"}function rl(){f(tl(),rt)}function gm(){let e=n.doNotKillList.indexOf(Yt);e===-1?n.doNotKillList.push(Yt):n.doNotKillList.splice(e,1),rl(),y("doNotKillList",n.doNotKillList.join()),Be()}function vm(){rt=Y({className:"fshBl",textContent:tl(),type:"button"});let e=m({className:"description",innerHTML:'<span class="ui-helper-hidden-accessible"><input type="text"></span>'});i(e,rt),i(zt,e),B(rt,gm)}function ym(){rt?rl():vm()}function mn(e,t){hm(t),zt&&(Yt=ge(e),ym())}var Fe,ot,Qt,Xt;function Dm(){Fe||(Fe=a("dialog-viewcreature"))}function xm(){ot||(ot=m(),i(Fe,ot),i(Fe,m({innerHTML:'<span class="fshFooter">*Does include CA, DD, HF, DC, Flinch, Super Elite Slayer, NMV, Sanctuary, Constitution, Fortitude, Chi Strike and Terrorize (if active) and allow for randomness (1.1053). Constitution, NMV, Fortitude and Chi Strike apply to group stats.</span>'})))}function ol(){Qt||(xm(),Qt=m(),i(ot,Qt))}function km(){Xt||(ol(),Xt=m(),i(ot,Xt))}function nl(e){ol(),w(e,Qt)}function il(e){km(),w(e,Xt)}function wm(e,t,r){r===3&&(t.attack-=Math.ceil(t.attack*e),t.defense-=Math.ceil(t.defense*e),t.armor-=Math.ceil(t.armor*e),t.damage-=Math.ceil(t.damage*e),t.hp-=Math.ceil(t.hp*e))}function Cm(e,t){let r={name:e.name,class:e.creature_class,attack:Number(e.attack),defense:Number(e.defense),armor:Number(e.armor),damage:Number(e.damage),hp:Number(e.hp)};return wm(t,r,e.type),r}function Bm(e){e.combatEvaluatorBias=n.combatEvaluatorBias,e.attackVariable=1.1053,e.generalVariable=n.generalVariable,e.hpVariable=n.hpVariable}function Am(e){un(e),nn(e),ln(e),sn(e),on(e),rn(e),an(e)}function al(e,t,r){let o={};o.callback=r,o.player=Ee(t),Bm(o),o.creature=Cm(e.response.data,o.player.superEliteSlayerMultiplier),Am(o),o.evaluatorHTML=cn(o),r.groupExists?il(o.evaluatorHTML):nl(o.evaluatorHTML)}function Lm(e){return e.members[0].name===xt()}function Sm(e){if(R(e.r))return e.r.find(Lm).id}function Em(e,t,r){if(!r.r||!r.r.attributes)return;let o=r.r.attributes;al(e,t,{groupExists:!0,groupAttackValue:o[0].value,groupDefenseValue:o[1].value,groupArmorValue:o[2].value,groupDamageValue:o[3].value,groupHPValue:o[4].value})}function bm(e,t,r){r&&tn(r).then(u(Em,e,t))}function Mm(e,t){Ci().then(Sm).then(u(bm,e,t))}function Hm(e,t){e.player.hasGroup&&Mm(e,t),al(e,t,{groupExists:!1})}function Tm(e){return e.response&&e.response.data}function Vm(e,t){Dm(),!!Fe&&(nl(""),il(""),Tm(t)&&(mn(t.response.data.name,Fe),yi(!0).then(u(Hm,t))))}function dn(){$.subscribe(In,Vm)}var Jt,pn;function jt(){let e=[null,[n.buffs,n.buffsName],[n.buffs2,n.buffs2Name],[n.buffs3,n.buffs3Name]][n.enabledHuntingMode];R(e)&&([Jt,pn]=e)}function hn(e){e.target.name==="enabledHuntingMode"&&(n.enabledHuntingMode=e.target.value,y("enabledHuntingMode",n.enabledHuntingMode),jt(),GameData.fetch(q))}var nt;function fl(){nt=!nt,y("hidePlayerActions",nt),GameData.fetch(b)}function Nm(e){let t=ve("verbs",e);t.length===1&&Bt(t[0])}function ll(){if(!nt)return;let e=a("actionList");vt("player",e).forEach(Nm)}function sl(){nt=g("hidePlayerActions"),$.subscribe(he,ll),ll()}function gn(){n.showCreatureInfo=!n.showCreatureInfo,y("showCreatureInfo",n.showCreatureInfo)}function vn(){n.showBuffs=!n.showBuffs,y("showHuntingBuffs",n.showBuffs),GameData.fetch(q)}function yn(){n.showMonsterLog=!n.showMonsterLog,y("showMonsterLog",n.showMonsterLog)}function Dn(){n.hideSubLvlCreature=!n.hideSubLvlCreature,y("hideSubLvlCreature",n.hideSubLvlCreature),GameData.fetch(b)}function Gm(){return m({id:"fshWorldPrefs",innerHTML:`${ie("showCreatureInfo")}&nbsp;&nbsp;${ie("showMonsterLog")}&nbsp;&nbsp;${ie("showTitanInfo")}&nbsp;&nbsp;${ie("showBuffInfo")}<br>${ie("hideSubLvlCreature")}&nbsp;&nbsp;${ie("hidePlayerActions")}&nbsp;&nbsp;${Ki()}`})}var $m={hideSubLvlCreature:Dn,hidePlayerActions:fl,showCreatureInfo:gn,showHuntingBuffs:vn,showMonsterLog:yn,showTitanInfo:Ya,showBuffInfo:Qi};function Rm(e){let t=$m[e.target.name];dt(t)&&(e.target.blur(),t(e))}function xn(){let e=m({className:"fshCenter fshFten"}),t=Gm();B(t,Rm),G(t,"change",hn),i(e,t);let r=m();i(e,r);let o=a("worldContainerBelow").children[0];return At(e,o),r}function Im(e,t){return e[t.name]=!0,e}function Pm(e,t,r){return e[ge(r)]||t.push(r),t}function _m(e,t){w(`You are missing some ${pn} hunting buffs<br>(${t.join(", ")})`,e)}function ul(e){w("",e)}function Fm(e,t){let r=t.b.reduce(Im,{}),o=Jt.reduce(u(Pm,r),[]);o.length>0?_m(e,o):ul(e)}function Om(e,t,r){n.showBuffs?Fm(e,r):ul(e)}function Km(e,t,r){Jt&&Om(e,t,r)}function kn(e){jt();let t=u(Km,e);$.subscribe(st,t),n.showBuffs&&window.initialGameData&&t(null,{b:window.initialGameData.player.buffs})}var Zt=[{generalVariable:1.1053,hpVariable:1.1},{generalVariable:1.1,hpVariable:1.053},{generalVariable:1.053,hpVariable:1},{generalVariable:1.1053,hpVariable:1}];function qm(e){return Zt[e]?Zt[e].generalVariable:1.1053}function Wm(e){return Zt[e]?Zt[e].hpVariable:1.1}function wn(){n.combatEvaluatorBias=g("combatEvaluatorBias"),n.generalVariable=qm(n.combatEvaluatorBias),n.hpVariable=Wm(n.combatEvaluatorBias)}function Um(e){return!e||!e.actions||e.actions.length===0}function zm(e,t){return t.type===6?t.data.creature_type!==0||t.data.level>=e:!0}function Ym(e){return e.realm&&e.realm.minlevel||GameData.realm().minlevel}function Qm(e){let t=Qn(e);return Um(t)?e:(t.actions=t.actions.filter(u(zm,Ym(t))),Zn(t))}function Xm(e){return e.data&&e.data.d&&Ri(e.data.d,b)}function Jm(e,t){n.hideSubLvlCreature&&Xm(t)&&(e.dataFilter=Qm)}function Cn(){$.ajaxPrefilter("JSON",Jm),n.hideSubLvlCreature&&GameData.fetch(b)}function jm(e){n[e[0]]=fr(e[1])}function Zm(){[["buffs","huntingBuffs"],["buffs2","huntingBuffs2"],["buffs3","huntingBuffs3"]].forEach(jm)}function ed(e){n[e]=fr(e)}function td(){["doNotKillList"].forEach(ed)}function rd(){Zm(),td()}function od(e){n[e[0]]=g(e[1])}function nd(){[["buffsName","huntingBuffsName"],["buffs2Name","huntingBuffs2Name"],["buffs3Name","huntingBuffs3Name"],["showBuffs","showHuntingBuffs"]].forEach(od)}function id(e){n[e]=g(e)}function ad(){["enabledHuntingMode","hideSubLvlCreature","showTitanInfo","showBuffInfo","showMonsterLog","showCreatureInfo"].forEach(id)}function ld(){nd(),ad()}function fd(){rd(),ld()}function Bn(){wn(),fd();let e=xn();Cn(),kn(e),sl()}function cl(e){$(`#actionList li.creature-${e.toString()} a.create-group`).hide()}function sd(e){$.subscribe(he,u(cl,e))}var ud=["hideChampionsGroup","hideElitesGroup","hideSEGroup","hideTitanGroup","hideLegendaryGroup"];function cd(e,t){g(e)&&(sd(t+1),cl(t+1))}function md(){ud.forEach(cd)}function dd(){i(document.body,$i(`#actionList .creature-1 {color: green;}
#actionList .creature-2 {color: yellow;}
#actionList .creature-3 {color: red;}`))}function pd(){g("enableCreatureColoring")&&dd()}function hd(e,t){t==="ACT_REPAIR"&&GameData.fetch(On+q+ct+b)}function gd(){$.subscribe(Gn,hd)}function vd(){$("#messageCenter").worldMessageCenter({offset:"0 60"})}function yd(){Ke("#mapTooltip")}function Dd(e){Ke(e.target)}function xd(){B(a("buffList"),Dd)}var kd=[Bn,Qo,dn,md,pd,Fr,Ho,gd,Pr,zo,jo,Co,vd,yd,Nr,Yi,xd,Mo,Rr,Ur];function wd(){_i(kd),n.userIsDev&&zr()}export{wd as default};
//# sourceMappingURL=newMap-5JQINNWQ.js.map
