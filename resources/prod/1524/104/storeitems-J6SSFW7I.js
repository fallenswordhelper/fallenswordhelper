import{b as S,c as E,d as D,e as P,f as M,h as Y}from"./chunk-VA5YQI6L.js";import"./chunk-OPCUCEGI.js";import"./chunk-2WVNEH2G.js";import"./chunk-KGG3JEIO.js";import"./chunk-JDH7VIMF.js";import"./chunk-2SHJUXGK.js";import"./chunk-X3Y5T3W7.js";import{a as H}from"./chunk-RO7HDNZ5.js";import"./chunk-EZQMYQXR.js";import"./chunk-4NSFLGWM.js";import"./chunk-IMLXUIFC.js";import{a as w}from"./chunk-RRMRN6AB.js";import{a}from"./chunk-U5C5DOZD.js";import"./chunk-NKI4UEHE.js";import"./chunk-UE5LUBTX.js";import{a as g}from"./chunk-U4PTS6TH.js";import"./chunk-CC25YFKK.js";import"./chunk-ZFLRRMU3.js";import{a as A}from"./chunk-QRFAXNJN.js";import"./chunk-QUHORU62.js";import"./chunk-MWSDXUYY.js";import"./chunk-5I23UAD2.js";import"./chunk-FGUABTB2.js";import"./chunk-EDDILQHZ.js";import"./chunk-HT2E4BH5.js";import"./chunk-HKSEGFSF.js";import"./chunk-CKN7HU5O.js";import"./chunk-A4SVD2MS.js";import"./chunk-XSBXLWG4.js";import"./chunk-AF6X2EPJ.js";import"./chunk-B2HZSNN4.js";import"./chunk-S5FVRE4H.js";import"./chunk-4VNGVSFE.js";import"./chunk-ECN5M6TA.js";import"./chunk-5THSM4BA.js";import{a as m}from"./chunk-HRU4Z4QT.js";import{A as N,D as c,P as R,Q as X,X as Q,Y as J,a as p,d as b,fa as V,ga as W,ha as j,ia as I,ja as G,s as Z,t as d,u,w as f,x as y}from"./chunk-NEOIIKPE.js";import"./chunk-3M4BGLDY.js";import"./chunk-ZHNBOA2F.js";import"./chunk-XWM4YOEC.js";import"./chunk-VYBTCWLD.js";import"./chunk-Z7UI4YWM.js";import"./chunk-CA4APEYC.js";import"./chunk-RIMALT5Z.js";import"./chunk-VZP2JUPU.js";import{a as z}from"./chunk-MG45P7RB.js";import"./chunk-CQKCIFA5.js";import"./chunk-GEQ6SBFU.js";import"./chunk-5JOFCACO.js";import"./chunk-NFXVO5QH.js";import"./chunk-E546N3MN.js";import"./chunk-327LTRO2.js";import"./chunk-27TM5UBE.js";import"./chunk-MUNFS2PQ.js";import"./chunk-SY4GQ6JX.js";import"./chunk-THRA3S6L.js";import{a as L}from"./chunk-TM7HV6I4.js";import{a as U}from"./chunk-R4VVRPE7.js";import"./chunk-D4CTFWTI.js";import{a as k}from"./chunk-ZS2ZYLXC.js";import"./chunk-ACU3ECUK.js";import"./chunk-OHGKEFPZ.js";import"./chunk-MO5YK3AA.js";import"./chunk-KWZPRQOD.js";import"./chunk-BMEPSGPW.js";import"./chunk-X2HBFA4R.js";import"./chunk-2FN2TMEO.js";import{c as B}from"./chunk-7CIGM6WR.js";import"./chunk-S2DS6Q2Q.js";import"./chunk-DPOGJLEK.js";import"./chunk-MHZN7LER.js";import{a as l}from"./chunk-JVNW5U7Y.js";import"./chunk-IWZ3GP32.js";import"./chunk-57NIVQFE.js";function $(e){let t,o,r,i;return{c(){t=f("button"),t.textContent="Check All",o=y("\xA0"),c(t,"class","custombutton svelte-vafhru"),c(t,"type","button")},m(n,s){d(n,t,s),d(n,o,s),r||(i=N(t,"click",e[0]),r=!0)},p,i:p,o:p,d(n){n&&(u(t),u(o)),r=!1,i()}}}function T(e){let t=R();function o(){m("storeitems","Check All"),t("checkall")}return[o]}var C=class extends G{constructor(t){super(),I(this,t,T,$,b,{})}},O=C;function q(e){let t,o,r,i;return r=new A({props:{folders:e[0].folders}}),r.$on("filter",e[1]),{c(){t=f("tr"),o=f("td"),V(r.$$.fragment),c(o,"colspan","3"),c(o,"class","svelte-1kpx3t5"),c(t,"class","fshCenter")},m(n,s){d(n,t,s),Z(t,o),W(r,o,null),i=!0},p(n,[s]){let x={};s&1&&(x.folders=n[0].folders),r.$set(x)},i(n){i||(Q(r.$$.fragment,n),i=!0)},o(n){J(r.$$.fragment,n),i=!1},d(n){n&&u(t),j(r)}}}function K(e,t,o){let{inv:r={folders:{}}}=t;function i(n){X.call(this,e,n)}return e.$$set=n=>{"inv"in n&&o(0,r=n.inv)},[r,i]}var h=class extends G{constructor(t){super(),I(this,t,K,q,b,{inv:0})}},_=h;function tt(e,t){return new _({anchor:t,props:{inv:e},target:t.parentNode})}function et(e,t,o){o.checked=!1;let r=g(o),i=e.items[o.value].folder_id,n=t!==-2&&t!==i;a(r,n),a(r.nextElementSibling,n)}function ot(e,t){m("storeitems","Filter Folder"),H([3,S(),0,l(et,e,Number(t.detail))])}function v(e,t){tt(e,t).$on("filter",l(ot,e))}function rt(e,t){let o=[{id:"-1",name:"Main"},...L(e.folders).map(([r,i])=>({id:r,name:i}))];return new D({anchor:t,props:{folders:o},target:t.parentNode})}function nt(e,t,o){e.items[o].folder_id=Number(t)}function it(e,t,o){o.checked=!1,nt(e,t,o.value);let r=g(o);a(r,!0),a(r.nextElementSibling,!0)}async function ct(e,t,o){(await E(t,o.map(i=>i.value))).s&&o.forEach(l(it,e,t))}function lt(e,t){m("storeitems","Move to Folder");let o=U('[name="storeIndex[]"]:checked');w(30,o).forEach(l(ct,e,t.detail))}function F(e,t){rt(e,t).$on("move",l(lt,e))}async function st(){let e=await M();if(!e.folders)return;let[t]=document.forms;v(e,t),F(e,t)}function mt(){P().forEach(e=>{e.checked=!e.disabled&&!e.checked})}function at(){let e=document.forms[0]?.elements;if(!e?.length)return;let[t]=k(e).filter(r=>r.type==="submit");if(!t)return;new O({anchor:t,target:t.parentNode}).$on("checkall",mt)}function dt(){z()&&B("enableFolderFilter")&&st(),at(),Y()}export{dt as default};
//# sourceMappingURL=storeitems-J6SSFW7I.js.map
