import{a as K}from"./chunk-AXGXCT6Z.js";import{a as M}from"./chunk-KGUVVF5H.js";import"./chunk-K4NRSCN7.js";import{a as O}from"./chunk-LZJ5BIMW.js";import{a as J}from"./chunk-EHR57YJJ.js";import"./chunk-XKHB7DNW.js";import{a as z}from"./chunk-WEN7JPPW.js";import{a as B}from"./chunk-A4SVD2MS.js";import{a as q}from"./chunk-XSBXLWG4.js";import"./chunk-AF6X2EPJ.js";import{a as P}from"./chunk-X6FEZLDJ.js";import{a as x}from"./chunk-4VNGVSFE.js";import"./chunk-5THSM4BA.js";import{a as S}from"./chunk-HRU4Z4QT.js";import{$ as A,A as Q,D as d,_ as C,a as l,b as _,d as H,ia as D,ja as V,s as h,t as s,u as a,w as g,y as N,z as y}from"./chunk-NEOIIKPE.js";import"./chunk-XWM4YOEC.js";import{a as v}from"./chunk-VYBTCWLD.js";import"./chunk-Z7UI4YWM.js";import{c as Y,e as T}from"./chunk-CIKNJBXV.js";import"./chunk-GEQ6SBFU.js";import{a as j}from"./chunk-5JOFCACO.js";import{a as b}from"./chunk-HZVS66QI.js";import"./chunk-327LTRO2.js";import"./chunk-27TM5UBE.js";import"./chunk-SY4GQ6JX.js";import"./chunk-THRA3S6L.js";import"./chunk-TM7HV6I4.js";import"./chunk-R4VVRPE7.js";import"./chunk-D4CTFWTI.js";import"./chunk-ZS2ZYLXC.js";import"./chunk-ACU3ECUK.js";import"./chunk-OHGKEFPZ.js";import{a as E}from"./chunk-KGBQEEPA.js";import"./chunk-KWZPRQOD.js";import{a as G}from"./chunk-2FN2TMEO.js";import{c as p}from"./chunk-7CIGM6WR.js";import{ua as R}from"./chunk-S2DS6Q2Q.js";import"./chunk-DPOGJLEK.js";import"./chunk-MHZN7LER.js";import"./chunk-JVNW5U7Y.js";import"./chunk-IWZ3GP32.js";import"./chunk-57NIVQFE.js";function f(e){return q({cmd:"settings",...e})}function F(e){return f({subcmd:"flags",flags:e.map(t=>t?1:0)})}var it=["ui_preference_11","ui_preference_15","disable_wordcensor","ui_preference_30","ui_preference_21","ui_preference_33","ui_preference_23"];function rt(e,t){let i=new FormData(e);return i.append("pvp_ladder",t),x(i.entries())}function ot(e,t){let i=new FormData(e);return it.forEach((n,o)=>i.set(n,t[o+1])),x(i.entries())}async function L(e){let t=await z({cmd:"settings"}),i=rt(t.forms[0],e[0]),n=ot(t.forms[2],e);return await P([i,n].map(o=>j(o))),{s:!0}}function Z(e){return B(F,L,e)}function w(){return f({subcmd:"view"})}function k(){return B(w,K)}function lt(e){return{c:l,m:l,p:l,d:l}}function ct(e){let t=G(e[0]),i,n=t&&$(e);return{c(){n&&n.c(),i=y()},m(o,r){n&&n.m(o,r),s(o,i,r)},p(o,r){r&1&&(t=G(o[0])),t?n?n.p(o,r):(n=$(o),n.c(),n.m(i.parentNode,i)):n&&(n.d(1),n=null)},d(o){o&&a(i),n&&n.d(o)}}}function $(e){let t,i,n={ctx:e,current:null,token:null,hasCatch:!1,pending:gt,then:at,catch:st};return C(i=e[1],n),{c(){t=g("td"),n.block.c(),d(t,"class","svelte-1quw1g")},m(o,r){s(o,t,r),n.block.m(t,n.anchor=null),n.mount=()=>t,n.anchor=null},p(o,r){e=o,n.ctx=e,r&2&&i!==(i=e[1])&&C(i,n)||A(n,e,r)},d(o){o&&a(t),n.block.d(),n.token=null,n=null}}}function st(e){return{c:l,m:l,p:l,d:l}}function at(e){let t,i,n;return{c(){t=g("input"),d(t,"type","checkbox")},m(o,r){s(o,t,r),t.checked=e[0],i||(n=[Q(t,"change",e[6]),Q(t,"click",e[3])],i=!0)},p(o,r){r&1&&(t.checked=o[0])},d(o){o&&a(t),i=!1,_(n)}}}function gt(e){let t;return{c(){t=g("div"),t.innerHTML='<span class="fshSpinner fshSpinner12 svelte-1quw1g"></span>',d(t,"class","svelte-1quw1g")},m(i,n){s(i,t,n)},p:l,d(i){i&&a(t)}}}function ut(e){let t;return{c(){t=g("td"),t.innerHTML='<div class="svelte-1quw1g"><span class="fshSpinner fshSpinner12 svelte-1quw1g"></span></div>',d(t,"class","svelte-1quw1g")},m(i,n){s(i,t,n)},p:l,d(i){i&&a(t)}}}function dt(e){let t,i,n,o,r={ctx:e,current:null,token:null,hasCatch:!1,pending:ut,then:ct,catch:lt};return C(o=e[2](),r),{c(){t=g("tr"),i=g("td"),i.innerHTML=`<span data-tooltip="Ticking this box opts you in to the PVP Ladder,
        unticking it will remove you from the PVP Ladder." class="svelte-1quw1g">PvP Ladder Opt-in:</span>`,n=N(),r.block.c(),d(i,"class","svelte-1quw1g")},m(c,u){s(c,t,u),h(t,i),h(t,n),r.block.m(t,r.anchor=null),r.mount=()=>t,r.anchor=null},p(c,[u]){e=c,A(r,e,u)},i:l,o:l,d(c){c&&a(t),r.block.d(),r.token=null,r=null}}}function pt(e,t,i){let{isOnLadder:n}=t,{toggleLadder:o}=t,r;async function c(){i(0,r=await n())}let u;function et(){i(0,r=!r),i(1,u=o(r)),S("ladder","opt in/out")}function nt(){r=this.checked,i(0,r)}return e.$$set=I=>{"isOnLadder"in I&&i(4,n=I.isOnLadder),"toggleLadder"in I&&i(5,o=I.toggleLadder)},[r,u,c,et,n,o,nt]}var U=class extends V{constructor(t){super(),D(this,t,pt,dt,H,{isOnLadder:4,toggleLadder:5})}},tt=U;var m=0;async function ft(){return m=(await k())?.r?.flags,m?.[0]}function mt(e){if(v(m))return m[0]=e,Z(m)}function It(e){return new tt({props:{toggleLadder:mt,isOnLadder:ft},target:e})}function X(){if(p("optInOnLadderPage")){let e=b("#pCC table tbody");It(e)}}function bt(e){let t=Math.floor((Y()-e)/6e4),i=Math.floor(t/60);return t%=60,`${O(i," hours, ")+t} mins`}function Ct(){let e=p(R);return e<T()?'<span class="fshLink tip-static" data-tipped="FSH has not seen the last ladder reset.<br>You can find it in your log if you qualified<br>or Tavern Rumours.">???</span>':bt(e)}function Bt(e){let t=e.insertCell(-1);t.height=25,J("Last Reset:",t)}function ht(e){let t=e.insertCell(-1);t.align="right",E(Ct(),t)}function Qt(){let e=b("#pCC table");if(!e)return;let t=e.insertRow(-1);Bt(t),ht(t)}function W(){p("trackLadderReset")&&Qt()}function At(){M(),W(),X()}export{At as default};
//# sourceMappingURL=ladder-4MEYBQ2P.js.map
