import{a as Ze}from"./chunk-KKZ6YNXE.js";import{a as Je}from"./chunk-EU5L4HCZ.js";import{a as ke}from"./chunk-JCPTRE4B.js";import{a as He}from"./chunk-GOTRA7A2.js";import{a as De,b as Se}from"./chunk-VGSTDDXU.js";import"./chunk-HDLOTA5I.js";import"./chunk-ECN5M6TA.js";import"./chunk-5THSM4BA.js";import"./chunk-6BJHGS5L.js";import{a as $}from"./chunk-HRU4Z4QT.js";import{$ as Le,A as te,D as Q,F as p,H as Be,X as Ne,Y as We,_ as Ue,a as W,aa as le,b as ye,d as re,fa as Re,ga as fe,ha as he,ia as Ye,ja as Ve,s as c,t as d,u as G,v as me,w as C,x as A,y as m,z as se}from"./chunk-NEOIIKPE.js";import"./chunk-3M4BGLDY.js";import"./chunk-ZHNBOA2F.js";import"./chunk-XWM4YOEC.js";import"./chunk-CA4APEYC.js";import{a as Fe}from"./chunk-EKF7ZDTL.js";import"./chunk-5SCNACF3.js";import{a as Qe}from"./chunk-TM7HV6I4.js";import"./chunk-R4VVRPE7.js";import"./chunk-D4CTFWTI.js";import"./chunk-ZS2ZYLXC.js";import"./chunk-ACU3ECUK.js";import"./chunk-2FN2TMEO.js";import"./chunk-7CIGM6WR.js";import{b as ee}from"./chunk-S2DS6Q2Q.js";import"./chunk-DPOGJLEK.js";import"./chunk-MHZN7LER.js";import"./chunk-JVNW5U7Y.js";import"./chunk-IWZ3GP32.js";import"./chunk-57NIVQFE.js";function _e(i,e,l){let t=i.slice();return t[14]=e[l][0],t[15]=e[l][1],t[16]=e[l][2],t[17]=e[l][3],t[18]=e[l][4],t[19]=e[l][5],t[20]=e[l][6],t[21]=e[l][7],t[22]=e[l][8],t[23]=e[l][9],t}function we(i,e,l){let t=i.slice();return t[26]=e[l][0],t[27]=e[l][1].min,t[28]=e[l][1].max,t}function Oe(i){return{c:W,m:W,p:W,d:W}}function Te(i){let e;function l(n,I){return n[1].length?Ke:Me}let t=l(i,[-1,-1]),g=t(i);return{c(){g.c(),e=se()},m(n,I){g.m(n,I),d(n,e,I)},p(n,I){t===(t=l(n,I))&&g?g.p(n,I):(g.d(1),g=t(n),g&&(g.c(),g.m(e.parentNode,e)))},d(n){n&&G(e),g.d(n)}}}function Me(i){let e;return{c(){e=C("div"),e.textContent="No monster information! Please enable creature log and travel a bit to see the world",Q(e,"class","no-mobs svelte-10oeym4")},m(l,t){d(l,e,t)},p:W,d(l){l&&G(e)}}}function Ke(i){let e,l=le(i[1]),t=[];for(let g=0;g<l.length;g+=1)t[g]=Ee(_e(i,l,g));return{c(){e=C("div");for(let g=0;g<t.length;g+=1)t[g].c();Q(e,"class","data grid svelte-10oeym4")},m(g,n){d(g,e,n);for(let I=0;I<t.length;I+=1)t[I]&&t[I].m(e,null)},p(g,n){if(n[0]&2){l=le(g[1]);let I;for(I=0;I<l.length;I+=1){let F=_e(g,l,I);t[I]?t[I].p(F,n):(t[I]=Ee(F),t[I].c(),t[I].m(e,null))}for(;I<t.length;I+=1)t[I].d(1);t.length=l.length}},d(g){g&&G(e),me(t,g)}}}function $e(i){let e;return{c(){e=C("div"),e.textContent="**Missing**",Q(e,"class","missing svelte-10oeym4")},m(l,t){d(l,e,t)},p:W,d(l){l&&G(e)}}}function qe(i){let e,l=le(i[22]),t=[];for(let g=0;g<l.length;g+=1)t[g]=je(we(i,l,g));return{c(){for(let g=0;g<t.length;g+=1)t[g].c();e=se()},m(g,n){for(let I=0;I<t.length;I+=1)t[I]&&t[I].m(g,n);d(g,e,n)},p(g,n){if(n[0]&2){l=le(g[22]);let I;for(I=0;I<l.length;I+=1){let F=we(g,l,I);t[I]?t[I].p(F,n):(t[I]=je(F),t[I].c(),t[I].m(e.parentNode,e))}for(;I<t.length;I+=1)t[I].d(1);t.length=l.length}},d(g){g&&G(e),me(t,g)}}}function je(i){let e,l=i[26]+"",t,g,n=i[27]+"",I,F,X=i[28]+"",o;return{c(){e=C("div"),t=A(l),g=A(": "),I=A(n),F=A(" - "),o=A(X),Q(e,"class","enhancements svelte-10oeym4")},m(Z,a){d(Z,e,a),c(e,t),c(e,g),c(e,I),c(e,F),c(e,o)},p(Z,a){a[0]&2&&l!==(l=Z[26]+"")&&p(t,l),a[0]&2&&n!==(n=Z[27]+"")&&p(I,n),a[0]&2&&X!==(X=Z[28]+"")&&p(o,X)},d(Z){Z&&G(e)}}}function Ee(i){let e,l,t,g=`url('${ee}creatures/${i[23]}.png')`,n,I,F=i[14]+"",X,o,Z,a=i[15]+"",V,R,y,f=Ze(i[16])+"",h,u,B,v=i[17].min+"",E,z,S=i[17].max+"",J,P,U,_=i[18].min+"",w,q,H=i[18].max+"",j,Y,k,D=i[19].min+"",O,r,x=i[19].max+"",N,be,T,ge=i[20].min+"",Ce,pe,Ie=i[20].max+"",oe,de,M,ie=i[21].min+"",Ge,xe,ce=i[21].max+"",Ae,ue,K,ae;function Xe(s,b){return s[22]?qe:$e}let ne=Xe(i,[-1,-1]),L=ne(i);return{c(){e=C("div"),l=C("div"),n=m(),I=C("div"),X=A(F),o=m(),Z=C("div"),V=A(a),R=m(),y=C("div"),h=A(f),u=m(),B=C("div"),E=A(v),z=A(" - "),J=A(S),P=m(),U=C("div"),w=A(_),q=A(" - "),j=A(H),Y=m(),k=C("div"),O=A(D),r=A(" - "),N=A(x),be=m(),T=C("div"),Ce=A(ge),pe=A(" - "),oe=A(Ie),de=m(),M=C("div"),Ge=A(ie),xe=A(" - "),Ae=A(ce),ue=m(),K=C("div"),L.c(),ae=m(),Q(l,"class","image tip-static svelte-10oeym4"),Q(l,"data-tipped",t="<img height=200 src='"+ee+"creatures/"+i[23]+".png' width=200>"),Be(l,"background-image",g),Q(e,"class","entity svelte-10oeym4")},m(s,b){d(s,e,b),c(e,l),c(e,n),c(e,I),c(I,X),d(s,o,b),d(s,Z,b),c(Z,V),d(s,R,b),d(s,y,b),c(y,h),d(s,u,b),d(s,B,b),c(B,E),c(B,z),c(B,J),d(s,P,b),d(s,U,b),c(U,w),c(U,q),c(U,j),d(s,Y,b),d(s,k,b),c(k,O),c(k,r),c(k,N),d(s,be,b),d(s,T,b),c(T,Ce),c(T,pe),c(T,oe),d(s,de,b),d(s,M,b),c(M,Ge),c(M,xe),c(M,Ae),d(s,ue,b),d(s,K,b),L.m(K,null),c(K,ae)},p(s,b){b[0]&2&&t!==(t="<img height=200 src='"+ee+"creatures/"+s[23]+".png' width=200>")&&Q(l,"data-tipped",t),b[0]&2&&g!==(g=`url('${ee}creatures/${s[23]}.png')`)&&Be(l,"background-image",g),b[0]&2&&F!==(F=s[14]+"")&&p(X,F),b[0]&2&&a!==(a=s[15]+"")&&p(V,a),b[0]&2&&f!==(f=Ze(s[16])+"")&&p(h,f),b[0]&2&&v!==(v=s[17].min+"")&&p(E,v),b[0]&2&&S!==(S=s[17].max+"")&&p(J,S),b[0]&2&&_!==(_=s[18].min+"")&&p(w,_),b[0]&2&&H!==(H=s[18].max+"")&&p(j,H),b[0]&2&&D!==(D=s[19].min+"")&&p(O,D),b[0]&2&&x!==(x=s[19].max+"")&&p(N,x),b[0]&2&&ge!==(ge=s[20].min+"")&&p(Ce,ge),b[0]&2&&Ie!==(Ie=s[20].max+"")&&p(oe,Ie),b[0]&2&&ie!==(ie=s[21].min+"")&&p(Ge,ie),b[0]&2&&ce!==(ce=s[21].max+"")&&p(Ae,ce),ne===(ne=Xe(s,b))&&L?L.p(s,b):(L.d(1),L=ne(s),L&&(L.c(),L.m(K,ae)))},d(s){s&&(G(e),G(o),G(Z),G(R),G(y),G(u),G(B),G(P),G(U),G(Y),G(k),G(be),G(T),G(de),G(M),G(ue),G(K)),L.d()}}}function et(i){return{c:W,m:W,p:W,d:W}}function tt(i){let e,l,t,g,n,I,F,X,o,Z,a,V,R,y,f,h,u,B,v,E,z,S,J,P,U,_,w,q,H,j,Y,k,D,O,r={ctx:i,current:null,token:null,hasCatch:!1,pending:et,then:Te,catch:Oe};return Ue(k=i[6](),r),{c(){e=C("div"),l=C("span"),l.textContent="Entity Information",t=m(),g=C("div"),n=A("[ "),I=C("button"),I.textContent="Clear",F=A(" ]"),X=m(),o=C("div"),Z=C("div"),a=C("button"),a.textContent="Entity",V=m(),R=C("div"),y=C("button"),y.textContent="Class",f=m(),h=C("div"),u=C("button"),u.textContent="Lvl",B=m(),v=C("div"),v.textContent="Attack",E=m(),z=C("div"),z.textContent="Defense",S=m(),J=C("div"),J.textContent="Armor",P=m(),U=C("div"),U.textContent="Damage",_=m(),w=C("div"),w.textContent="HP",q=m(),H=C("div"),H.textContent="Enhancements",j=m(),Y=se(),r.block.c(),Q(l,"class","bold svelte-10oeym4"),Q(I,"type","button"),Q(I,"class","svelte-10oeym4"),Q(e,"class","title svelte-10oeym4"),Q(a,"class","sortable svelte-10oeym4"),Q(a,"type","button"),Q(y,"class","sortable svelte-10oeym4"),Q(y,"type","button"),Q(u,"class","sortable svelte-10oeym4"),Q(u,"type","button"),Q(o,"class","grid headings svelte-10oeym4")},m(x,N){d(x,e,N),c(e,l),c(e,t),c(e,g),c(g,n),c(g,I),c(g,F),d(x,X,N),d(x,o,N),c(o,Z),c(Z,a),c(o,V),c(o,R),c(R,y),c(o,f),c(o,h),c(h,u),c(o,B),c(o,v),c(o,E),c(o,z),c(o,S),c(o,J),c(o,P),c(o,U),c(o,_),c(o,w),c(o,q),c(o,H),d(x,j,N),d(x,Y,N),r.block.m(x,r.anchor=N),r.mount=()=>Y.parentNode,r.anchor=Y,D||(O=[te(I,"click",i[7]),te(a,"click",i[3]),te(y,"click",i[4]),te(u,"click",i[5])],D=!0)},p(x,N){i=x,Le(r,i,N)},d(x){x&&(G(e),G(X),G(o),G(j),G(Y)),r.block.d(x),r.token=null,r=null,D=!1,ye(O)}}}function lt(i){let e;return{c(){e=A("Creature Log")},m(l,t){d(l,e,t)},d(l){l&&G(e)}}}function gt(i){let e,l;return e=new ke({props:{visible:i[0],$$slots:{title:[lt],default:[tt]},$$scope:{ctx:i}}}),e.$on("close",i[2]),{c(){Re(e.$$.fragment)},m(t,g){fe(e,t,g),l=!0},p(t,g){let n={};g[0]&1&&(n.visible=t[0]),g[0]&2|g[1]&1&&(n.$$scope={dirty:g,ctx:t}),e.$set(n)},i(t){l||(Ne(e.$$.fragment,t),l=!0)},o(t){We(e.$$.fragment,t),l=!1},d(t){he(e,t)}}}function It(i,e,l){let{visible:t=!0}=e;function g(){$("Creature Log","close"),l(0,t=!1)}let n=[],I=1,F="",X=([u],[B])=>I*Fe(u,B),o=([,u],[,B])=>I*Fe(u,B),Z=([,,u],[,,B])=>I*(u-B);function a(u,B){I=F===B?I:1,l(1,n=n.slice().sort(u)),F=B,I*=-1}function V(){$("Creature Log","sort by entity"),a(X,"entity")}function R(){$("Creature Log","sort by class"),a(o,"class")}function y(){$("Creature Log","sort by level"),a(Z,"level")}async function f(){let u=await De("fsh_monsterLog");u&&(l(1,n=Qe(u).map(([B,v])=>[B,v.creature_class,v.level,v.attack,v.defense,v.armor,v.damage,v.hp,v.enhancements?Qe(v.enhancements):0,v.image_id])),a(Z,"level"))}async function h(){$("Creature Log","clear storage"),await Je("Are you sure you want to clear your log?")&&(l(1,n=[]),Se("fsh_monsterLog",""))}return i.$$set=u=>{"visible"in u&&l(0,t=u.visible)},[t,n,g,V,R,y,f,h]}var ve=class extends Ve{constructor(e){super(),Ye(this,e,It,gt,re,{visible:0},null,[-1,-1])}},ze=ve;var it={visible:!0},Pe=0;function ct(){Pe=He(it,Pe,ze)}export{ct as default};
//# sourceMappingURL=creatureLog-7IHY2CKR.js.map
