import{a as h}from"./chunk-ZKVDLQHG.js";import{a as y}from"./chunk-ER6GT5DE.js";import"./chunk-U4PTS6TH.js";import"./chunk-5I23UAD2.js";import{a as m,b as d}from"./chunk-UFIVL32F.js";import"./chunk-R3OD4O6G.js";import{a as g}from"./chunk-MN23NMMM.js";import"./chunk-X6FEZLDJ.js";import"./chunk-4BR3KQG3.js";import"./chunk-C7ETWZP7.js";import{a as u}from"./chunk-NBEUIW37.js";import"./chunk-PXJZZGPY.js";import"./chunk-W2XMDHBV.js";import"./chunk-B6CSHUIO.js";import"./chunk-HYRNIGZC.js";import"./chunk-O3WMWG4C.js";import"./chunk-K3XM2YMD.js";import"./chunk-B2HZSNN4.js";import"./chunk-S5FVRE4H.js";import"./chunk-2FWCZQ2C.js";import{a as i}from"./chunk-4VNGVSFE.js";import"./chunk-PQQEDEVZ.js";import{b as e}from"./chunk-VGSTDDXU.js";import"./chunk-3M4BGLDY.js";import"./chunk-ZHNBOA2F.js";import"./chunk-XWM4YOEC.js";import"./chunk-Z7UI4YWM.js";import"./chunk-CA4APEYC.js";import"./chunk-SKCGLBFP.js";import"./chunk-CQCU44WW.js";import"./chunk-IKLQU6YP.js";import{f as a}from"./chunk-CIKNJBXV.js";import{a as p}from"./chunk-VZP2JUPU.js";import"./chunk-GEQ6SBFU.js";import"./chunk-5JOFCACO.js";import"./chunk-NFXVO5QH.js";import"./chunk-E546N3MN.js";import"./chunk-NPERBP7A.js";import"./chunk-SPFEL7UW.js";import"./chunk-327LTRO2.js";import"./chunk-27TM5UBE.js";import"./chunk-EKF7ZDTL.js";import"./chunk-5SCNACF3.js";import"./chunk-MUNFS2PQ.js";import"./chunk-SY4GQ6JX.js";import"./chunk-THRA3S6L.js";import{a as c}from"./chunk-TM7HV6I4.js";import"./chunk-R4VVRPE7.js";import"./chunk-D4CTFWTI.js";import"./chunk-ZS2ZYLXC.js";import"./chunk-ACU3ECUK.js";import"./chunk-X2HBFA4R.js";import{a as f}from"./chunk-7CIGM6WR.js";import"./chunk-S2DS6Q2Q.js";import"./chunk-DPOGJLEK.js";import"./chunk-MHZN7LER.js";import"./chunk-JVNW5U7Y.js";import"./chunk-IWZ3GP32.js";import"./chunk-57NIVQFE.js";var _=t=>[t.name,[h(t.last_activity),t.current_stamina,t.level,t.max_stamina,a(),t.vl,t.guild_xp]],k=t=>t.members.map(_),M=t=>t.r.flatMap(k),w=[t=>!t,(t,o)=>t[1]!==o[1],(t,o)=>t[2]!==o[2],(t,o)=>t[3]>o[3],(t,o)=>t[5]!==o[5],(t,o)=>t[6]!==o[6]],C=t=>!t.some(f),D=t=>!t.some(u),E=([,t])=>t.length,F=([t,o])=>[t,o.filter(C).filter(D)],G=t=>c(t.members||{}).map(F).filter(E),I=(t,o)=>t[4]>o[4]?t:o,L=([t,o])=>[t,o.reduce(I)],S=t=>([o,n])=>w.some(s=>s(t[o]?.[0],n)),U=([t,o])=>[t,[o]],T=t=>([o,n])=>[o,n.filter(s=>s[4]!==t[o][4])],V=t=>([o])=>!t[o]||a()-t[o][4]>=86100,W=(t,o,n)=>({lastUpdate:a(),members:i(g({...t,...o,...n}).map(s=>[s,[...t[s]??[],...o[s]??[],...n[s]??[]]]))}),q=(t,o,n)=>W(i(t.map(T(o))),i(c(o).filter(S(n)).map(U)),n);function z(t,o,n){!t||!o||!n||e(m,q(o,n,i(t.map(U))))}function B(t){t&&e(m,{lastUpdate:a(),members:i(t)})}function H(t,o){let n=G(t),s=i(n.map(L)),l=M(o).filter(V(s));l.length?z(l,n,s):B(n)}async function J(t){let o=await y();o.s&&H(t,o)}var K=t=>a()>p(t.lastUpdate,0)+300;function P(t){K(t)&&J(t)}async function Q(){let t=await d();P(t)}export{Q as default};
//# sourceMappingURL=guildActivity-SLFWU7MJ.js.map
