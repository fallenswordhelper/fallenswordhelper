import{a as u,b as h,c as m}from"./chunk-WRQCPAYF.js";import{a as Q,b as C}from"./chunk-2NU22J4C.js";import{a as j}from"./chunk-JDH7VIMF.js";import{a as q}from"./chunk-NKI4UEHE.js";import{a as T,b as A}from"./chunk-KREIUUYX.js";import{a as R}from"./chunk-A4SVD2MS.js";import{a as g}from"./chunk-5JOFCACO.js";import{a}from"./chunk-THRA3S6L.js";import{a as y}from"./chunk-TM7HV6I4.js";import{a as k}from"./chunk-ACU3ECUK.js";import{a as w}from"./chunk-JVNW5U7Y.js";function l(r,t,e){return Q({subcmd2:"recall",id:r,player_id:t,mode:e})}async function p(r,t,e){let o=await g({cmd:"guild",subcmd:"inventory",subcmd2:"recall",id:r,player_id:t,mode:e});return q(o)}function s(r,t,e){return R(l,p,r,t,e)}async function d(r,t,e){let o=await s(r,t,e);return h(o)}async function i(r,t,e){return await r(t),e}function B(r,t,e){if(!A(e))return;let o=e.items[e.items.length-1].a;if(r==="wear")return i(u,o,t);if(r==="use")return i(m,o,t)}async function E(r,t){if(t.r===0&&r!=="recall"){let e=await T();B(r,t,e)}return t}async function x([r,t,e,o,v]){await v;let c=await d(r,t,e);if(j(c),c)return E(o,c)}function G(r,t){if(r==="wear")return i(u,t.b,t);if(r==="use")return i(m,t.b,t)}function O(r,t){return t.r===0&&r!=="take"?G(r,t):t}async function I(r,t,e){await e;let o=await C(r);return O(t,o)}var n;function b(){return n||(n=Promise.resolve()),n}function pr(r,t){return n=I(r,t,b()),n}function sr(r,t,e,o){return n=x([r,t,e,o,b()]),n}function S(r){return k(/&id=(?<id>\d+)/,r)}function _(r,t,[e,o]){a(o)&&o!==null?r[e]=t(o.constructor(),o):r[e]=o}function f(r,t){return a(t)&&y(t).forEach(w(_,r,f)),r}function D(r){return r?.constructor&&f(r.constructor(),r)}export{pr as a,sr as b,S as c,D as d};
//# sourceMappingURL=chunk-AWSTIIU6.js.map
