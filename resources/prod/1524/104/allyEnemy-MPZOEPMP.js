import{a as Q}from"./chunk-R7T4ZQAY.js";import"./chunk-LZJ5BIMW.js";import"./chunk-BLQUXFLH.js";import{a as y}from"./chunk-5XXWOW37.js";import{a as h}from"./chunk-LXYEJJWX.js";import{a as p}from"./chunk-TWE5Q525.js";import"./chunk-3SL5WG7I.js";import"./chunk-LJRMEKGW.js";import{a as L}from"./chunk-TJPZYDQS.js";import"./chunk-VYP6NXID.js";import"./chunk-EDDILQHZ.js";import{a as O}from"./chunk-B3TMG7X6.js";import{a as A}from"./chunk-HT2E4BH5.js";import"./chunk-MC5MD6GH.js";import{a as u}from"./chunk-3OTERK3T.js";import"./chunk-ZWF3BA7K.js";import"./chunk-JD6SFYTB.js";import{a as w}from"./chunk-5CREU7DW.js";import"./chunk-B2HZSNN4.js";import"./chunk-S5FVRE4H.js";import{a as v}from"./chunk-2FWCZQ2C.js";import"./chunk-PQQEDEVZ.js";import"./chunk-VGSTDDXU.js";import{a as C}from"./chunk-HRU4Z4QT.js";import"./chunk-3M4BGLDY.js";import"./chunk-ZHNBOA2F.js";import"./chunk-XWM4YOEC.js";import"./chunk-TLD65X3G.js";import"./chunk-VYBTCWLD.js";import"./chunk-Z7UI4YWM.js";import"./chunk-CA4APEYC.js";import{f as d}from"./chunk-CIKNJBXV.js";import"./chunk-VRA7M2VL.js";import{a as R}from"./chunk-RIMALT5Z.js";import{a as m}from"./chunk-VZP2JUPU.js";import"./chunk-MG45P7RB.js";import"./chunk-CQKCIFA5.js";import"./chunk-327LTRO2.js";import"./chunk-27TM5UBE.js";import{a as k}from"./chunk-MUNFS2PQ.js";import"./chunk-SY4GQ6JX.js";import"./chunk-THRA3S6L.js";import"./chunk-TM7HV6I4.js";import"./chunk-ZS2ZYLXC.js";import"./chunk-ACU3ECUK.js";import{a as $}from"./chunk-OHGKEFPZ.js";import{a as I}from"./chunk-KGBQEEPA.js";import{a as P}from"./chunk-MO5YK3AA.js";import{a}from"./chunk-KWZPRQOD.js";import"./chunk-7CIGM6WR.js";import{A as E,B as S,y as B}from"./chunk-S2DS6Q2Q.js";import"./chunk-DPOGJLEK.js";import"./chunk-MHZN7LER.js";import{a as r}from"./chunk-JVNW5U7Y.js";import{a as i}from"./chunk-IWZ3GP32.js";import"./chunk-57NIVQFE.js";var o="enemy-buff-check-on",g="enemy-buff-check-off",f="enemy-send-message",l="enemy-quickbuff",b="enemy-quick-buff";var T=[[e=>e<120,"fshDodgerBlue","fshRed"],[e=>e<300,"fshDodgerBlue","fshRed"],[()=>!0,"fshPowderBlue","fshPink"]];function N(e,n){return e?n[1]:n[2]}function _(e,n){return n[0](d()-e)}function G(e,n){let t=T.find(r(_,e));return t?N(n,t):"fshWhite"}function j(e,n){return`<a class="player-name tip-static ${G(e.last_login,n)}" data-tipped="<b>${e.username}</b><br><table><tbody><tr><td>Level:</td><td>${e.level}</td></tr><tr><td>Last Activity:</td><td>${Q(e.last_login)}</td></tr></tbody></table>" href="${B}${e.id}">${e.username}</a>`}function q(){return i.hideBuffSelected?"":`<span class="${o}"></span>`}function H(){return i.hideGuildInfoMessage?"":`<span class="${f} enemy-icon guild-minibox-action tip-static" data-tipped="Send Message"></span>`}function z(){return i.hideGuildInfoBuff?"":`<span class="${l} enemy-icon guild-minibox-action tip-static" data-tipped="Quick Buff"></span>`}function U(e){return i.hideGuildInfoSecureTrade?"":`<a class="enemy-secure-trade enemy-icon guild-minibox-action tip-static" href="${S}${e.username}" data-tipped="Secure Trade"></a>`}function F(e){return i.hideGuildInfoTrade?"":`<a class="enemy-trade enemy-icon guild-minibox-action tip-static" href="${E}${e.username}" data-tipped="Send Gold/Items/FSP"></a>`}function V(e){return d()-e.last_login<1800}function W(e,n){return`<li class="player"><div class="player-row">${q()}${j(n,e)}</div><div class="guild-minibox-actions">${H()}${z()}${U(n)}${F(n)}</div></li>`}function c(e,n){return e.filter(V).map(r(W,n)).join("")}var J=[(e,n)=>e.length+n.length,(e,n)=>{if(!i.enableAllyOnlineList)return n.length},e=>{if(!i.enableEnemyOnlineList)return e.length}];function s(e){C("allyEnemy",e)}function K(e,n,t){return t(e,n)===0}function X(e,n){return J.every(r(K,e,n))}function Y(e,n){let t="";i.enableAllyOnlineList&&(t+=c(e,!0)),i.enableEnemyOnlineList&&(t+=c(n,!1));let x=a("fshContactList");I("",x),u(x,t)}function M(e){let n=m(e._allies,[]),t=m(e._enemies,[]);X(n,t)||Y(n,t)}async function Z(){s("resetList");let e=await p(!0);M(e)}function D(e){s("toggleBuffSelected"),e.classList.toggle(o),e.classList.toggle(g)}function ee(e){s("msgPlayer"),window.openQuickMsgDialog(k(e.parentNode.previousElementSibling.lastElementChild))}function ne(e){s("buffPlayer"),h(y(e.parentNode.previousElementSibling.lastElementChild.href))}function te(){s("selectedBuff");let n=O(o,a("fshContactList")).map(t=>y(t.nextElementSibling.href)).join(",");h(n)}var ie=[[o,D],[g,D],[f,ee],[l,ne],[b,te]];function oe(e){let{target:n}=e;if(n.id==="fshResetEnemy"){Z();return}L(ie)(e)}function re(e){let n=w({id:"fshAllyEnemy",className:"minibox"}),t='<h3>Allies/Enemies</h3><div class="minibox-content"><h4>Online Contacts <span id="fshResetEnemy">Reset</span></h4><div class="minibox-enemy"><ul id="fshContactList"></ul>';i.hideBuffSelected||(t+=`<ul class="${b}">Quick Buff Selected</ul>`),t+="</div></div>",u(n,t),v($(),n),P(n,oe),M(e)}function se(e){e&&A(3,re,[e])}async function fe(){if(R())return;let e=await p(!1);se(e)}export{fe as default};
//# sourceMappingURL=allyEnemy-MPZOEPMP.js.map
