import{a as X}from"./chunk-3LAPNBHC.js";import{a as Q}from"./chunk-K4WAYVFG.js";import"./chunk-2O62DMEN.js";import{a as K}from"./chunk-KQ7UILAN.js";import"./chunk-DZINK3CI.js";import{a as C}from"./chunk-CKXQAU55.js";import{a as J}from"./chunk-BRCSGVHL.js";import{C as d,X as k,Y as y,a as s,b as I,d as M,ea as W,fa as B,r as L,s as l,t as c,v as f,x as E,y as j,z as v}from"./chunk-BG5LHYCF.js";import{a as D}from"./chunk-VKNAZHSW.js";import{a as w}from"./chunk-3KOSRNPL.js";import{a as N}from"./chunk-SGIZTIIQ.js";import"./chunk-WHTJ2U55.js";import{a as Y}from"./chunk-6LDE5WBM.js";import{a as V}from"./chunk-UFHHOZKJ.js";import"./chunk-6ZR46QZG.js";import"./chunk-3VMUJXQR.js";import"./chunk-CBMSPOBL.js";import{a as H}from"./chunk-C4VXH3KO.js";import"./chunk-5E32VBFN.js";import{a as z,c as G}from"./chunk-N47W3DMT.js";import{a as _}from"./chunk-ZDEOOWYD.js";import"./chunk-2XKKIH7K.js";import"./chunk-JZI3CAHX.js";import{a as U}from"./chunk-L5KUFFVQ.js";import"./chunk-UYGGJ3YF.js";import"./chunk-EE5B6X24.js";import"./chunk-CCHDXXIW.js";import"./chunk-LWLVQTKS.js";import"./chunk-WBTHTD34.js";import{a as b}from"./chunk-IRBVAK7D.js";import"./chunk-G34A357Q.js";import"./chunk-FEFVGSP2.js";import"./chunk-EJENCRJV.js";import"./chunk-IWCA3B2P.js";import{b as p}from"./chunk-EEF6C5L4.js";import"./chunk-SVYRHE6Z.js";import"./chunk-OIO6LGXZ.js";import{ua as O}from"./chunk-KWAUBU52.js";import"./chunk-TISVYXYU.js";import"./chunk-S3EM322F.js";function m(t){return N({cmd:"settings",...t})}function S(t){return m({subcmd:"flags",flags:t.map(e=>e?1:0)})}var ne=["ui_preference_11","ui_preference_15","disable_wordcensor","ui_preference_30","ui_preference_21","ui_preference_33","ui_preference_23"];function re(t,e){let r=new FormData(t);return r.append("pvp_ladder",e),C(r.entries())}function oe(t,e){let r=new FormData(t);return ne.forEach((n,i)=>r.set(n,e[i+1])),C(r.entries())}async function q(t){let e=await J({cmd:"settings"}),r=re(e.forms[0],t[0]),n=oe(e.forms[2],t);return await Promise.all([r,n].map(i=>U(i))),{s:!0}}function R(t){return w(S,q,t)}function x(){return m({subcmd:"view"})}function F(){return w(x,X)}function ie(t){return{c:s,m:s,p:s,d:s}}function se(t){let e=b(t[0]),r,n=e&&Z(t);return{c(){n&&n.c(),r=j()},m(i,o){n&&n.m(i,o),l(i,r,o)},p(i,o){o&1&&(e=b(i[0])),e?n?n.p(i,o):(n=Z(i),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&c(r)}}}function Z(t){let e,r,n={ctx:t,current:null,token:null,hasCatch:!1,pending:ce,then:le,catch:ae};return k(r=t[1],n),{c(){e=f("td"),n.block.c(),d(e,"class","svelte-1quw1g")},m(i,o){l(i,e,o),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null},p(i,o){t=i,n.ctx=t,o&2&&r!==(r=t[1])&&k(r,n)||y(n,t,o)},d(i){i&&c(e),n.block.d(),n.token=null,n=null}}}function ae(t){return{c:s,m:s,p:s,d:s}}function le(t){let e,r,n;return{c(){e=f("input"),d(e,"type","checkbox")},m(i,o){l(i,e,o),e.checked=t[0],r||(n=[v(e,"change",t[6]),v(e,"click",t[3])],r=!0)},p(i,o){o&1&&(e.checked=i[0])},d(i){i&&c(e),r=!1,I(n)}}}function ce(t){let e;return{c(){e=f("div"),e.innerHTML='<span class="fshSpinner fshSpinner12 svelte-1quw1g"></span>',d(e,"class","svelte-1quw1g")},m(r,n){l(r,e,n)},p:s,d(r){r&&c(e)}}}function fe(t){let e;return{c(){e=f("td"),e.innerHTML='<div class="svelte-1quw1g"><span class="fshSpinner fshSpinner12 svelte-1quw1g"></span></div>',d(e,"class","svelte-1quw1g")},m(r,n){l(r,e,n)},p:s,d(r){r&&c(e)}}}function ue(t){let e,r,n,i,o={ctx:t,current:null,token:null,hasCatch:!1,pending:fe,then:se,catch:ie,value:7};return k(i=t[2](),o),{c(){e=f("tr"),r=f("td"),r.innerHTML='<span data-tooltip="Ticking this box opts you in to the PVP Ladder, unticking it will remove you from the PVP Ladder." class="svelte-1quw1g">PvP Ladder Opt-in:</span>',n=E(),o.block.c(),d(r,"class","svelte-1quw1g")},m(a,u){l(a,e,u),L(e,r),L(e,n),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null},p(a,[u]){t=a,y(o,t,u)},i:s,o:s,d(a){a&&c(e),o.block.d(),o.token=null,o=null}}}function de(t,e,r){let{isOnLadder:n}=e,{toggleLadder:i}=e,o;async function a(){r(0,o=await n())}let u;function ee(){r(0,o=!o),r(1,u=i(o)),D("ladder","opt in/out")}function te(){o=this.checked,r(0,o)}return t.$$set=h=>{"isOnLadder"in h&&r(4,n=h.isOnLadder),"toggleLadder"in h&&r(5,i=h.toggleLadder)},[o,u,a,ee,n,i,te]}var P=class extends B{constructor(e){super(),W(this,e,de,ue,M,{isOnLadder:4,toggleLadder:5})}},$=P;var g=0;async function pe(){return g=(await F()).r?.flags,g?.[0]}function me(t){if(V(g))return g[0]=t,R(g)}function ge(t){return new $({props:{toggleLadder:me,isOnLadder:pe},target:t})}function A(){if(p("optInOnLadderPage")){let t=_("#pCC table tbody");ge(t)}}function he(t){let e=Math.floor((z()-t)/6e4),r=Math.floor(e/60);return e%=60,`${K(r," hours, ")+e} mins`}function _e(){let t=p(O);return t<G()?'<span class="fshLink tip-static" data-tipped="FSH has not seen the last ladder reset.<br>You can find it in your log if you qualified<br>or Tavern Rumours.">???</span>':he(t)}function ke(t){let e=t.insertCell(-1);e.height=25,Y("Last Reset:",e)}function we(t){let e=t.insertCell(-1);e.align="right",H(_e(),e)}function be(){let t=_("#pCC table");if(!t)return;let e=t.insertRow(-1);ke(e),we(e)}function T(){p("trackLadderReset")&&be()}function Le(){Q(),T(),A()}export{Le as default};
//# sourceMappingURL=ladder-GKN4P2DD.js.map
