import{a as m,b as y,c as f}from"./chunk-YZMYLE3Z.js";import{a as q,b as w}from"./chunk-MTWCR7W4.js";import{a as Q}from"./chunk-RG4CE2ZN.js";import{a as A}from"./chunk-JKVCLQ72.js";import{a as T}from"./chunk-QSYVVMHZ.js";import{a as R}from"./chunk-TWHHUG4E.js";import{a as g}from"./chunk-XNL3JTED.js";import{a as p}from"./chunk-YYW2XVVC.js";import{a as k}from"./chunk-LGXHSUMA.js";import{a as i}from"./chunk-OQC4RYIZ.js";import{a as h}from"./chunk-NVWIQHSW.js";function c(r,t,e){return q({subcmd2:"recall",id:r,player_id:t,mode:e})}function a(r,t,e){return g({cmd:"guild",subcmd:"inventory",subcmd2:"recall",id:r,player_id:t,mode:e}).then(A)}function d(r,t,e){return R(c,a,r,t,e)}function s(r,t,e){return d(r,t,e).then(y)}function n(r,t,e){return r(t).then(()=>e)}function v(r,t,e){if(!e)return;let o=e.items[e.items.length-1].a;if(r==="wear")return n(m,o,t);if(r==="use")return n(f,o,t)}function B(r,t){return t.r===0&&r!=="recall"?T().then(i(v,r,t)):t}function x(r,t,e,o){return s(r,t,e).then(Q).then(i(B,o))}function E(r,t){if(r==="wear")return n(m,t.b,t);if(r==="use")return n(f,t.b,t)}function G(r,t){return t.r===0&&r!=="take"?E(r,t):t}function I(r,t){return w(r).then(i(G,t))}var u;function C(){return u||(u=Promise.resolve()),u}function cr(r,t){return u=C().then(i(I,r,t)),u}function ar(r,t,e,o){return u=C().then(i(x,r,t,e,o)),u}function S(r){return h(/&id=(?<id>\d+)/,r)}function _(r,t,[e,o]){p(o)&&o!==null?r[e]=t(o.constructor(),o):r[e]=o}function l(r,t){return p(t)&&k(t).forEach(i(_,r,l)),r}function b(r){return r?.constructor&&l(r.constructor(),r)}export{cr as a,ar as b,S as c,b as d};
//# sourceMappingURL=chunk-KLMLFKVP.js.map
