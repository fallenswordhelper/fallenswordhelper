import{a as Qe}from"./chunk-MIVZGWKK.js";import{a as Ve}from"./chunk-2C4MQ2F6.js";import{a as Ue}from"./chunk-L5GYGE7W.js";import{a as Ye,b as He,c as Ne}from"./chunk-L777W7YI.js";import{a as Ae}from"./chunk-GG7H7FEB.js";import{a as Re}from"./chunk-XMOL5L4Q.js";import"./chunk-UUT7WP72.js";import{a as Oe}from"./chunk-YKPSGJH4.js";import{C as g,E as ne,J as de,K as Le,N as Be,O as he,P as le,R as ce,S as ae,T as ue,U as y,V as w,X as be,Y as De,a as b,aa as fe,b as je,ba as R,ca as Y,d as W,da as H,ea as X,fa as x,i as ze,j as Ce,k as Ie,l as Fe,r as m,s as v,t as S,u as pe,v as _,w as q,x as F,y as _e,z as V}from"./chunk-BJ3QEZIV.js";import{a as Ee}from"./chunk-2WLRS4TM.js";import"./chunk-BRNAB2IH.js";import"./chunk-76FHETNA.js";import"./chunk-KJFTQFZJ.js";import"./chunk-2LVJ7OMH.js";import"./chunk-3W6W2D5U.js";import"./chunk-DPJOHNXM.js";import{a as U}from"./chunk-PEST2X2S.js";import"./chunk-Q5V66F5H.js";import"./chunk-UBU4HOCG.js";import"./chunk-VK76KS6Y.js";import"./chunk-DVQ4HTUG.js";import"./chunk-AW7BR4RY.js";import{a as qe}from"./chunk-PHHPFC5F.js";import"./chunk-X2INWW4Q.js";import"./chunk-E5IM4RMA.js";import"./chunk-BSLTHMLI.js";import"./chunk-YO375HFG.js";import"./chunk-C7AAZRMQ.js";import"./chunk-WFSZD2EF.js";import{a as me}from"./chunk-ROGCWJM3.js";import"./chunk-PPVZKS76.js";import"./chunk-MVK2MUWC.js";import{a as Te}from"./chunk-GVB5EEEL.js";import"./chunk-Z4DLYK4X.js";import"./chunk-7KZSXEZV.js";import"./chunk-Y6VKRV7H.js";import"./chunk-QTXZJQPG.js";import"./chunk-NSORKVUP.js";import"./chunk-TDBXMRU5.js";import"./chunk-BBWJJBGA.js";import{b as se}from"./chunk-ILOP54SQ.js";import"./chunk-AGGFW4LO.js";import"./chunk-XGNI62R7.js";import{Ga as Pe,b as Me}from"./chunk-QFVOKILJ.js";import"./chunk-6ZU7XATI.js";function lt(t){let e,n,l;return{c(){e=_("button"),e.textContent="\xD7",g(e,"class","modal-close ui-dialog-titlebar-close svelte-12ycrze"),g(e,"type","button")},m(o,c){v(o,e,c),n||(l=V(e,"click",t[0]),n=!0)},p:b,i:b,o:b,d(o){o&&S(e),n=!1,l()}}}function ot(t){let e=Be();return[()=>e("close")]}var ge=class extends x{constructor(e){super(),X(this,e,ot,lt,W,{})}},Ze=ge;function rt(t){let e,n,l,o,c,r,s;o=new Ze({}),o.$on("close",t[5]);let i=t[4].default,a=ze(i,t,t[9],null);return{c(){e=_("div"),n=q(t[0]),l=F(),R(o.$$.fragment),c=F(),r=_("div"),a&&a.c(),g(e,"class","modal-title ui-widget-header ui-helper-reset ui-helper-clearfix svelte-1whj1n2"),g(r,"class","modal-content svelte-1whj1n2")},m(u,d){v(u,e,d),m(e,n),m(e,l),Y(o,e,null),t[6](e),v(u,c,d),v(u,r,d),a&&a.m(r,null),s=!0},p(u,d){(!s||d&1)&&ne(n,u[0]),a&&a.p&&(!s||d&512)&&Ie(a,i,u,u[9],s?Ce(i,u[9],d,null):Fe(u[9]),null)},i(u){s||(y(o.$$.fragment,u),y(a,u),s=!0)},o(u){w(o.$$.fragment,u),w(a,u),s=!1},d(u){u&&S(e),H(o),t[6](null),u&&S(c),u&&S(r),a&&a.d(u)}}}function it(t){let e,n,l;function o(r){t[7](r)}let c={visible:t[1],$$slots:{default:[rt]},$$scope:{ctx:t}};return t[2]!==void 0&&(c.modal=t[2]),e=new Ye({props:c}),le.push(()=>fe(e,"modal",o)),e.$on("close",t[8]),{c(){R(e.$$.fragment)},m(r,s){Y(e,r,s),l=!0},p(r,[s]){let i={};s&2&&(i.visible=r[1]),s&521&&(i.$$scope={dirty:s,ctx:r}),!n&&s&4&&(n=!0,i.modal=r[2],ce(()=>n=!1)),e.$set(i)},i(r){l||(y(e.$$.fragment,r),l=!0)},o(r){w(e.$$.fragment,r),l=!1},d(r){H(e,r)}}}function st(t,e,n){let{$$slots:l={},$$scope:o}=e,{title:c=""}=e,{visible:r=!0}=e,s,i;Le(()=>{Ee(i,s)});function a(p){he.call(this,t,p)}function u(p){le[p?"unshift":"push"](()=>{i=p,n(3,i)})}function d(p){s=p,n(2,s)}function j(p){he.call(this,t,p)}return t.$$set=p=>{"title"in p&&n(0,c=p.title),"visible"in p&&n(1,r=p.visible),"$$scope"in p&&n(9,o=p.$$scope)},[c,r,s,i,l,a,u,d,j,o]}var ke=class extends x{constructor(e){super(),X(this,e,st,it,W,{title:0,visible:1})}},Ge=ke;function ct(t){return`${t.amount} x ${Pe[t.type]}`}var at=[[t=>t.components?.length,t=>`You successfully extracted 1 '${t.components?.[0].n}' component(s) from 1 resource(s).`],[t=>t.frags,t=>`You gained ${t.frags.map(ct).join(", ")} Fragments by opening the Fragment Stash.`],[t=>t.mailbox_items?.length,t=>`You received 1 x '${t.mailbox_items?.[0].n}' from the container.`],[()=>1,()=>'<span class="fshRed">You failed to extract any components from resource(s).</span>']];function $e(t){return at.find(([e])=>e(t))[1](t)}var ut=(t,e,n)=>`fetchitem.php?item_id=${e}&inv_id=${n}&t=1&p=${t}`,ft=t=>`background-image: url(${Me}items/${t}.gif)`;function ve(t,e){return Oe(e,"item_name").map(n=>({...n,count:e.filter(l=>l.item_name===n.item_name).length,delPending:!1,extractIds:e.filter(l=>l.item_name===n.item_name).map(l=>l.inv_id),style:ft(n.item_id),tip:ut(t,n.item_id,n.inv_id)}))}function Je(t,e,n){let l=t.slice();return l[28]=e[n].count,l[29]=e[n].delPending,l[30]=e[n].item_name,l[31]=e[n].style,l[32]=e[n].tip,l[34]=n,l}function Ke(t,e,n){let l=t.slice();return l[35]=e[n],l}function mt(t){let e;return{c(){e=q("Refresh")},m(n,l){v(n,e,l)},d(n){n&&S(e)}}}function We(t){let e,n=t[35]+"";return{c(){e=_("li"),g(e,"class","svelte-11rzj5c")},m(l,o){v(l,e,o),e.innerHTML=n},p(l,o){o[0]&64&&n!==(n=l[35]+"")&&(e.innerHTML=n)},d(l){l&&S(e)}}}function pt(t){return{c:b,m:b,p:b,i:b,o:b,d:b}}function _t(t){let e,n,l=t[5],o=[];for(let r=0;r<l.length;r+=1)o[r]=Xe(Je(t,l,r));let c=r=>w(o[r],1,1,()=>{o[r]=null});return{c(){for(let r=0;r<o.length;r+=1)o[r].c();e=_e()},m(r,s){for(let i=0;i<o.length;i+=1)o[i].m(r,s);v(r,e,s),n=!0},p(r,s){if(s[0]&4128){l=r[5];let i;for(i=0;i<l.length;i+=1){let a=Je(r,l,i);o[i]?(o[i].p(a,s),y(o[i],1)):(o[i]=Xe(a),o[i].c(),y(o[i],1),o[i].m(e.parentNode,e))}for(ae(),i=l.length;i<o.length;i+=1)c(i);ue()}},i(r){if(!n){for(let s=0;s<l.length;s+=1)y(o[s]);n=!0}},o(r){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)w(o[s]);n=!1},d(r){pe(o,r),r&&S(e)}}}function dt(t){let e;return{c(){e=q("Done")},m(n,l){v(n,e,l)},p:b,i:b,o:b,d(n){n&&S(e)}}}function ht(t){let e,n,l,o,c=[gt,bt],r=[];function s(i,a){return i[29]?0:1}return e=s(t,[-1,-1]),n=r[e]=c[e](t),{c(){n.c(),l=_e()},m(i,a){r[e].m(i,a),v(i,l,a),o=!0},p(i,a){let u=e;e=s(i,a),e===u?r[e].p(i,a):(ae(),w(r[u],1,1,()=>{r[u]=null}),ue(),n=r[e],n?n.p(i,a):(n=r[e]=c[e](i),n.c()),y(n,1),n.m(l.parentNode,l))},i(i){o||(y(n),o=!0)},o(i){w(n),o=!1},d(i){r[e].d(i),i&&S(l)}}}function bt(t){let e,n;function l(){return t[16](t[34])}return e=new Re({props:{$$slots:{default:[kt]},$$scope:{ctx:t}}}),e.$on("click",l),{c(){R(e.$$.fragment)},m(o,c){Y(e,o,c),n=!0},p(o,c){t=o;let r={};c[0]&32|c[1]&128&&(r.$$scope={dirty:c,ctx:t}),e.$set(r)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){H(e,o)}}}function gt(t){let e;return{c(){e=_("span"),g(e,"class","fshSpinner fshSpinner12")},m(n,l){v(n,e,l)},p:b,i:b,o:b,d(n){n&&S(e)}}}function kt(t){let e,n=t[28]+"",l;return{c(){e=q("Extract "),l=q(n)},m(o,c){v(o,e,c),v(o,l,c)},p(o,c){c[0]&32&&n!==(n=o[28]+"")&&ne(l,n)},d(o){o&&S(e),o&&S(l)}}}function Xe(t){let e,n,l,o,c,r,s,i,a,u,d,j=t[30]+"",p,N,C,z=[ht,dt],E=[];function A(k,$){return k[28]?0:1}return l=A(t,[-1,-1]),o=E[l]=z[l](t),{c(){e=_("tr"),n=_("td"),o.c(),c=F(),r=_("td"),s=_("span"),u=F(),d=_("td"),p=q(j),N=F(),g(n,"class","svelte-11rzj5c"),de(n,"delPending",t[29]),g(s,"class","imgSpan tip-dynamic svelte-11rzj5c"),g(s,"data-tipped",i=t[32]),g(s,"style",a=t[31]),g(r,"class","imgCol svelte-11rzj5c")},m(k,$){v(k,e,$),m(e,n),E[l].m(n,null),m(e,c),m(e,r),m(r,s),m(e,u),m(e,d),m(d,p),m(e,N),C=!0},p(k,$){let L=l;l=A(k,$),l===L?E[l].p(k,$):(ae(),w(E[L],1,1,()=>{E[L]=null}),ue(),o=E[l],o?o.p(k,$):(o=E[l]=z[l](k),o.c()),y(o,1),o.m(n,null)),$[0]&32&&de(n,"delPending",k[29]),(!C||$[0]&32&&i!==(i=k[32]))&&g(s,"data-tipped",i),(!C||$[0]&32&&a!==(a=k[31]))&&g(s,"style",a),(!C||$[0]&32)&&j!==(j=k[30]+"")&&ne(p,j)},i(k){C||(y(o),C=!0)},o(k){w(o),C=!1},d(k){k&&S(e),E[l].d()}}}function $t(t){return{c:b,m:b,p:b,i:b,o:b,d:b}}function vt(t){let e,n,l,o,c,r,s,i,a,u,d,j,p,N,C,z,E,A,k,$,L,oe,B,ee,Z,O,re,G,J,te,f;function Q(h){t[13](h)}let ie={};t[2]!==void 0&&(ie.inSt=t[2]),c=new Ve({props:ie}),le.push(()=>fe(c,"inSt",Q)),c.$on("toggle",t[8]),z=new Qe({props:{$$slots:{default:[mt]},$$scope:{ctx:t}}}),z.$on("click",t[11]);let K=t[6],P=[];for(let h=0;h<K.length;h+=1)P[h]=We(Ke(t,K,h));let T={ctx:t,current:null,token:null,hasCatch:!1,pending:$t,then:_t,catch:pt,blocks:[,,,]};return be(G=t[1],T),{c(){e=_("div"),n=q(`Select which type of plants you wish to extract all of. Only select extractable resources.
    `),l=_("br"),o=F(),R(c.$$.fragment),s=q(`\xA0
    `),i=_("label"),a=_("input"),u=q(`
      Main Folder Only`),d=q(`\xA0
    `),j=_("label"),p=_("input"),N=q(`
      Disable Prompts`),C=q(`\xA0
    `),R(z.$$.fragment),E=F(),A=_("br"),k=F(),$=_("table"),L=_("thead"),L.innerHTML=`<tr><th class="actionCol svelte-11rzj5c">Actions</th> 
          <th colspan="2">Items</th></tr>`,oe=F(),B=_("tbody"),ee=_("tr"),Z=_("td"),O=_("ol");for(let h=0;h<P.length;h+=1)P[h].c();re=F(),T.block.c(),g(a,"type","checkbox"),g(a,"class","svelte-11rzj5c"),g(p,"type","checkbox"),g(p,"class","svelte-11rzj5c"),g(Z,"colspan","3"),g($,"class","svelte-11rzj5c"),g(e,"class","svelte-11rzj5c")},m(h,M){v(h,e,M),m(e,n),m(e,l),m(e,o),Y(c,e,null),m(e,s),m(e,i),m(i,a),a.checked=t[3],m(i,u),m(e,d),m(e,j),m(j,p),p.checked=t[4],m(j,N),m(e,C),Y(z,e,null),m(e,E),m(e,A),m(e,k),m(e,$),m($,L),m($,oe),m($,B),m(B,ee),m(ee,Z),m(Z,O);for(let D=0;D<P.length;D+=1)P[D].m(O,null);m(B,re),T.block.m(B,T.anchor=null),T.mount=()=>B,T.anchor=null,J=!0,te||(f=[V(a,"change",t[14]),V(a,"change",t[9]),V(p,"change",t[15]),V(p,"change",t[10])],te=!0)},p(h,M){t=h;let D={};!r&&M[0]&4&&(r=!0,D.inSt=t[2],ce(()=>r=!1)),c.$set(D),M[0]&8&&(a.checked=t[3]),M[0]&16&&(p.checked=t[4]);let ye={};if(M[1]&128&&(ye.$$scope={dirty:M,ctx:t}),z.$set(ye),M[0]&64){K=t[6];let I;for(I=0;I<K.length;I+=1){let we=Ke(t,K,I);P[I]?P[I].p(we,M):(P[I]=We(we),P[I].c(),P[I].m(O,null))}for(;I<P.length;I+=1)P[I].d(1);P.length=K.length}T.ctx=t,M[0]&2&&G!==(G=t[1])&&be(G,T)||De(T,t,M)},i(h){J||(y(c.$$.fragment,h),y(z.$$.fragment,h),y(T.block),J=!0)},o(h){w(c.$$.fragment,h),w(z.$$.fragment,h);for(let M=0;M<3;M+=1){let D=T.blocks[M];w(D)}J=!1},d(h){h&&S(e),H(c),H(z),pe(P,h),T.block.d(),T.token=null,T=null,te=!1,je(f)}}}function St(t){let e,n;return e=new Ge({props:{visible:t[0],title:"Quick Extract",$$slots:{default:[vt]},$$scope:{ctx:t}}}),e.$on("close",t[7]),{c(){R(e.$$.fragment)},m(l,o){Y(e,l,o),n=!0},p(l,o){let c={};o[0]&1&&(c.visible=l[0]),o[0]&126|o[1]&128&&(c.$$scope={dirty:o,ctx:l}),e.$set(c)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){w(e.$$.fragment,l),n=!1},d(l){H(e,l)}}}var yt="Are you sure you want to extract all similar items?",wt="selectST",xe="selectMain",et="disableQuickExtractPrompts";function Et(t,e,n){let{visible:l=!0}=e,o,c,r=se(wt),s=se(xe),i=se(et),a,u,d=[],j=f=>f.item_name==="Zombie Coffin"||f.type===12||f.type===16,p=(f,Q)=>Te(f.item_name,Q.item_name),N=f=>r||!f.is_in_st,C=f=>!s||f.folder_id===-1;function z(){U("quickExtract","close"),n(0,l=!1)}function E(){n(5,u=ve(c,a.filter(N).filter(C)))}function A(){U("quickExtract","toggleSelectST"),E()}function k(){U("quickExtract","toggleSelectMain"),me(xe,s),E()}function $(){U("quickExtract","togglePrompts"),me(et,i)}async function L(){let f=await Ue();c=f.player_id,a=f.items.filter(j).sort(p),E()}function oe(){U("quickExtract","refresh"),n(6,d=[]),n(1,o=L())}let B;function ee(f){return!f.s&&B!==f.e.message&&(B=f.e.message,n(6,d=[...d,f.e.message])),f.s}async function Z(f){let Q=await Ae(f);ee(Q)&&(n(6,d=[...d,$e(Q.r)]),a=a.filter(ie=>ie.inv_id!==f))}async function O(f){U("quickExtract","extract",i),(i?!0:await Ne(yt))&&(n(5,u[f].delPending=!0,u),await qe(u[f].extractIds.map(Z)),n(5,u[f].count=0,u))}function re(f){r=f,n(2,r)}function G(){s=this.checked,n(3,s)}function J(){i=this.checked,n(4,i)}let te=f=>O(f);return t.$$set=f=>{"visible"in f&&n(0,l=f.visible)},t.$$.update=()=>{if(t.$$.dirty[0]&1){e:l&&(n(6,d=[]),n(1,o=L()))}},[l,o,r,s,i,u,d,z,A,k,$,oe,O,re,G,J,te]}var Se=class extends x{constructor(e){super(),X(this,e,Et,St,W,{visible:0},null,[-1,-1])}},tt=Se;var Mt={visible:!0},nt;function Pt(){nt=He(Mt,nt,tt)}export{Pt as default};
//# sourceMappingURL=quickExtract-3QTLMJ3Z.js.map
