{"version":3,"file":"composing-DL8XqtCj.js","sources":["src/modules/composing/costing.js","src/modules/composing/backgroundCreate.js","src/modules/ajax/createPotionFromTemplate.js","src/modules/composing/fastCompose/fastCompose.js","src/modules/composing/parseComposing.js","src/modules/app/composing/collect.js","src/modules/_dataAccess/fallbacks/composingCollect.js","src/modules/composing/quickCollect/quickCollect.js","src/modules/_dataAccess/daComposingCollect.js","src/modules/composing/quickCreate.js","src/modules/composing/composing.js"],"sourcesContent":null,"names":["costs","setupCosts","templates","map","buffs","duration","id","cost","Math","max","level","reduce","sum","scenarios","thisCost","existingCostDiv","select","remove","setText","addCommas","insertHtmlBeforeEnd","parentNode","injectCost","find","Number","value","querySelector","scenario","fn","changeTemplate","e","test","target","costing","selectors","querySelectorArray","pcc","length","async","json","daComposing","s","r","forEach","on","init","updateInfoDiv","infoDiv","potName","setInnerHtml","children","classList","add","style","backgroundImage","cdn","getRandomInt","createSuccess","temp","myParent","previousElementSibling","selectedIndex","text","querySelectorAll","setValue","defNeedToCompose","createPotion","data","resultNode","error","potionDone","tempId","unsafe","indexAjax","cache","dataType","cmd","subcmd","template_id","fshrnd","rnd","jsonParse","createPotionFromTemplate","backgroundCreate","publish","doTableClass","myTable","slotsLeft","toString","quickcreate","handleClick","evt","button","templateId","dataset","sendEvent","openTemplates","i","nextElementSibling","composePots","buildCells","template","myRow","_compSlot","val","insertCell","insertElement","createInput","className","type","buildRows","compSlots","partial","insertRow","keyValuePairs","el","setupFastCompose","fcDiv","openSlots","createTable","buildTable","onclick","subscribe","drawList","getArrayByClassName","document","filter","contains","timeRemaining","timeGroup","regExpGroups","etaRe","getText","h","m","now","setNeed","bool","collect","pid","composing","potion_id","composingCollect","buffDoc","indexAjaxDoc","message","infoBox","includes","injectButtons","btn","getAttribute","split","insertHtmlAfterBegin","isOurTarget","tagName","injectResult","container","doQuickCollect","ctx","disabled","result","$dataAccess","daComposingCollect","ret","handleResult","hdlQuickCollect","injectButton","insertHtmlAfterEnd","hdlQuickCreate","doQuickCreate","hasJQuery","calf","enableComposingAlert","eta","min","defLastComposeCheck","parseComposing","getValue","buttonDiv","getElementById","setAttribute","top","getElementsByClassName","insertElementBefore","moveButtons","createDiv","insertElementAfter","fcCheck","once","fastCompose","jQueryPresent"],"mappings":"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"}