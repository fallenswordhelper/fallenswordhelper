import{a as b}from"./chunk-VPD24PIK.js";import{a as w}from"./chunk-VML6VTTW.js";import{a as N}from"./chunk-73BUZD3L.js";import"./chunk-34NYN3UK.js";import{a as C}from"./chunk-4KBBARFN.js";import"./chunk-57Z3RMCJ.js";import{a as A}from"./chunk-7XTGUVW5.js";import{a as y}from"./chunk-CF4P6XS2.js";import{a as p}from"./chunk-AH5EZJ7R.js";import"./chunk-G3R5NAPB.js";import"./chunk-CQ3PZTYF.js";import"./chunk-C5OE7PQU.js";import"./chunk-RY5JB5JV.js";import{a as e}from"./chunk-XDUXVHJP.js";import"./chunk-ZOPLLTNB.js";import"./chunk-HTCI2HHR.js";import{a as T}from"./chunk-SWDYJ63E.js";import{a as d}from"./chunk-FM7OJ7NO.js";import"./chunk-HA7HK2NF.js";import"./chunk-U546IVLZ.js";import"./chunk-DXI2WUUD.js";import"./chunk-JQPK3YVC.js";import{a as x}from"./chunk-HT7PAWAR.js";import"./chunk-T34QP7UC.js";import"./chunk-WHLURLGI.js";import"./chunk-M6FQTS4T.js";import{a as s}from"./chunk-VU3PZWN5.js";import{b as r}from"./chunk-FTOV4GKD.js";import"./chunk-NY6FBFCL.js";import"./chunk-UWALNOSV.js";import"./chunk-27JTUOQX.js";import"./chunk-POXCGSYQ.js";import{S as h,pa as i,qa as m}from"./chunk-M72CYKCS.js";import{a as g}from"./chunk-ZP7KCDX3.js";function v(o){let t=o.match(/ETA: (\d+)h (\d+)m (\d+)s/);return{time_remaining:Number(t[1])*60*60+Number(t[2])*60+Number(t[3])}}function j(o){let t=A(o),l=s("composing-potion",t);if(l.length===0)return{s:!1};let B=l.length,M=s("composing-potion-time",t).map(C).filter(_=>_.endsWith("s")).map(v);return{r:{max_potions:B,potions:M},s:!0}}function c(){return y({cmd:"composing"}).then(j)}function f(o){return N(T({cmd:"composing"},o))}function a(){return f({subcmd:"view"})}function u(){return w(a,c)}var D=`<li class="notification"><a href="${h}"><span class="notification-icon"></span><p class="notification-content">Composing to do</p></a></li>`;function n(){b(d("notifications"),D)}function E(o){return o.time_remaining}function k(){n(),e(i,!0)}function I(o){let t=Math.min.apply(null,o.map(E));t>0?(e(i,!1),e(m,p+t*1e3)):k()}function L(o){o.potions.length!==o.max_potions?k():I(o.potions)}function P(o){o.s&&L(o.r)}function R(){let o=r(m);o&&p<o||u().then(P)}function V(){r(i)?n():R()}function $(){g.cmd!=="composing"&&x()&&V()}export{$ as default};
//# sourceMappingURL=injectComposeAlert-SV3PMG3X.js.map
