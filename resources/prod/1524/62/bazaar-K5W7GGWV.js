import{a as k}from"./chunk-SMCCJT2N.js";import"./chunk-NANTGT4Y.js";import{a as R,b as S}from"./chunk-PVK2FE5P.js";import{a as H}from"./chunk-HUVFJU6B.js";import"./chunk-L3KWCNKY.js";import{a as h}from"./chunk-6WXPRACV.js";import{a as _}from"./chunk-VML6VTTW.js";import{a as L}from"./chunk-73BUZD3L.js";import"./chunk-34NYN3UK.js";import{a as i}from"./chunk-5RCOVVCV.js";import{a as I}from"./chunk-U6MH67WD.js";import{a as d}from"./chunk-V3AM6ELX.js";import"./chunk-QVPWC52X.js";import{a as B}from"./chunk-IXAZ6GFZ.js";import{a as g}from"./chunk-YIEWHY6V.js";import"./chunk-7XTGUVW5.js";import{a as T}from"./chunk-CF4P6XS2.js";import"./chunk-G3R5NAPB.js";import"./chunk-CQ3PZTYF.js";import{a as z}from"./chunk-C5OE7PQU.js";import"./chunk-RY5JB5JV.js";import{a as N}from"./chunk-5AABVCBG.js";import{a as A}from"./chunk-VWMHLX6I.js";import"./chunk-SWDYJ63E.js";import{b as m}from"./chunk-QOWOSZRG.js";import{a as x}from"./chunk-3WYOJJSD.js";import{a as n}from"./chunk-FM7OJ7NO.js";import"./chunk-HA7HK2NF.js";import"./chunk-U546IVLZ.js";import"./chunk-DXI2WUUD.js";import"./chunk-JQPK3YVC.js";import"./chunk-HT7PAWAR.js";import"./chunk-T34QP7UC.js";import"./chunk-WHLURLGI.js";import"./chunk-M6FQTS4T.js";import{a as u}from"./chunk-2URZ55LX.js";import"./chunk-FTOV4GKD.js";import"./chunk-NY6FBFCL.js";import{a as y}from"./chunk-UWALNOSV.js";import"./chunk-POXCGSYQ.js";import"./chunk-M72CYKCS.js";import"./chunk-ZP7KCDX3.js";async function l(t,e){let a=await T({cmd:"potionbazaar",subcmd:"buyitem",item_id:t,quantity:e}),r=H(a);return r==="You purchased the item!"?{r:Array(e),s:!0}:{e:{message:r},s:!1}}function c(t,e){return L({cmd:"potionbazaar",subcmd:"buyitem",item_id:t,quantity:e})}function p(t,e){return _(c,l,t,e)}var o='<table class="fshBazaar"><tr><td colspan="5">Select an item to quick-buy:</td></tr><tr><td colspan="5">Select how many to quick-buy</td></tr><tr><td colspan="5"><input id="buy_amount" class="fshNumberInput" type="number" min="0" max="99" value="1"></td></tr><tr><td>@0@</td><td>@1@</td><td>@2@</td><td>@3@</td><td>@4@</td></tr><tr><td>@5@</td><td>@6@</td><td>@7@</td><td>@8@</td><td>@9@</td></tr><tr><td colspan="3">Selected item:</td><td id="selectedItem" colspan="2"></td></tr><tr><td colspan="5"><span class="fshBazaarWarning fshHide">Warning:<br>pressing [<span id="fshBuy" class="fshLink">This button</span>] now will buy the <span id="quantity">1</span> item(s) WITHOUT confirmation!</span></td></tr><tr><td colspan="5"><span id="buyResultLabel"></span><ol id="buy_result"></ol></td></tr></table>',$=`<span class="bazaarButton tip-dynamic" style="background-image: url('@src@');" itemid="@itemid@" data-tipped="@tipped@"></span>`,f,b,q,w,s,E,W;function v(){return k(b.value)}function C(t,e){i(e,s),f=t.getAttribute("itemid"),w.classList.remove("fshHide");let a=t.cloneNode(!1);a.className="bazaarSelected tip-dynamic";let r=q;x("",r),I(r,a)}function F(t){let{target:e}=t;if(!A("bazaarButton",e))return;let a=v();!a||C(e,a)}function Q(){let t=v();t&&i(t,s)}function V(t){let e=W;S(t,e)||t.s&&R(`You purchased ${t.r.length} item(s)!`,e)}async function j(){if(!f)return;let t=z(s);i(`Buying ${t} items`,E);let e=await p(f,t);V(e)}function Y(t,e){let a=t.children[0],{tipped:r}=a.dataset;o=o.replace(`@${e}@`,$).replace("@src@",a.getAttribute("src")).replace("@itemid@",r.match(/\?item_id=(\d+)/)[1]).replace("@tipped@",r)}function D(){b=n("buy_amount"),q=n("selectedItem"),w=d(".fshBazaarWarning"),s=n("quantity"),E=n("buyResultLabel"),W=n("buy_result")}function M(){D(),u(d(".fshBazaar"),F),y(b,"input",Q),u(n("fshBuy"),j)}function O(){if(N())return;let t=g("img",m)[0];t.className="fshFloatLeft",B("a",m).forEach(Y),o=o.replace(/@\d@/g,""),h(t.parentNode,o),M()}export{O as default};
//# sourceMappingURL=bazaar-K5W7GGWV.js.map
