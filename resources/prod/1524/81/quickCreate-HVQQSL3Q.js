import{a as st}from"./chunk-VHJJDJJV.js";import{a as y}from"./chunk-AR6EUPJF.js";import"./chunk-G6SFDQ22.js";import"./chunk-55JYMPLZ.js";import"./chunk-XX54RQJZ.js";import{a as N}from"./chunk-3QZFISQ7.js";import"./chunk-SWN5GBXU.js";import{a as G}from"./chunk-QL55SON4.js";import{a as it}from"./chunk-AFZPZB3B.js";import"./chunk-VNRHH6ZI.js";import{a as nt}from"./chunk-2BRTHILW.js";import"./chunk-AOXRIH6C.js";import{C as w,G as M,N as Z,O as x,P,R as F,U as I,V as k,aa as Q,ba as T,ca as C,d as W,da as q,ea as tt,fa as et,r as X,s as u,t as p,v as $,w as Y,x as E}from"./chunk-YOLLD3EX.js";import"./chunk-ZCOVPDKX.js";import"./chunk-WKDTOFNZ.js";import{a as v}from"./chunk-X5DGSHWJ.js";import"./chunk-Y2XOJYUP.js";import{a as B}from"./chunk-VIE5ZNPH.js";import"./chunk-OKCEI7IO.js";import{b as K}from"./chunk-U2LW7DMT.js";import{a as R}from"./chunk-CF6OUIZ5.js";import{a as ot}from"./chunk-SKV52MA5.js";import{a as J}from"./chunk-EPL4X55B.js";import"./chunk-F5F7ZRBL.js";import"./chunk-4LPHXEVA.js";import"./chunk-C6CNCMW2.js";import"./chunk-RLPGZCX6.js";import"./chunk-6TE7Y3DR.js";import"./chunk-JNLLRLHL.js";import"./chunk-IPQXTCLP.js";import"./chunk-3FPE4KHJ.js";import{a as g}from"./chunk-SOFFOM3C.js";import"./chunk-PRUVPLE4.js";import"./chunk-YVFHCM2A.js";import"./chunk-3WYYB24O.js";import{b as U}from"./chunk-SYO7WFPA.js";import"./chunk-FNQX6KHV.js";import"./chunk-SARQWG4K.js";import"./chunk-7Q74Q23I.js";import"./chunk-B3OIOQDS.js";import"./chunk-7X7SMYZT.js";async function S(t,e){let n=await Promise.all(t.map(e));return t.filter((s,r)=>n[r])}async function D(t,e){for(let n of t)if(await e(n))return!0;return!1}function d(t){return t.id.split("-")[2]}function rt(t,e){let[n]=e.children[0].children;t.items[d(n)].is_in_st&&(n.style.backgroundColor="rgba(255,0,0,0.3)")}function pt(t,e){e.filter(n=>n.addedNodes?.[0]?.tagName==="DIV").forEach(n=>{rt(t,n.addedNodes[0])})}function L(t){let e=R("auction-items");J(e.children).forEach(g(rt,t)),new MutationObserver(g(pt,t)).observe(e,{childList:!0})}function dt(t){let e;return{c(){e=Y("Perfect")},m(n,s){u(n,e,s)},d(n){n&&p(e)}}}function gt(t){let e,n,s,r,c,a,h,_,m,l,o,b;function mt(i){t[4](i)}let j={};t[0]!==void 0&&(j.howMany=t[0]),n=new st({props:j}),P.push(()=>Q(n,"howMany",mt)),n.$on("select",t[2]);function ut(i){t[5](i)}let z={};return t[1]!==void 0&&(z.inSt=t[1]),a=new it({props:z}),P.push(()=>Q(a,"inSt",ut)),a.$on("toggle",t[6]),l=new nt({props:{$$slots:{default:[dt]},$$scope:{ctx:t}}}),l.$on("click",t[3]),{c(){e=$("div"),T(n.$$.fragment),r=E(),c=$("div"),T(a.$$.fragment),_=E(),m=$("div"),o=$("div"),T(l.$$.fragment),w(e,"class","svelte-16r61e8"),w(c,"class","svelte-16r61e8"),M(o,"display","contents"),M(o,"--button-color","blue"),w(m,"class","svelte-16r61e8")},m(i,f){u(i,e,f),C(n,e,null),u(i,r,f),u(i,c,f),C(a,c,null),u(i,_,f),u(i,m,f),X(m,o),C(l,o,null),b=!0},p(i,[f]){let A={};!s&&f&1&&(s=!0,A.howMany=i[0],F(()=>s=!1)),n.$set(A);let H={};!h&&f&2&&(h=!0,H.inSt=i[1],F(()=>h=!1)),a.$set(H);let O={};f&256&&(O.$$scope={dirty:f,ctx:i}),l.$set(O)},i(i){b||(I(n.$$.fragment,i),I(a.$$.fragment,i),I(l.$$.fragment,i),b=!0)},o(i){k(n.$$.fragment,i),k(a.$$.fragment,i),k(l.$$.fragment,i),b=!1},d(i){i&&p(e),q(n),i&&p(r),i&&p(c),q(a),i&&p(_),i&&p(m),q(l)}}}function ht(t,e,n){let s=Z(),r="all",c=U("selectST");function a(o){s("select",[o.detail,r,c])}function h(){s("perf",[r,c])}function _(o){r=o,n(0,r)}function m(o){c=o,n(1,c)}function l(o){x.call(this,t,o)}return[r,c,a,h,_,m,l]}var V=class extends et{constructor(e){super(),tt(this,e,ht,gt,W,{})}},ct=V;function _t(){return new ct({target:K()})}var $t=t=>t.parentNode.parentNode.dataset.tipped,yt=t=>$t(t).split("?")[1],St=t=>G(yt(t),"item_id"),at=t=>ot(Number(t))?1/0:Number(t),bt=async t=>(await y()).items[d(t)].type,vt=async t=>await bt(t)===12,wt=async t=>(await y()).items[d(t)].craft,It=async t=>await wt(t)==="Perfect",kt=[t=>t==="-1",(t,e)=>St(e)===t,(t,e)=>t==="-2"&&vt(e)],Tt=async(t,e,n)=>Boolean(await n(t,e)),Ct=(t,e)=>D(kt,g(Tt,t,e)),qt=async(t,e)=>Boolean(await Ct(t,e)),Nt=(t,e)=>S(e,g(qt,t)),Et=async t=>!(await y()).items[d(t)].is_in_st,lt=(t,e)=>t?e:S(e,Et);async function Mt([t,e,n],s){(await Nt(t,await lt(n,s))).slice(0,at(e)).forEach(N)}function ft(t,e){let n=B("#auction-items .selectable-item");n.length&&(B("#auction-items .auction-create-selected div").forEach(N),e(t.detail,n))}function Pt(t){v("ahQuickCreate","Select Filter"),ft(t,Mt)}async function Ft([t,e],n){(await S(await lt(e,n),It)).slice(0,at(t)).forEach(N)}function Qt(t){v("ahQuickCreate","Perfect Filter"),ft(t,Ft)}function Bt(){v("ahQuickCreate","toggleSelectST")}async function Dt(){let t=await y(),e=_t();e.$on("select",Pt),e.$on("perf",Qt),e.$on("toggle",Bt),t.items.fshHasST&&L(t)}export{Dt as default};
//# sourceMappingURL=quickCreate-HVQQSL3Q.js.map
