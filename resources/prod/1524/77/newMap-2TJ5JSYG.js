import{a as Xi,b as Ji}from"./chunk-O57Q4TD6.js";import{a as ji}from"./chunk-IVJLPK2U.js";import"./chunk-U4WEI4ZE.js";import"./chunk-V5R64OFD.js";import"./chunk-NGKPR6AE.js";import{a as Qi}from"./chunk-D233NS7P.js";import{a as Wi}from"./chunk-J2E7KN76.js";import{a as Et}from"./chunk-VOOJN26J.js";import{a as Ui,b as zi,c as Yi}from"./chunk-JR4FALFI.js";import{a as qi}from"./chunk-BHIKAEH3.js";import{b as $i}from"./chunk-MQPSOZ6S.js";import{a as Ri}from"./chunk-MCROFHVL.js";import{a as Ii}from"./chunk-QDXZE4ZE.js";import{a as P}from"./chunk-2G5GHNBT.js";import{a as Ae,b as St}from"./chunk-WY5JIT56.js";import"./chunk-634HM75F.js";import{a as _i,b as Oi}from"./chunk-XPKWO7HV.js";import{a as T}from"./chunk-AV35OVSL.js";import{a as Pi}from"./chunk-36FUVBBR.js";import{a as Ki}from"./chunk-WMMKWPLQ.js";import{a as Fi}from"./chunk-2VR5NOST.js";import{a as Gi}from"./chunk-64GTSOHK.js";import{a as Ei,b as Mi}from"./chunk-3XTL7MB6.js";import{a as Si}from"./chunk-75XX4JRH.js";import{a as Hi}from"./chunk-HKAYSAQY.js";import{a as bt}from"./chunk-7EUNRNV5.js";import{a as Lt}from"./chunk-YLJ5WQFO.js";import{a as g}from"./chunk-UEKTL3GS.js";import"./chunk-RDSCKWJA.js";import"./chunk-SLCWMNGK.js";import{a as bi}from"./chunk-WDGFK37L.js";import{a as Li}from"./chunk-VCV7REQ5.js";import{a as wi}from"./chunk-4E2YVSJZ.js";import"./chunk-JWAQRFW6.js";import{a as wt}from"./chunk-SZEXNAKU.js";import"./chunk-Y6MBXIH7.js";import{B as b,D as kt,F as gi,V as fr,W as vi,a as xt,ba as yi,ca as Di,d as di,e as lr,q as k,r as le,s as fe,t as pi,u as L,v as xe,w as ke,x as hi}from"./chunk-ZDREL3ML.js";import"./chunk-JWUVIYOZ.js";import{a as Ai}from"./chunk-LHB2SCWA.js";import{a as Bi}from"./chunk-IPS2UWPP.js";import{a as ur}from"./chunk-5IVXNVBM.js";import"./chunk-KFZCV3AV.js";import{a as h}from"./chunk-DPFMLBRO.js";import{a as sr}from"./chunk-5MFIR2R5.js";import{a as Bt}from"./chunk-U2PCCPBA.js";import{a as Ti,b as Vi,c as Ni}from"./chunk-PP5CIW6G.js";import{a as Ci}from"./chunk-NCV4IZDE.js";import{a as Be}from"./chunk-MIINMRYG.js";import{a as At}from"./chunk-7MY4ZH6V.js";import"./chunk-DCJXYOQS.js";import{a as xi}from"./chunk-MFLWHROG.js";import"./chunk-J22DKY4X.js";import"./chunk-SBJPKY7I.js";import{a as Nn}from"./chunk-YNMXI4M2.js";import{a as oi}from"./chunk-3IWRIV6F.js";import"./chunk-6SA2V4IJ.js";import"./chunk-EW4KFSJU.js";import{a as mi}from"./chunk-FGCHGAPB.js";import{a as Ce}from"./chunk-QGISXAKM.js";import{a as we}from"./chunk-CF6YUP27.js";import{a as ki}from"./chunk-73C4CZQC.js";import"./chunk-KWSYP2L6.js";import{a as re}from"./chunk-DJURCDAC.js";import"./chunk-K4A73PNG.js";import{a as Ct}from"./chunk-2RAEWUHY.js";import{a as f}from"./chunk-JPVL323O.js";import{a as m}from"./chunk-MPQTMPMU.js";import{a as i}from"./chunk-U6JCSF56.js";import"./chunk-XAX5HKDY.js";import{a as I}from"./chunk-5MF2YXQB.js";import{a as ri}from"./chunk-EY5RBC27.js";import{a as ai}from"./chunk-NXLFQQSK.js";import"./chunk-A56I4QYT.js";import{f as ae}from"./chunk-GP52NI66.js";import{a as Dt}from"./chunk-QOUVIVGT.js";import"./chunk-ADYMHPX2.js";import{a as ye}from"./chunk-67CTFPBW.js";import{a as gt}from"./chunk-ISHIO47H.js";import{a as ii}from"./chunk-APHEMB2A.js";import{a as oe}from"./chunk-PSHFCZCL.js";import{a as ve}from"./chunk-ZXTXYIKP.js";import"./chunk-WAXULKJZ.js";import{a as si}from"./chunk-XWANSCMS.js";import{a as ui}from"./chunk-BDRC5WHN.js";import"./chunk-SJ34J5WR.js";import{a as ci}from"./chunk-4ULUKIZ4.js";import{a as De}from"./chunk-ZL7L5RNG.js";import"./chunk-6JEBQQXB.js";import"./chunk-WSSW4LE4.js";import"./chunk-XAK3RXQ4.js";import{a as z}from"./chunk-JKCGPSLU.js";import{a as ie}from"./chunk-KZMROKUM.js";import{a as pt,b as ar}from"./chunk-7ISBQY3F.js";import"./chunk-LJGQ6BIE.js";import{a as li}from"./chunk-RXZ343DN.js";import{a as ht}from"./chunk-YYF4XEZN.js";import{a as ni}from"./chunk-ODP3NXYP.js";import"./chunk-3FN7LFWY.js";import{a as y}from"./chunk-GGOZ3OO7.js";import"./chunk-MO44YMNC.js";import"./chunk-QB5S66YQ.js";import{a as Y}from"./chunk-4YBZYZES.js";import{a as ne}from"./chunk-I6OWQH4S.js";import{a as w}from"./chunk-4Q2W2AV2.js";import{a}from"./chunk-QJIXYOVR.js";import{a as fi}from"./chunk-EMIYNX52.js";import{a as U}from"./chunk-UHDN7CXZ.js";import"./chunk-PVJ32AKX.js";import"./chunk-QMUMVPKQ.js";import{a as u}from"./chunk-ANHXFVGQ.js";import{a as vt,b as yt}from"./chunk-BWQ25E6K.js";import"./chunk-CU6VQLH4.js";import{a as dt}from"./chunk-4D7SULLS.js";import"./chunk-RGJLWSH5.js";import"./chunk-IHC7UOJU.js";import{a as B}from"./chunk-D545QQO5.js";import{b as p}from"./chunk-PIEHJDPR.js";import{a as ti}from"./chunk-Q3ZGTWEX.js";import{a as R}from"./chunk-Z5QM5T22.js";import{$ as Pn,Aa as Xn,Ba as Jn,Ca as jn,Da as Zn,Ea as ei,K as nr,N as $n,Na as mt,P as ir,X as Rn,Y as ge,Z as st,_ as In,aa as _n,b as te,ba as Fn,ca as On,da as Kn,e as ft,ea as qn,fa as Wn,ga as ut,ha as Un,ia as zn,ja as Yn,k as he,la as Qn,ma as W,na as ct,oa as E,p as or,x as Gn}from"./chunk-N7OQJWUZ.js";import{a as n}from"./chunk-CAZ242LS.js";var se;function kl(e){return e}function wl(e){return n.showBuffInfo&&e.some(kl)}function Cl(){if(se)g(se,!1);else{se=m({className:"fshActionBox",innerHTML:"<div></div><div></div><div></div><div></div><div></div><div></div>"});let e=a("actionContainer");Li(se,e.children[2])}return se}function Bl(){se&&g(se,!0)}function cr(e){if(wl(e))return Cl();Bl()}var _,mr;function Al(e){_=e.children[3],_.className="fshBlue",f("CA ",_),mr=h(),i(_,mr),P(_," active")}function bl(e,t){_?g(_,!1):Al(e),f(t.level,mr)}function Ll(){_&&g(_,!0)}function dr(e,t){t?bl(e,t):Ll()}var F,pr;function Sl(e){F=e.children[4],F.className="fshRed",f("Doubler ",F),pr=h(),i(F,pr),P(F," active")}function El(e,t){F?g(F,!1):Sl(e),f(t.level,pr)}function Ml(){F&&g(F,!0)}function hr(e,t){t?El(e,t):Ml()}var Q,gr;function Hl(e){Q=e.children[2],f("Damage bonus: ",Q),gr=h(),i(Q,gr),P(Q,"%")}function Tl(e,t){if(e){let r=Math.min(Math.round(Math.floor(t/5)*Number(e.level))*.01,20);return Ae(r,2).toString()}return"0"}function Vl(e,t,r){Q?g(Q,!1):Hl(e),f(Tl(t,Number(r)),gr)}function Nl(){Q&&g(Q,!0)}function vr(e,t,r){t?Vl(e,t,r):Nl()}function d(e,t){f(Y(e),t)}var ue,yr;function Gl(e){ue=e.children[1],f("Kill Streak: ",ue),yr=h(),i(ue,yr)}function $l(e,t){ue?g(ue,!1):Gl(e),d(t,yr)}function Rl(){ue&&g(ue,!0)}function Dr(e,t,r,o){t||r?$l(e,o):Rl()}function Il(e,t){return t.name===e}function X(e){let{buffs:t}=GameData.player();if(t)return t.find(u(Il,e))}function xr(){let e=GameData.player().teleportCooldown;return e>1&&e}var Pl=["red","orange","yellow"];function kr(){let e=$("#actionlist-shield-imp");e.length===1&&e.css("background-color",Pl[e.text()]||"#ad8043")}var V=0,wr=0;function _l(e){Ji(e)&&GameData.fetch(W)}function Fl(){X("Summon Shield Imp")||Xi([Dt()],[55]).then(_l)}function Ol(e){return e?Number(e.stack):0}var Kl=["imp-0","imp-1","imp-1"];function ql(e){return Kl[e]||"fshGreen"}function Wl(e){[V]=e.children,f("Shield Imps Remaining: ",V),wr=h(),i(V,wr),re(V,"&nbsp;");let t=T({className:"xSmallLink",textContent:"Recast"});i(V,t),B(t,Fl)}function Ul(e,t){V?g(V,!1):Wl(e);let r=Ol(t);V.className=ql(r),f(r,wr)}function zl(){V&&g(V,!0)}function Cr(e,t,r){t||r?Ul(e,t):zl()}function Yl(e){return e.type===0}function Br(){let{dynamic:e}=GameData.realm();return I(e)&&e.some(Yl)}function x(e){return h({textContent:e})}var ce,Mt,Zi;function Ql(e,t){ce=e.children[5],f("Teleport Cooldown: ",ce),Mt=x(t.toString()),i(ce,Mt)}function Xl(e,t){ce?g(ce,!1):Ql(e,t)}function Jl(){ce&&g(ce,!0)}function ea(){let e=Math.max(Math.ceil((Zi-Date.now())/1e3),0);f(e,Mt),e>0&&setTimeout(ea,500)}function ta(e){Mt&&(Zi=Date.now()+e*1e3,ea())}function ra(e,t){t?Xl(e,t):Jl()}var qe,Ar,br,Lr,Sr,Er,Mr;function jl(){qe=X("Death Dealer"),Ar=X("Doubler"),br=X("Counter Attack"),Lr=X("Summon Shield Imp"),Sr=xr(),Er=Br(),Mr=GameData.player().killStreak}function Hr(){kr(),jl();let e=cr([qe,Ar,br,Lr,Sr,Er]);e&&(Cr(e,Lr,qe),Dr(e,qe,Er,Mr),vr(e,qe,Mr),dr(e,br),hr(e,Ar),ra(e,Sr))}function Zl(e,t){ta(t.player.teleportCooldown)}function oa(){Hr(),$.subscribe(`${st} ${In}`,Hr),$.subscribe(Yn,Zl)}function na(){n.showBuffInfo=!n.showBuffInfo,y("showBuffInfo",n.showBuffInfo),Hr()}function ef(){return window.GameController&&GameController.Realm&&!GameController.Realm.footprintTileList}function Tr(){ef()&&(GameController.Realm.footprintTileList=[])}function ia(e,t,r){return wi({className:`fshCurveEle fshCurveLbl fshPoint tip-static ${e}`,dataset:{tipped:t},htmlFor:r})}function Ht(e){let t=m({className:"fshToggle"}),r=wt({checked:e.prefVal,id:e.checkId,type:"checkbox"});i(t,r);let o=ia(e.onClass,e.onTip,e.checkId);i(t,o);let l=ia(e.offClass,e.offTip,e.checkId);return i(t,l),i(e.worldName,t),r}var J=0,Vt=0,Nt=0,la=0,fa=0,sa=0,ua=0,ca=0,ma=0;function tf(e){Be(e),GameData.doAction(12,401,{},0)}function rf(){Ai(xi())}function of(){window.open(`${$n+or}map`,"fsMap")}function nf(){let e=GameData.realm();window.open(`${Rn}realms${or}view&realm_id=${e.id}`,"mapUfsg")}function af(){y("playNewMessageSound",!p("playNewMessageSound"))}function lf(){n.huntingMode=!n.huntingMode,y("huntingMode",n.huntingMode)}function ff(){return m({className:"fshCurveContainer",id:"fshWorldButtonContainer"})}function da(e){return e?e.toString():"?"}function sf(){let e=m({textContent:"Min Lvl: "});return Vt=x(da(GameData.realm().minlevel)),i(e,Vt),e}function uf(){let e=m({textContent:"Your Lvl: "});return Nt=x(da(GameData.player().level)),i(e,Nt),e}function cf(e){let t=m({className:"fshFsty"});i(t,sf()),i(t,uf()),i(e,t)}function Tt(e,t,r){let o=T({className:`fshCurveEle fshCurveBtn fshPoint tip-static ${e}`,dataset:{tipped:t}});return i(r,o),o}function mf(e){cf(e),la=Tt("fshFormGroup","Quick Create Attack Group",e),fa=Tt("fshQuickBuff","Open Quick Buff Popup",e),sa=Tt("fshRealmMap","Open Realm Map",e),ua=Tt("fshTempleOne","Search map in Ultimate FSG",e)}function df(e){if(p("showSpeakerOnWorld")){let t=p("playNewMessageSound");ca=Ht({prefVal:t,checkId:"fshSoundCheck",onClass:"soundOn",onTip:"Turn Off Sound when you have a new log message",offClass:"soundOff",offTip:"Turn On Sound when you have a new log message",worldName:e})}}function pf(e){let t=n.huntingMode;ma=Ht({prefVal:t,checkId:"fshHuntCheck",onClass:"huntOn",onTip:"Hunting mode is ON",offClass:"huntOff",offTip:"Hunting mode is OFF",worldName:e})}function hf(){mf(J),df(J),pf(J)}var gf=[[e=>e===ca,af],[e=>e===ma,lf]],vf=[[e=>e===la,tf],[e=>e===fa,rf],[e=>e===sa,of],[e=>e===ua,nf]];function yf(e,t){let{target:r}=t,o=e.find(([l])=>l(r));o&&(r.blur(),o[1](r))}function aa(e){return u(yf,e)}function Df(){B(J,aa(vf)),R(J,"change",aa(gf))}function xf(){J||(J=ff(),hf(),Df(),At(J,a("worldCoord")))}function kf(e,t){Vt&&t.b.minlevel&&(Tr(),f(t.b.minlevel,Vt))}function wf(e,t){Nt&&f(t.b,Nt)}function Vr(){xf(),$.subscribe(Kn,kf),$.subscribe(Pn,wf)}var Cf=["NORMAL","CHAMPION","ELITE","SUPER ELITE","TITAN","LEGENDARY"],Bf=`url("${te}ui/world/icon_action_attack_`,Gt=!1;function Nr(e){return ye(".verb.attack",e)}function Gr(e){let t=Cf.indexOf(e.toUpperCase());return gt(`#actionList .actionListItem.creature.creature-${t}`)}function Af(e){e.classList.remove("attack-1","attack-2","attack-3","attack-4","attack-5","attack-6","attack-7","attack-8"),e.style.backgroundImage=""}function bf(e,t){e!==null&&(e.classList.add(`attack-${t+1}`),e.style.backgroundImage=`${Bf}${t+1}.png")`)}function pa(e){let t=["LEGENDARY","NORMAL"].flatMap(Gr),r=Gr("CHAMPION"),[o,l]=e?[t,r]:[r,t];o.map(Nr).filter(s=>s!==null).forEach(Af),l.slice(0,8).map(Nr).forEach(bf)}function Lf(e){let t=Nr(e);t&&(Ce("world","ChampionAttack"),Ci(t))}function Sf(e){if(!e.altKey||!e.shiftKey||e.target.tagName==="INPUT"||e.target.tagName==="TEXTAREA"||(Gt||pa(!0),Gt=!0,!/(?:Digit|Numpad)[1-8]/.test(e.code)))return;let t=Gr("CHAMPION"),r=parseInt(e.code.slice(-1),10)-1;r<t.length&&Lf(t[r])}function Ef(e){Gt&&(!e.ctrlKey||!e.shiftKey)&&(Gt=!1,pa(!1))}function $r(){let{body:e}=document;R(e,"keydown",Sf),R(e,"keyup",Ef)}var Mf=["Breaker","Protection","Master Thief","Protect Gold","Disarm","Duelist","Thievery","Master Blacksmith","Master Crafter","Fury Caster","Master Inventor","Sustain"],Rr=[],S;function Hf(e){(e.id===54||e.id===26)&&(S.player.buffs[e.id]=parseInt(e.level,10))}function Tf(e){Mf.indexOf(e.name)===-1&&(S.player.enhancements[e.name]=e.value)}function Vf(e){e.player.buffs&&e.player.buffs.forEach(Hf)}function Nf(e){e.player.enhancements&&e.player.enhancements.forEach(Tf)}function Gf(e,t){S={},S.combat=t.response.data,S.combat.inventory_id&&(S.combat.drop=S.combat.item.id),S.player={},S.player.buffs={},S.player.enhancements={},Vf(t),Nf(t),S.time=t.time,Rr.push(S),yt("fsh_combatLog",Rr)}function $f(e,t){t.response.response===0&&Gf(e,t)}function Rf(e){e&&(Rr=e),$.subscribe(ut,$f)}function Ir(){p("keepLogs")&&vt("fsh_combatLog").then(Rf)}function If(){i(document.body,qi(`#actionList .creature-1 {color: green;}
#actionList .creature-2 {color: yellow;}
#actionList .creature-3 {color: red;}`))}function Pr(){p("enableCreatureColoring")&&If()}function me(e){return n.doNotKillList.includes(ve(e))}function Pf(e){e.classList.toggle("fshBlue",me(ni(e)))}function be(){let e=a("actionList");Ct("creature",e).forEach(Pf)}function _f(e,t){if(me(e))return a("actionList").children[t].children[0].children[1].classList.remove("loading"),!0}function Ff(e){let t=GameData.actions()[e];if(t)return _f(t.data.name,e)}function Of(e){return function(r,o,l,s){Ff(l.passback)||e(r,o,l,s)}}var Kf={2:Of};function qf(e){return ti(e)||e===0}function Wf(e){return e&&dt(e)}function Uf(e){return function(r,o,l,s){let c=Kf[r];Wf(c)&&qf(s)?c(e)(r,o,l,s):e(r,o,l,s)}}function _r(){let e=GameData.doAction;GameData.doAction=Uf(e)}function Fr(){$.subscribe(ge,be),be(),_r()}function zf(e){Be(e.target)}function Or(){B(a("buffList"),zf)}function ha(e){e[1]=e[2].r}function ga(e,t,r){let o=e.slice();return o[3]=t[r].player,o[2]=t[r].value,o[5]=r,o}function Yf(e){let t,r=e[6].message+"",o;return{c(){t=L("p"),o=xe(r),gi(t,"color","red")},m(l,s){le(l,t,s),k(t,o)},p(l,s){s&1&&r!==(r=l[6].message+"")&&kt(o,r)},d(l){l&&fe(t)}}}function Qf(e){ha(e);let t,r,o,l=e[1],s=[];for(let c=0;c<l.length;c+=1)s[c]=ya(ga(e,l,c));return{c(){t=L("table"),r=L("tr"),r.innerHTML=`<td class="header"></td> 
      <td class="header"></td> 
      <td class="header">Username</td> 
      <td class="header">Kills</td>`,o=ke();for(let c=0;c<s.length;c+=1)s[c].c();b(r,"class","svelte-1p6satm"),b(t,"id","world-event-contrib-table"),b(t,"class","svelte-1p6satm")},m(c,G){le(c,t,G),k(t,r),k(t,o);for(let D=0;D<s.length;D+=1)s[D].m(t,null)},p(c,G){if(ha(c),G&1){l=c[1];let D;for(D=0;D<l.length;D+=1){let q=ga(c,l,D);s[D]?s[D].p(q,G):(s[D]=ya(q),s[D].c(),s[D].m(t,null))}for(;D<s.length;D+=1)s[D].d(1);s.length=l.length}},d(c){c&&fe(t),pi(s,c)}}}function va(e){let t,r,o,l;return{c(){t=L("a"),r=L("img"),lr(r.src,o=te+"guilds/"+e[3].guild_id+"_mini.png")||b(r,"src",o),b(r,"alt","guild logo"),b(r,"class","svelte-1p6satm"),b(t,"href",l=""+(nr+e[3].guild_id))},m(s,c){le(s,t,c),k(t,r)},p(s,c){c&1&&!lr(r.src,o=te+"guilds/"+s[3].guild_id+"_mini.png")&&b(r,"src",o),c&1&&l!==(l=""+(nr+s[3].guild_id))&&b(t,"href",l)},d(s){s&&fe(t)}}}function ya(e){let t,r,o=e[5]+1+"",l,s,c,G,D,q,it=e[3].name+"",er,at,Tn,tr,lt=e[2]+"",rr,Vn,C=e[3].guild_id&&va(e);return{c(){t=L("tr"),r=L("td"),l=xe(o),s=ke(),c=L("td"),C&&C.c(),G=ke(),D=L("td"),q=L("a"),er=xe(it),Tn=ke(),tr=L("td"),rr=xe(lt),Vn=ke(),b(q,"href",at=""+(ir+e[3].name)),b(t,"class","svelte-1p6satm")},m(H,pe){le(H,t,pe),k(t,r),k(r,l),k(t,s),k(t,c),C&&C.m(c,null),k(t,G),k(t,D),k(D,q),k(q,er),k(t,Tn),k(t,tr),k(tr,rr),k(t,Vn)},p(H,pe){H[3].guild_id?C?C.p(H,pe):(C=va(H),C.c(),C.m(c,null)):C&&(C.d(1),C=null),pe&1&&it!==(it=H[3].name+"")&&kt(er,it),pe&1&&at!==(at=""+(ir+H[3].name))&&b(q,"href",at),pe&1&&lt!==(lt=H[2]+"")&&kt(rr,lt)},d(H){H&&fe(t),C&&C.d()}}}function Xf(e){let t;return{c(){t=xe("Loading...")},m(r,o){le(r,t,o)},p:xt,d(r){r&&fe(t)}}}function Jf(e){let t,r,o={ctx:e,current:null,token:null,hasCatch:!0,pending:Xf,then:Qf,catch:Yf,value:2,error:6};return fr(r=e[0],o),{c(){t=hi(),o.block.c()},m(l,s){le(l,t,s),o.block.m(l,o.anchor=s),o.mount=()=>t.parentNode,o.anchor=t},p(l,[s]){e=l,o.ctx=e,s&1&&r!==(r=e[0])&&fr(r,o)||vi(o,e,s)},i:xt,o:xt,d(l){l&&fe(t),o.block.d(l),o.token=null,o=null}}}function jf(e,t,r){let{promise:o}=t;return e.$$set=l=>{"promise"in l&&r(0,o=l.promise)},[o]}var Kr=class extends Di{constructor(t){super(),yi(this,t,jf,Jf,di,{promise:0})}},Da=Kr;function qr(e){return ki({cmd:"globalquests",...e})}function Wr(){return qr({subcmd:"contrib"})}var Zf=({username:e,value:t})=>({player:{name:e},value:t});async function Ur(){return{r:(await mi({cmd:"toprated",subcmd:"eventcontrib"})).map(Zf)}}function zr(){return we(Wr,Ur)}var Yr=0,xa=()=>({promise:zr()});function es(e){Yr?Yr.$set(xa()):Yr=new Da({props:xa(),target:e})}function ts(){let e=a("world-event-contrib");es(e),$(e).dialog({title:"Top 100 Event Contributers",minWidth:300,height:300,zIndex:9999})}function Qr(){let e=$("#world-event-badge");!e.length||(e.off(),B(e[0],ts))}function ka(e){$(`#actionList li.creature-${e.toString()} a.create-group`).hide()}function rs(e){$.subscribe(ge,u(ka,e))}var os=["hideChampionsGroup","hideElitesGroup","hideSEGroup","hideTitanGroup","hideLegendaryGroup"];function ns(e,t){p(e)&&(rs(t+1),ka(t+1))}function Xr(){os.forEach(ns)}function is(e){return e.response&&e.response.msg&&e.response.msg.startsWith("Creature did not exist at that location")}function as(e){is(e)&&GameData.fetch(ct+E)}function ls(e){e.remove()}function fs(e,t){as(t),gt(".creature-4 > .quickCombat > .verbs").forEach(ls)}function Jr(){$.subscribe(ut,fs)}function O(e){return!e||!e.response||!e.response.data}var wa='<table class="relicT relicS"><thead><tr><th colspan="2">Adjusted defense values</th></tr></thead><tbody><tr><td>DC225:</td><td id="DC225">0</td></tr><tr><td>DC175:</td><td id="DC175">0</td></tr><tr><td colspan="2">&nbsp;</td></tr></tbody><thead><tr><th colspan="2">Attacking Group Stats</th></tr></thead><tbody><tr><td>Raw Group Attack:</td><td class="fshGrey" id="GroupAttack"></td></tr><tr><td>Group Attack w/ buffs:</td><td id="GroupAttackBuffed"></td></tr><tr><td>Raw Group Defense:</td><td class="fshGrey" id="GroupDefense"></td></tr><tr><td>Group Defense w/ buffs:</td><td id="GroupDefenseBuffed"></td></tr><tr><td>Raw Group Armor:</td><td class="fshGrey" id="GroupArmor"></td></tr><tr><td>Group Armor w/ buffs:</td><td id="GroupArmorBuffed"></td></tr><tr><td>Raw Group Damage:</td><td class="fshGrey" id="GroupDamage"></td></tr><tr><td>Group Damage w/ buffs:</td><td id="GroupDamageBuffed"></td></tr><tr><td>Raw Group HP:</td><td class="fshGrey" id="GroupHP"></td></tr><tr><td>Group HP w/ buffs:</td><td id="GroupHPBuffed"></td></tr></tbody></table>',Ca='<table class="relicT relicS"><thead><tr><th colspan="2">Defending Guild Stats</th></tr></thead><tbody><tr><td>Relic Count:</td><td id="relicCount">0</td></tr><tr><td>Lead Defender Bonus:</td><td id="LDPercentage">0</td></tr><tr><td>Lead Defender Cloaked:</td><td id="LDCloaked">No</td></tr></tbody><thead><tr><th colspan="2">Other Defender Stats</th></tr></thead><tbody><tr><td>Raw Attack:</td><td class="fshGrey" id="attackValue">0</td></tr><tr><td>Attack w/ buffs:</td><td id="attackValueBuffed">0</td></tr><tr><td>Raw Defense:</td><td class="fshGrey" id="defenseValue">0</td></tr><tr><td>Defense w/buffs:</td><td id="defenseValueBuffed">0</td></tr><tr><td>Raw Armor:</td><td class="fshGrey" id="armorValue">0</td></tr><tr><td>Armor w/ buffs:</td><td id="armorValueBuffed">0</td></tr><tr><td>Raw Damage:</td><td class="fshGrey" id="damageValue">0</td></tr><tr><td>Damage w/ buffs:</td><td id="damageValueBuffed">0</td></tr><tr><td>Raw HP:</td><td class="fshGrey" id="hpValue">0</td></tr><tr><td>HP w/ buffs:</td><td id="hpValueBuffed">0</td></tr><tr><td>Cloaked:</td><td id="defendersCloaked">0</td></tr><tr><td>Processed:</td><td id="defendersProcessed">0</td></tr></tbody></table>',Ba='<table class="relicT"><thead><tr><th colspan="2">Processing</th></tr></thead><tbody><tr><td class="fshGreen" colspan="2" id="ProcessingStatus">Parsing defending guild stats ...</td></tr></tbody><thead><tr><th colspan="2">Assumptions</th></tr></thead><tbody><tr><td colspan="2" class="fshGrey">Above calculations include Constitution, Fortitude, Nightmare Visage, Chi Strike, Sanctuary, Terrorize and Flinch bonus calculations (in that order) on both the defending group and attacking group.</td></tr></tbody></table>';var K,Le,Se,Ee;function ss(e){return e.player_name}function us(e){Ee=e.defenders.map(ss)}function cs(){K?w("",K):K=m({className:"body"})}function ms(e){Le=m({className:"fshFloatLeft fshRelicLeftDiv"}),i(K,Le),e.is_owner&&i(Le,_i(Ee)),Se=T({className:"custombutton",textContent:"Fetch Stats"}),i(Le,Se)}function Aa(e){us(e),cs(),ms(e);let t=a("dialog-relic");i(t,K)}var N,ba,La,jr,Zr,eo,to,$t,ro,oo,no,io,ao,lo,fo,so,uo,co,mo,po,ho,go,vo,yo,Do,xo,ko,wo,Co,Bo,j,ds=[e=>e!=="lastUpdate",e=>!Ee.includes(e),e=>N[e].last_login,e=>Number(N[e].last_login)<ba,e=>Number(N[e].last_login)>La,e=>N[e].level<400||N[e].level>421,e=>N[e].level<441||N[e].level>450];function ps(e,t){return t(e)}function hs(e){return ds.every(u(ps,e))}function gs(e){return`<a href="${Gn}${N[e].id}">${e}</a>`}function vs(e){N=e,ba=ar-120,La=ar-604800;let t=fi(N).filter(hs).map(gs);re(K,`<div class="fshFloatLeft fshRelicLowDiv"><table class="relicT"><thead><tr><th>${t.length.toString()} Offline guild members not at relic:</th></tr></thead><tbody><tr><td>${t.join(" ")}</td></tr></tbody></table></div>`)}function ys(){jr=a("relicCount"),Zr=a("LDPercentage"),eo=a("LDCloaked"),to=a("attackValue"),$t=a("attackValueBuffed"),ro=a("defenseValue"),oo=a("defenseValueBuffed"),no=a("armorValue"),io=a("armorValueBuffed"),ao=a("damageValue"),lo=a("damageValueBuffed"),fo=a("hpValue"),so=a("hpValueBuffed"),uo=a("defendersCloaked"),co=a("defendersProcessed")}function Ds(){mo=a("DC225"),po=a("DC175"),ho=a("GroupAttack"),go=a("GroupAttackBuffed"),vo=a("GroupDefense"),yo=a("GroupDefenseBuffed"),Do=a("GroupArmor"),xo=a("GroupArmorBuffed"),ko=a("GroupDamage"),wo=a("GroupDamageBuffed"),Co=a("GroupHP"),Bo=a("GroupHPBuffed")}function Sa(e){Bt(Se);let t=p("hideRelicOffline");e.is_owner&&!t&&Gi(!0).then(vs),re(Le,Ba),j=a("ProcessingStatus");let r=m({className:"fshFloatLeft fshRelicMidDiv",innerHTML:Ca});i(K,r),ys();let o=m({className:"fshFloatLeft fshRelicRightDiv",innerHTML:wa});i(K,o),Ds()}var Rt;function xs(e){return e===1?1.5:Ae(1-e/10,2)}function Ea(e){let t=z(e),o=ii('#pCC img[src*="/relics/"]',t).length;f(o,jr),Rt=xs(o),f(`${String(Rt*100)}%`,Zr)}function It(e,t){return e>t*10||e<t?e:t*10}function ks(e){e.attackValue=It(e.attackBonus,e.levelValue),e.defenseValue=It(e.defenseBonus,e.levelValue),e.armorValue=It(e.armorBonus,e.levelValue),e.damageValue=It(e.damageBonus,e.levelValue),e.hpValue=e.hpBonus}var ws=[["levelValue","level"],["attackValue","attack"],["attackBonus","bonus_attack"],["defenseValue","defense"],["defenseBonus","bonus_defense"],["armorValue","armor"],["armorBonus","bonus_armor"],["damageValue","damage"],["damageBonus","bonus_damage"],["hpValue","hp"],["hpBonus","bonus_hp"],["killStreakValue","killstreak"]];function Cs(e,t,r){e[r[0]]=Number(t[r[1]])}function Bs(e,t){ws.forEach(u(Cs,e,t))}var As=[["counterAttackLevel","Counter Attack"],["doublerLevel","Doubler"],["deathDealerLevel","Death Dealer"],["darkCurseLevel","Dark Curse"],["holyFlameLevel","Holy Flame"],["constitutionLevel","Constitution"],["sanctuaryLevel","Sanctuary"],["flinchLevel","Flinch"],["nightmareVisageLevel","Nightmare Visage"],["superEliteSlayerLevel","Super Elite Slayer"],["fortitudeLevel","Fortitude"],["chiStrikeLevel","Chi Strike"],["terrorizeLevel","Terrorize"],["barricadeLevel","Barricade"],["reignOfTerrorLevel","Reign Of Terror"],["anchoredLevel","Anchored"],["severeConditionLevel","Severe Condition"],["entrenchLevel","Entrench"],["cloakLevel","Cloak"]];function bs(e,t,r){e[r[0]]=t[r[1]]||0}function Ls(e,t){As.forEach(u(bs,e,t))}function Me(e){if(!e)return;let t=Et(e._skills),r={};return Bs(r,e),Ls(r,t),r.superEliteSlayerMultiplier=Ae(.002*r.superEliteSlayerLevel,2),ui(r.armorValue)&&ks(r),r}var Te,Pt,Ue,He,ze,_t,Ye,bo,Ao,A,v,de;function Ss(){v.attack-=de.attack,v.defense-=de.defense,v.armor-=de.armor,v.damage-=de.damage,v.hp-=de.hp}function We(e){return Math.round(e*Rt)}function Es(){Te+=We(A.attackValue),Ue+=We(A.defenseValue),He+=We(A.armorValue),ze+=We(A.damageValue),Ye+=We(A.hpValue)}function Ha(){d(Te,to),d(Ue,ro),d(He,no),d(ze,ao),d(Ye,fo),f(bo,uo),Ao+=1,f(Ao,co)}function Ms(){d(v.attack,ho),d(v.defense,vo),d(v.armor,Do),d(v.damage,ko),d(v.hp,Co)}function Hs(e){return Math.ceil(v.attack*(U(e["Nightmare Visage"],0)*.0025))}function Ts(){let e=Math.ceil(v.attack*A.flinchLevel*.001);d(v.attack-e,go)}function Vs(e){return Math.ceil(v.defense*(1+U(e.Constitution,0)*.001))}function Ns(e,t){d(t+e,yo)}function Gs(e){d(v.armor+Math.floor(v.armor*U(e.Sanctuary,0)*.001),xo)}function $s(e,t){return Math.ceil(t*U(e.Fortitude,0)*.001)}function Rs(e){d(v.hp+e,Bo)}function Is(e,t){let r=Math.ceil((v.hp+t)*U(e["Chi Strike"],0)*.001),o=Math.ceil(v.damage*A.terrorizeLevel*.001);d(v.damage+r-o,wo)}function Ps(e){let t=Hs(e);v.attack-=t,Ts();let r=Vs(e);Ns(t,r),Gs(e);let o=$s(e,r);Rs(o),Is(e,o)}function _s(e){let t=Math.ceil(Pt*U(e.Flinch,0)*.001);d(Pt-t,$t)}function Fs(e){let t=Math.ceil(_t*U(e.Terrorize,0)*.001);d(_t-t,lo)}function Os(){f("Processing attacking group stats ... ",j),de&&Ss(),Ms();let e=Et(GameData.player().buffs);Ps(e),_s(e),Fs(e),f("Done.",j)}function Ks(){return Math.ceil(Te*(A.nightmareVisageLevel*.0025))}function qs(){return Math.ceil(Ue*(1+A.constitutionLevel*.001))}function Ws(e){Pt=Te-e,d(Pt,$t)}function Ma(e){return 1-e*mt}function Us(e,t){let r=t+e;d(r,oo),d(Math.ceil(r*Ma(225)),mo),d(Math.ceil(r*Ma(175)),po)}function zs(){d(He+Math.floor(He*A.sanctuaryLevel*.001),io)}function Ys(e){return Math.ceil(e*A.fortitudeLevel*.001)}function Qs(e){_t=ze+Math.ceil(e*A.chiStrikeLevel*.001),d(_t)}function Xs(){A.cloakLevel!==0&&f("Yes",eo)}function Ta(){f("Processing defending guild stats ... ",j),Es(),Ha();let e=Ks();Ws(e);let t=qs();Us(e,t),zs();let r=Ye+Ys(t);d(r,so),Qs(r),Xs(),GameData.player().hasGroup&&v?Os():f("Done.",j)}function Va(e){let t=Me(e);Te+=Math.round(t.attackValue*he),Ue+=Math.round(t.defenseValue*he),He+=Math.round(t.armorValue*he),ze+=Math.round(t.damageValue*he),Ye+=Math.round(t.hpValue*he),t.cloakLevel!==0&&(bo+=1),Ha()}function Na(e){A=Me(e)}function Ga(e){v=e}function $a(e){de=e}function Ra(){Te=0,Ue=0,He=0,ze=0,Ye=0,bo=0,Ao=0}var Qe;function Js(e){f(e.message,j)}function js(e){return e.parentNode.parentNode.previousElementSibling.previousElementSibling.innerHTML.indexOf('"#000099"')!==-1}function Zs(e){let t=e.previousElementSibling.href,r=[Oi(t).then(Ga)];return js(e)&&r.push(Ki().then($a)),r}function eu(e){let t=z(e),r=ye('#pCC a[href*="confirmDisband"]',t);if(!r)return;let o=Zs(r);return ci(o)}function tu(){return ie({cmd:"guild",subcmd:"groups"}).then(eu)}function ru(){return ie({cmd:"guild",subcmd:"view",guild_id:Qe.controlled_by.guild_id}).then(Ea)}function ou(e,t){return t===0?ur(e).then(Na):ur(e).then(Va).catch(Js)}function nu(){return Ee.map(ou)}function iu(){let e=[ru()];return GameData.player().hasGroup&&e.push(tu()),e=e.concat(nu()),e}function au(){Sa(Qe),Ra();let e=iu();Lt(e,Ta)}function lu(e,t){O(t)||(Qe=t.response.data,Qe.defenders.length>0&&(Aa(Qe),Nn(Se,"click",au)))}function Lo(){$.subscribe(Un,lu)}function Xe(e){return li({cache:!1,url:"fetchdata.php",data:{...e,fshrnd:$i()},dataType:"json"})}var Ia=[];function fu(e){return O(e)||Ia.push(e),e}function su(e,t){return e===Number(t.response.data.id)}function uu(e,t){e(t)}function cu(e){return new Promise(t=>{oi(3,uu,[t,e])})}function Je(e,t){let r=Ia.find(u(su,e));return r?cu(r):Xe({a:1,id:e,passback:t}).then(fu)}function So(e,t){return e.every(r=>ne(r,t))}var Ft,Eo,Mo,Ho,To,Vo;function je(e,t){return si(De(t,e))}function mu(e){Mo=je(e,Jn),Eo=je(e,Xn),To=je(e,Zn),Ho=je(e,jn),Vo=je(e,ei)}function Pa(){Ft=GameData.player().level,mu(a("statbar-character-tooltip-stats"))}function du(e){return`<table><tr><td><img src="${te}creatures/${e.image_id}.png" height="200" width="200"></td><td rowspan="2"><table width="400"><tr><td class="header" colspan="4" class="fshCenter">Statistics</td></tr>`}function pu(e,t){return`<tr><td>Class:&nbsp;</td><td width="40%">${e.creature_class}</td><td>Level:&nbsp;</td><td width="40%">${e.level} (your level:<span class="${t}">${Ft}</span>)</td></tr>`}function hu(e){return`<tr><td>Attack:&nbsp;</td><td width="40%">${e.attack} (your defense:<span class="fshYellow">${Eo}</span>)</td><td>Defense:&nbsp;</td><td width="40%">${e.defense} (your attack:<span class="fshYellow">${Mo}</span>)</td></tr>`}function gu(e){return`<tr><td>Armor:&nbsp;</td><td width="40%">${e.armor} (your damage:<span class="fshYellow">${Ho}</span>)</td><td>Damage:&nbsp;</td><td width="40%">${e.damage} (your armor:<span class="fshYellow">${To}</span>)</td></tr>`}function vu(e,t){return`<tr><td>HP:&nbsp;</td><td width="40%">${e.hp} (your HP:<span class="fshYellow">${Vo}</span>)(1H: <span class="fshRed">${t}</span>)</td><td>Gold:&nbsp;</td><td width="40%">${e.gold}</td></tr>`}var yu='<tr><td colspan="4" height="5"></td></tr><tr><td class="header" colspan="4" class="fshCenter">Enhancements</td></tr>';function Du(e){return`<tr><td colspan="2">${e.name}:</td><td colspan="2">${e.value}</td></tr>`}function xu(e){return e.enhancements.length===0?'<tr><td colspan="4">[no enhancements]</td></tr>':e.enhancements.map(Du).join("")}function ku(e){return`<tr><td colspan="4" height="5"></td></tr><tr><td class="header" colspan="4" class="fshCenter">Description</td></tr><tr><td colspan="4">${e.description}</td></tr><tr><td colspan="4" height="5"></td></tr></table></td></tr><tr><td class="fshCenter"><b>${e.name}</b></td></tr></table>`}function wu(e,t,r){return du(e)+pu(e,r)+hu(e)+gu(e)+vu(e,t)+yu+xu(e)+ku(e)}function Cu(e){let t=Math.ceil(e.hp*n.hpVariable+e.armor*n.generalVariable),r="fshYellow";return Pa(),Ft>e.level&&(r="fshRed"),wu(e,t,r)}function No(e){if(!O(e))return Cu(e.response.data)}var Bu=["verb","view","tip-static"];function Au(e,t){$(e).qtip({overwrite:!0,show:{event:"mouseover",ready:!0},style:{classes:"qtip-tipsy qtip-custom"},position:{my:"center right",at:"center left",effect:!1,viewport:$(window)},content:{text:t},hide:{effect:!1}})}function bu(e){return ht(e.parentNode.children).indexOf(e)}function Lu(e,t){let r=No(t);e.set("content.text",r)}function Su(e,t,r){return Je(GameData.actions()[e].data.id,e).then(u(Lu,r)),"Loading..."}function Eu(e,t){Ce("NewMap","CreatureInfo");let r=bu(t);e.classList.add("fshTip"),Au(e,u(Su,r))}function Mu(e,t){return So(Bu,e)&&!ne("fshTip",e)&&ne("creature",t)}function Hu(e){if(!n.showCreatureInfo)return;let{target:t}=e,r=t.parentNode.parentNode.parentNode;Mu(t,r)&&Eu(t,r)}function Go(){R(a("actionList"),"mouseover",Hu)}function Tu(e,t){t.b[2]&&bi()}function $o(){p("useNewGuildLog")&&$.subscribe("notifications.player",Tu)}var M;function Vu(e,t){t.creature_class=e.creature_class,t.image_id=e.image_id,t.level=Number(e.level),t.type=e.type}function Nu(e){M[e.name]?M[e.name].seen&&(M[e.name].seen+=1):(M[e.name]={seen:1},Vu(e,M[e.name]))}function _a(e,t,r){return t?e(t,r):r}function Fa(e,t){let r=e||{};return r.min=_a(Math.min,r.min,t),r.max=_a(Math.max,r.max,t),r}var Gu=["attack","armor","damage","defense","hp"];function $u(e,t){return!e||e.min!==t.min||e.max!==t.max}function Ru(e,t,r){let o=Fa(t[r],Number(e[r]));$u(t[r],o)&&(t[r]=o)}function Iu(e,t){Gu.forEach(u(Ru,e,t))}function Pu(e){return e.enhancements&&e.enhancements.length>0}function _u(e,t){e[t.name]=Fa(e[t.name],Number(t.value))}function Fu(e,t){Pu(e)&&(t.enhancements=t.enhancements||{},e.enhancements.forEach(u(_u,t.enhancements)))}function Ou(e){M||(M={}),Nu(e),Iu(e,M[e.name]),Fu(e,M[e.name]),yt("fsh_monsterLog",M)}function Oa(e){n.showMonsterLog&&Ou(e)}function Ku(e){M=e||{}}function Ka(){vt("fsh_monsterLog").then(Ku)}var qa=[];function qu(e){O(e)||(Ce("NewMap","MonsterLog"),Oa(e.response.data))}function Wu(e,t){return e.id===t.id}function Uu(e){if(qa.find(u(Wu,e.data)))return!0;qa.push(e.data)}function zu(e,t){e.type!==6||Uu(e)||Je(e.data.id,t).then(qu)}function Wa(){n.showMonsterLog&&GameData.actions().forEach(zu)}function Ro(){Ka(),$.subscribe("-1-success.action-response 4-success.action-response 5-success.action-response 25-success.action-response",Wa),Wa()}function Io(){return Si({subcmd:"scouttower"})}function Yu(e){let t=e.split(/[: /[]/);return new Date(Number(t[4]),ft.indexOf(t[3]),Number(t[2]),Number(t[0]),Number(t[1]))}function Qu(e){let t=oe(e[1]);return t==="No active cooldown"?0:Math.ceil((Yu(t.slice(16))-pt)/1e3)}function Xu(e){let[t]=e[0].cells[0].children;return{base_id:Number(t.src.split("/").slice(-1)[0].slice(0,-36)),name:t.title}}function Ju(e){return{cooldown:Qu(e),creature:Xu(e),kills:Number(oe(e[0].cells[3]))}}function ju(e){let t=oe(e[0].cells[1]);if(t!=="n/a"){let r=oe(e[0].cells[2]).split("/");return{realm:t,current_hp:Number(r[0]),max_hp:Number(r[1])}}}function Zu(e){let t=e[2].cells[0].children;if(t.length===1)return{contributors:Hi(t[0],3,0).map(o=>({kills:Number(oe(o.cells[1])),player:{name:oe(o.cells[0])}}))}}function ec(e){return{...Ju(e),...ju(e),...Zu(e)}}function tc(e){let t=z(e),r=ye('table[width="500"]',t);if(!r)return{s:!1};let o=ht(r.rows).filter((s,c,G)=>c!==0&&c<G.length-1&&(c-1)%6<3);return{r:Pi(3,o).map(ec),s:!0}}function Po(){return ie({cmd:"guild",subcmd:"scouttower"}).then(tc)}function _o(){return we(Io,Po)}function rc(e,[t,r,o]){let l=e.insertCell(-1);return l.colSpan=t,o&&(l.className="header"),i(l,r),l}function oc(e,t){t.forEach(u(rc,e))}function nc(e,t,r){let o=e.insertRow(-1);return r&&(o.className="fshBlue"),oc(o,t),o}function ic(e,t){nc(e,t[0],t[1])}function Ze(e,t){t.forEach(u(ic,e))}var Fo;function Ua(e){Fo=e}var Oo,Ko,qo,Wo,Uo,zo,Yo,Qo;function ac(){Oo=x("Current"),Ko=x("Kills"),qo=x("Member"),Wo=x("% of Total")}function lc(){Uo=x("Status"),zo=x("Titan HP"),Yo=x("Total"),Qo=x("Your Guild")}function za(){ac(),lc()}var Ve,Ne,Ge,$e,Re,Ie,Pe,_e,Fe;function fc(){Ve=h({innerHTML:"&nbsp;"}),Ne=h({innerHTML:"&nbsp;"}),Ge=h(),$e=h()}function sc(){Re=h(),Ie=h(),Pe=h(),_e=h(),Fe=h()}function Ya(){fc(),sc()}function Qa(){w("&nbsp;",Ve),w("&nbsp;",Ne),f("",Ge),f("",$e),f("",Re),f("",Ie),f("",Pe),w("",_e),w("",Fe)}var Z;function Ot(){for(;Z.rows.length>8;)Z.deleteRow(8)}function uc(){let e=h();return i(e,Ge),P(e,"/"),i(e,$e),e}function Xa(e){let t=h();return i(t,e),P(t,"%"),t}function Ja(){Z=Ri({className:"fshCenter"}),za(),Ze(Z,[[[[5,Ve,!0],[1,Ne,!0]]],[[[2,zo,!0],[4,Qo,!0]]],[[[2,uc()],[4,Re]]],[[[2,Oo,!0],[4,Xa(Ie)]],!0],[[[2,Yo,!0],[4,Xa(Pe)]],!0],[[[2,Uo,!0],[4,_e]],!0],[[[6,Fe]]],[[[2,qo,!0],[2,Ko,!0],[2,Wo,!0]]]])}var ee,Kt,Xo;function Jo(){Kt=null,ee&&!ne("fshHide",ee)&&(g(ee,!0),Qa(),Ot())}function ja(e){return e.type===0?(Kt=e.base_creature_id,Xo=`(${e.x},${e.y})`,!0):!1}function Za(){if(ee)g(ee,!1);else{let e=a("actionContainer");ee=m({className:"fshActionBox titanInfo"}),Ya(),Ja(),i(ee,Z),i(e,ee)}}function cc(e){let t=new Date(pt+e*1e3);return`${bt(t.getHours())}:${bt(t.getMinutes())} ${bt(t.getDate())}/${ft[t.getMonth()]}/${t.getFullYear()}`}function mc(e){return e<=0?'<span class="fshGreen cooldown">No active cooldown</span>':`<span class="fshMaroon cooldown">Cooldown until: ${cc(e)}</span>`}function dc(e){return St(Ui(e.max_hp-e.current_hp,e.kills),2)}function pc(e){return St(e.kills*100/e.max_hp,2)}function hc(e){return zi(e.kills,e.max_hp,e.current_hp)}function gc(e){e.forEach(([t,r])=>{f(t,r)})}function vc(e){gc([[Yi(e.creature.name),Ve],[Xo,Ne],[e.current_hp,Ge],[e.max_hp,$e],[e.kills,Re],[dc(e),Ie],[pc(e),Pe]]),w(hc(e),_e),w(mc(e.cooldown),Fe)}function yc(e,t){return[[[2,x(t.player.name)],[2,x(t.kills.toString())],[2,x(`${St(t.kills*100/e.kills,2)}%`)]]]}function Dc(e){if(Ot(),!e.contributors)return;let t=e.contributors.map(u(yc,e));Ze(Z,t)}function xc(e){return e.realm&&e.creature.base_id===Kt&&e.realm===Fo}function jo(e){let t=e.find(xc);t&&(vc(t),Dc(t))}var qt;function kc(){qt&&(window.clearTimeout(qt),qt=null)}function wc(e){return e&&e.s&&I(e.r)}function el(e){return n.showTitanInfo&&I(e)&&e.some(ja)}function Cc(e,t){!wc(t)||(jo(t.r),el(GameData.realm().dynamic)?qt=window.setTimeout(e,3e4):Jo())}function tl(){_o().then(u(Cc,tl))}function rl(e){kc(),el(e)?(Za(),tl()):Jo()}function ol(e){e.dynamic&&(Ua(e.name),rl(e.dynamic))}function nl(){n.showTitanInfo=!n.showTitanInfo,y("showTitanInfo",n.showTitanInfo),rl(GameData.realm().dynamic)}function Bc(e){return e.realm&&e.realm.name}function il(e,t){Bc(t)&&ol(t.realm)}function Zo(){window.initialGameData&&il(null,window.initialGameData),$.subscribe(`${qn} ${zn}`,il)}function Ac(e,t){t==="ACT_REPAIR"&&GameData.fetch(Qn+W+ct+E)}function en(){$.subscribe(On,Ac)}var tn;function al(e){$("#statbar-gold").css("background-color",e)}function ll(){$("#HelperSendTotal").html(Y(p("currentGoldSentTotal"))),Number(GameData.player().gold)>tn?al("red"):al("inherit")}function bc(){return`<dt class="stat-gold-sendTo">Send To:</dt><dd id="HelperSendTo">${p("goldRecipient")}</dd><dt class="stat-gold-sendAmt">Amount:</dt><dd id="HelperSendAmt">${Y(tn)}</dd><dt class="stat-gold-sendTo">Send?</dt><dd><input id="HelperSendGold" value="Send!" class="custombutton" type="submit"><input type="hidden" id="xc" value=""</dd><dt class="stat-gold-sendTotal">Total Sent:</dt><dd id="HelperSendTotal">${Y(p("currentGoldSentTotal"))}</dd>`}function Lc(){tn=p("goldAmount"),$("#statbar-gold-tooltip-general").append(bc()),$("#HelperSendGold").on("click",Ni),ll(),$.subscribe(_n,ll)}function rn(){Vi(),Ti&&Lc()}var et,tt,Wt,Oe,nn,on,Ut;function Sc(){return Xe({a:14,d:0,id:et.id,item_id:et.itemId})}function Ec(e){let t=e.response.response,r=e.response.msg,o;if(t!==0){let l=r.indexOf("<");l!==-1?o=r.substring(0,l):o=r}else o=`You purchased ${e.response.data.name} for ${Y(e.response.data.cost)} gold.`;re(Ut,`${o}<br>`)}function Mc(){GameData.doAction(14,3,{id:et.id,item_id:et.itemId},0),Wt.close()}function Hc(){let e=Ii(nn.value);if(!e)return;let t=[];for(let r=1;r<e;r+=1)t.push(Sc().then(Ec));Lt(t,Mc)}function Tc(){Oe=m({className:"fshClear",textContent:"Select how many to quick-buy:"}),nn=wt({id:"buyAmount",className:"fshNumberInput",min:1,max:99,value:1,type:"number"}),i(Oe,nn),on=T({textContent:"Quick-buy"}),B(on,Hc),i(Oe,on),Ut=m(),i(Oe,Ut),i(tt,Oe)}function Vc(){return tt||a("shopDialogConfirm")}function Nc(){return Wt||$(tt).data("hcsWorldDialogShopConfirm")}function Gc(){Oe?f("",Ut):Tc()}function $c(e,t){et=t,tt=Vc(),tt&&(Wt=Nc(),Wt&&Gc())}function an(){$.subscribe(Fn,$c)}function Rc(e){let t=z(e),r=Fi(t);return{r:{attributes:[{value:r.attack},{value:r.defense},{value:r.armor},{value:r.damage},{value:r.hp}]}}}function ln(e){return ie({cmd:"guild",subcmd:"groups",subcmd2:"viewstats",group_id:e}).then(Rc)}function fn(e){return Ei({subcmd2:"viewstats",group_id:e})}function sn(e){return we(fn,ln,e)}function fl(e){return e.numberOfCreatureHitsTillDead-e.numberOfHitsRequired<=1?", dies on miss":", survives a miss"}function Ic(e){return e.numberOfHitsRequired==="-"||e.numberOfHitsRequired>e.numberOfCreatureHitsTillDead}function Pc(e){return e.numberOfCreatureHitsTillDead==="-"?e.numberOfHitsRequired:Ic(e)?"-":e.numberOfHitsRequired}function _c(e){return e.numberOfCreatureHitsTillDead==="-"||e.numberOfCreatureHitsTillDead>e.numberOfHitsRequired}function Fc(e){return e.numberOfHitsRequired==="-"?e.numberOfCreatureHitsTillDead:_c(e)?"-":e.numberOfCreatureHitsTillDead}var Oc=[[e=>e.playerHits==="-"&&e.creatureHits==="-",()=>"Unresolved"],[e=>e.playerHits==="-",()=>"Player dies"],[e=>e.playerHits===1,e=>`Player 1 hits${fl(e)}`],[e=>e.playerHits>1,e=>`Player > 1 hits${fl(e)}`]];function Kc(e,t){return t[0](e)}function qc(e){let t=Oc.find(u(Kc,e));return t?t[1](e):"Unknown"}function un(e){e.playerHits=Pc(e),e.creatureHits=Fc(e),e.fightStatus=qc(e)}function Wc(e){return e.callback.groupExists?e.callback.groupArmorValue:e.player.armorValue}function Uc(e){let t=Wc(e);e.overallArmorValue=t+Math.floor(e.player.armorValue*e.player.sanctuaryLevel*.001)}function zc(e){e.player.sanctuaryLevel>0&&(e.extraNotes+=`Sanc Bonus Armor = ${Math.floor(e.player.armorValue*e.player.sanctuaryLevel*.001)}<br>`)}function Yc(e){e.terrorizeEffect=Math.floor(e.creature.damage*e.player.terrorizeLevel*.001)}function Qc(e){e.player.terrorizeLevel>0&&(e.extraNotes+=`Terrorize Creature Damage Effect = ${e.terrorizeEffect*-1}<br>`)}function Xc(e){e.creatureDamageDone=Math.ceil(e.generalVariable*e.creature.damage-e.overallArmorValue+e.overallHPValue)}function Jc(e){let t=e.generalVariable*e.creature.damage;t<e.overallArmorValue?e.numberOfCreatureHitsTillDead=e.overallHPValue:e.numberOfCreatureHitsTillDead=Math.ceil(e.overallHPValue/(t-e.overallArmorValue))}function jc(e){e.creatureHitByHowMuch>=0?Jc(e):e.numberOfCreatureHitsTillDead="-"}function cn(e){Uc(e),zc(e),Yc(e),Qc(e),e.creature.damage-=e.terrorizeEffect,Xc(e),jc(e)}function Zc(e){return e.callback.groupExists?e.callback.groupAttackValue:e.player.attackValue}function sl(e){return Math.floor(e.creature.defense*e.player.darkCurseLevel*mt)}function em(e){let t=e.creature.defense-sl(e);return e.combatEvaluatorBias===3?e.overallAttackValue-Math.ceil(t)-50:e.overallAttackValue-Math.ceil(e.attackVariable*t)}function mn(e){let t=Zc(e);e.player.darkCurseLevel>0&&(e.extraNotes+=`DC Bonus Attack = ${sl(e)}<br>`),e.nightmareVisageAttackMovedToDefense=Math.floor((t+e.counterAttackBonusAttack)*e.player.nightmareVisageLevel*.0025),e.player.nightmareVisageLevel>0&&(e.extraNotes+=`NMV Attack moved to Defense = ${e.nightmareVisageAttackMovedToDefense}<br>`),e.overallAttackValue=t+e.counterAttackBonusAttack-e.nightmareVisageAttackMovedToDefense,e.hitByHowMuch=em(e)}function tm(e){return e.player.counterAttackLevel>0&&e.numberOfHitsRequired===1}function ul(e){e.lowestCALevelToStillHit=Math.max(Math.ceil((e.counterAttackBonusAttack-e.hitByHowMuch+1)/e.player.attackValue/.0025),0),e.lowestCALevelToStillKill=Math.max(Math.ceil((e.counterAttackBonusDamage-e.damageDone+1)/e.player.damageValue/.0025),0)}function rm(e){return e.player.counterAttackLevel>0?Math.ceil((1+e.player.doublerLevel/50)*.0025*e.lowestFeasibleCALevel):0}function om(e){e.extraAttackAtLowestFeasibleCALevel=Math.floor(e.player.attackValue*.0025*e.lowestFeasibleCALevel),e.extraDamageAtLowestFeasibleCALevel=Math.floor(e.player.damageValue*.0025*e.lowestFeasibleCALevel),e.extraNotes+=`Extra CA Att/Dam at this lowered CA level = ${e.extraAttackAtLowestFeasibleCALevel} / ${e.extraDamageAtLowestFeasibleCALevel}<br>`}function nm(e){ul(e),e.lowestFeasibleCALevel=Math.max(e.lowestCALevelToStillHit,e.lowestCALevelToStillKill),e.extraNotes+=`Lowest CA to still 1-hit this creature = ${e.lowestFeasibleCALevel}<br>`,e.lowestFeasibleCALevel!==0&&om(e),e.extraStaminaPerHitAtLowestFeasibleCALevel=rm(e),e.extraStaminaPerHitAtLowestFeasibleCALevel<e.extraStaminaPerHit?e.extraNotes+=`Extra Stam Used at this lowered CA level = ${e.extraStaminaPerHitAtLowestFeasibleCALevel}<br>`:e.extraNotes+="No reduction of stam used at the lower CA level<br>"}function im(e){return e.numberOfHitsRequired==="-"||e.numberOfHitsRequired!==1}function am(e){e.lowestCALevelToStillHit>175?e.extraNotes+="Even with CA175 you cannot hit this creature<br>":e.lowestCALevelToStillHit!==0&&(e.extraNotes+=`You need a minimum of CA${e.lowestCALevelToStillHit} to hit this creature<br>`)}function lm(e){e.lowestCALevelToStillKill>175?e.extraNotes+="Even with CA175 you cannot 1-hit kill this creature<br>":e.lowestCALevelToStillKill!==0&&(e.extraNotes+=`You need a minimum of CA${e.lowestCALevelToStillKill} to 1-hit kill this creature<br>`)}function fm(e){ul(e),am(e),lm(e)}function dn(e){tm(e)&&nm(e),im(e)&&fm(e)}function sm(e){return e.callback.groupExists?e.callback.groupHPValue:e.player.hpValue}function um(e){return e.callback.groupExists?e.callback.groupDamageValue:e.player.damageValue}function cm(e){let t=sm(e),{fortitudeLevel:r}=e.player;e.fortitudeExtraHPs=Math.floor(t*r*.001),r>0&&(e.extraNotes+=`Fortitude Bonus HP = ${e.fortitudeExtraHPs}<br>`),e.overallHPValue=t+e.fortitudeExtraHPs}function mm(e){let{chiStrikeLevel:t}=e.player;e.chiStrikeExtraDamage=Math.floor(e.overallHPValue*t*.001),t>0&&(e.extraNotes+=`Chi Strike Bonus Damage = ${e.chiStrikeExtraDamage}<br>`)}function pn(e){cm(e),mm(e);let t=um(e);if(e.overallDamageValue=t+e.deathDealerBonusDamage+e.counterAttackBonusDamage+e.holyFlameBonusDamage+e.chiStrikeExtraDamage,e.damageDone=Math.floor(e.overallDamageValue-(e.generalVariable*e.creature.armor+e.hpVariable*e.creature.hp)),e.hitByHowMuch>0){let r=1;e.overallDamageValue>=e.generalVariable*e.creature.armor&&(r=e.overallDamageValue-e.generalVariable*e.creature.armor),e.numberOfHitsRequired=Math.ceil(e.hpVariable*e.creature.hp/r)}else e.numberOfHitsRequired="-"}function hn(e){return e.callback.groupExists?e.callback.groupDefenseValue:e.player.defenseValue}function dm(e){e.player.constitutionLevel>0&&(e.extraNotes+=`Constitution Bonus Defense = ${Math.floor(hn(e)*e.player.constitutionLevel*.001)}<br>`)}function pm(e){e.player.flinchLevel>0&&(e.extraNotes+=`Flinch Bonus Attack Reduction = ${Math.floor(e.creature.attack*e.player.flinchLevel*.001)}<br>`)}function gn(e){e.overallDefenseValue=hn(e)+Math.floor(hn(e)*e.player.constitutionLevel*.001)+e.nightmareVisageAttackMovedToDefense,dm(e),pm(e),e.creatureHitByHowMuch=Math.floor(e.attackVariable*e.creature.attack-e.creature.attack*e.player.flinchLevel*.001-e.overallDefenseValue),e.combatEvaluatorBias===3&&(e.creatureHitByHowMuch=Math.floor(e.creature.attack-e.creature.attack*e.player.flinchLevel*.001-e.overallDefenseValue-50))}function hm(e){e.player.superEliteSlayerLevel>0&&(e.extraNotes+=`SES Stat Reduction Multiplier = ${e.player.superEliteSlayerMultiplier}<br>`)}function gm(e){e.holyFlameBonusDamage=0,e.creature.class==="Undead"&&(e.holyFlameBonusDamage=Math.max(Math.floor((e.player.damageValue-e.creature.armor)*e.player.holyFlameLevel*.002),0),e.player.holyFlameLevel>0&&(e.extraNotes+=`HF Bonus Damage = ${e.holyFlameBonusDamage}<br>`))}function vm(e){e.deathDealerBonusDamage=Math.floor(e.player.damageValue*(Math.min(Math.floor(e.player.killStreakValue/5)*.01*e.player.deathDealerLevel,20)/100))}function ym(e){e.counterAttackBonusAttack=Math.floor(e.player.attackValue*.0025*e.player.counterAttackLevel),e.counterAttackBonusDamage=Math.floor(e.player.damageValue*.0025*e.player.counterAttackLevel)}function Dm(e){e.extraStaminaPerHit=0,e.player.counterAttackLevel>0&&(e.extraStaminaPerHit=Math.ceil((1+e.player.doublerLevel/50)*.0025*e.player.counterAttackLevel))}function xm(e){e.player.deathDealerLevel>0&&(e.extraNotes+=`DD Bonus Damage = ${e.deathDealerBonusDamage}<br>`)}function km(e){e.player.counterAttackLevel>0&&(e.extraNotes+=`CA Bonus Attack/Damage = ${e.counterAttackBonusAttack} / ${e.counterAttackBonusDamage}<br>CA Extra Stam Used = ${e.extraStaminaPerHit}<br>`)}function vn(e){e.extraNotes="",hm(e),gm(e),vm(e),ym(e),Dm(e),xm(e),km(e)}function wm(e){return e.callback.groupExists?"Group ":""}function Cm(e){return`<tr><td bgcolor="#CD9E4B" colspan="4" align="center">${wm(e)}Combat Evaluation</td></tr>`}function Bm(e){return e.hitByHowMuch>0?"Yes":"No"}function Am(e){return`<tr><td align="right"><span style="color:#333333">Will I hit it? </td><td align="left">${Bm(e)}</td><td align="right"><span style="color:#333333">Extra Attack: </td><td align="left">( ${e.hitByHowMuch} )</td></tr>`}function bm(e){return`<tr><td align="right"><span style="color:#333333"># Hits to kill it? </td><td align="left">${e.numberOfHitsRequired}</td><td align="right"><span style="color:#333333">Extra Damage: </td><td align="left">( ${e.damageDone} )</td></tr>`}function Lm(e){return e.creatureHitByHowMuch>=0?"Yes":"No"}function Sm(e){return`<tr><td align="right"><span style="color:#333333">Will I be hit? </td><td align="left">${Lm(e)}</td><td align="right"><span style="color:#333333">Extra Defense: </td><td align="left">( ${-1*e.creatureHitByHowMuch} )</td></tr>`}function Em(e){return`<tr><td align="right"><span style="color:#333333"># Hits to kill me? </td><td align="left">${e.numberOfCreatureHitsTillDead}</td><td align="right"><span style="color:#333333">Extra Armor + HP: </td><td align="left">( ${-1*e.creatureDamageDone} )</td></tr>`}function Mm(e){return`<tr><td align="right"><span style="color:#333333"># Player Hits? </td><td align="left">${e.playerHits}</td><td align="right"><span style="color:#333333"># Creature Hits? </td><td align="left">${e.creatureHits}</td></tr>`}function Hm(e){return`<tr><td align="right"><span style="color:#333333">Fight Status: </span></td><td align="left" colspan="3"><span>${e.fightStatus}</span></td></tr>`}function Tm(e){return`<tr><td align="right"><span style="color:#333333">Notes: </span></td><td align="left" colspan="3"><span style="font-size:x-small;">${e.extraNotes}</span></td></tr>`}function yn(e){return`<table width="100%"><tbody>${Cm(e)}${Am(e)}${bm(e)}${Sm(e)}${Em(e)}${Mm(e)}${Hm(e)}${Tm(e)}</tbody></table>`}var zt,Yt,rt;function Vm(e){if(!zt){let t=De("body",e);t.length===1&&([zt]=t)}}function cl(){return me(Yt)?"Remove from do not kill list":"Add to the do not kill list"}function ml(){f(cl(),rt)}function Nm(){let e=n.doNotKillList.indexOf(Yt);e===-1?n.doNotKillList.push(Yt):n.doNotKillList.splice(e,1),ml(),y("doNotKillList",n.doNotKillList.join()),be()}function Gm(){rt=T({className:"fshBl",textContent:cl(),type:"button"});let e=m({className:"description",innerHTML:'<span class="ui-helper-hidden-accessible"><input type="text"></span>'});i(e,rt),i(zt,e),B(rt,Nm)}function $m(){rt?ml():Gm()}function Dn(e,t){Vm(t),zt&&(Yt=ve(e),$m())}var Ke,ot,Qt,Xt;function Rm(){Ke||(Ke=a("dialog-viewcreature"))}function Im(){ot||(ot=m(),i(Ke,ot),i(Ke,m({innerHTML:'<span class="fshFooter">*Does include CA, DD, HF, DC, Flinch, Super Elite Slayer, NMV, Sanctuary, Constitution, Fortitude, Chi Strike and Terrorize (if active) and allow for randomness (1.1053). Constitution, NMV, Fortitude and Chi Strike apply to group stats.</span>'})))}function dl(){Qt||(Im(),Qt=m(),i(ot,Qt))}function Pm(){Xt||(dl(),Xt=m(),i(ot,Xt))}function pl(e){dl(),w(e,Qt)}function hl(e){Pm(),w(e,Xt)}function _m(e,t,r){r===3&&(t.attack-=Math.ceil(t.attack*e),t.defense-=Math.ceil(t.defense*e),t.armor-=Math.ceil(t.armor*e),t.damage-=Math.ceil(t.damage*e),t.hp-=Math.ceil(t.hp*e))}function Fm(e,t){let r={name:e.name,class:e.creature_class,attack:Number(e.attack),defense:Number(e.defense),armor:Number(e.armor),damage:Number(e.damage),hp:Number(e.hp)};return _m(t,r,e.type),r}function Om(e){e.combatEvaluatorBias=n.combatEvaluatorBias,e.attackVariable=1.1053,e.generalVariable=n.generalVariable,e.hpVariable=n.hpVariable}function Km(e){vn(e),mn(e),pn(e),gn(e),cn(e),un(e),dn(e)}function gl(e,t,r){let o={};o.callback=r,o.player=Me(t),Om(o),o.creature=Fm(e.response.data,o.player.superEliteSlayerMultiplier),Km(o),o.evaluatorHTML=yn(o),r.groupExists?hl(o.evaluatorHTML):pl(o.evaluatorHTML)}function qm(e){return e.members[0].name===Dt()}function Wm(e){if(I(e.r))return e.r.find(qm).id}function Um(e,t,r){if(!r.r||!r.r.attributes)return;let o=r.r.attributes;gl(e,t,{groupExists:!0,groupAttackValue:o[0].value,groupDefenseValue:o[1].value,groupArmorValue:o[2].value,groupDamageValue:o[3].value,groupHPValue:o[4].value})}function zm(e,t,r){r&&sn(r).then(u(Um,e,t))}function Ym(e,t){Mi().then(Wm).then(u(zm,e,t))}function Qm(e,t){e.player.hasGroup&&Ym(e,t),gl(e,t,{groupExists:!1})}function Xm(e){return e.response&&e.response.data}function Jm(e,t){Rm(),Ke&&(pl(""),hl(""),Xm(t)&&(Dn(t.response.data.name,Ke),Bi(!0).then(u(Qm,t))))}function xn(){$.subscribe(Wn,Jm)}var Jt,kn;function jt(){let e=[null,[n.buffs,n.buffsName],[n.buffs2,n.buffs2Name],[n.buffs3,n.buffs3Name]][n.enabledHuntingMode];I(e)&&([Jt,kn]=e)}function wn(e){e.target.name==="enabledHuntingMode"&&(n.enabledHuntingMode=e.target.value,y("enabledHuntingMode",n.enabledHuntingMode),jt(),GameData.fetch(W))}var nt;function yl(){nt=!nt,y("hidePlayerActions",nt),GameData.fetch(E)}function jm(e){let t=De("verbs",e);t.length===1&&Bt(t[0])}function vl(){if(!nt)return;let e=a("actionList");Ct("player",e).forEach(jm)}function Dl(){nt=p("hidePlayerActions"),$.subscribe(ge,vl),vl()}function Cn(){n.showCreatureInfo=!n.showCreatureInfo,y("showCreatureInfo",n.showCreatureInfo)}function Bn(){n.showBuffs=!n.showBuffs,y("showHuntingBuffs",n.showBuffs),GameData.fetch(W)}function An(){n.showMonsterLog=!n.showMonsterLog,y("showMonsterLog",n.showMonsterLog)}function bn(){n.hideSubLvlCreature=!n.hideSubLvlCreature,y("hideSubLvlCreature",n.hideSubLvlCreature),GameData.fetch(E)}function Zm(){return m({id:"fshWorldPrefs",innerHTML:`${ae("showCreatureInfo")}&nbsp;&nbsp;${ae("showMonsterLog")}&nbsp;&nbsp;${ae("showTitanInfo")}&nbsp;&nbsp;${ae("showBuffInfo")}<br>${ae("hideSubLvlCreature")}&nbsp;&nbsp;${ae("hidePlayerActions")}&nbsp;&nbsp;${ji()}`})}var ed={hideSubLvlCreature:bn,hidePlayerActions:yl,showCreatureInfo:Cn,showHuntingBuffs:Bn,showMonsterLog:An,showTitanInfo:nl,showBuffInfo:na};function td(e){let t=ed[e.target.name];dt(t)&&(e.target.blur(),t(e))}function Ln(){let e=m({className:"fshCenter fshFten"}),t=Zm();B(t,td),R(t,"change",wn),i(e,t);let r=m();i(e,r);let o=a("worldContainerBelow").children[0];return At(e,o),r}function rd(e,t){return e[t.name]=!0,e}function od(e,t,r){return e[ve(r)]||t.push(r),t}function nd(e,t){w(`You are missing some ${kn} hunting buffs<br>(${t.join(", ")})`,e)}function xl(e){w("",e)}function id(e,t){let r=t.b.reduce(rd,{}),o=Jt.reduce(u(od,r),[]);o.length>0?nd(e,o):xl(e)}function ad(e,t,r){n.showBuffs?id(e,r):xl(e)}function ld(e,t,r){Jt&&ad(e,t,r)}function Sn(e){jt();let t=u(ld,e);$.subscribe(st,t),n.showBuffs&&window.initialGameData&&t(null,{b:window.initialGameData.player.buffs})}var Zt=[{generalVariable:1.1053,hpVariable:1.1},{generalVariable:1.1,hpVariable:1.053},{generalVariable:1.053,hpVariable:1},{generalVariable:1.1053,hpVariable:1}];function fd(e){return Zt[e]?Zt[e].generalVariable:1.1053}function sd(e){return Zt[e]?Zt[e].hpVariable:1.1}function En(){n.combatEvaluatorBias=p("combatEvaluatorBias"),n.generalVariable=fd(n.combatEvaluatorBias),n.hpVariable=sd(n.combatEvaluatorBias)}function ud(e){return!e||!e.actions||e.actions.length===0}function cd(e,t){return t.type===6?t.data.creature_type!==0||t.data.level>=e:!0}function md(e){return e.realm&&e.realm.minlevel||GameData.realm().minlevel}function dd(e){let t=ri(e);return ud(t)?e:(t.actions=t.actions.filter(u(cd,md(t))),ai(t))}function pd(e){return e.data&&e.data.d&&Wi(e.data.d,E)}function hd(e,t){n.hideSubLvlCreature&&pd(t)&&(e.dataFilter=dd)}function Mn(){$.ajaxPrefilter("JSON",hd),n.hideSubLvlCreature&&GameData.fetch(E)}function gd(e){n[e[0]]=sr(e[1])}function vd(){[["buffs","huntingBuffs"],["buffs2","huntingBuffs2"],["buffs3","huntingBuffs3"]].forEach(gd)}function yd(e){n[e]=sr(e)}function Dd(){["doNotKillList"].forEach(yd)}function xd(){vd(),Dd()}function kd(e){n[e[0]]=p(e[1])}function wd(){[["buffsName","huntingBuffsName"],["buffs2Name","huntingBuffs2Name"],["buffs3Name","huntingBuffs3Name"],["showBuffs","showHuntingBuffs"]].forEach(kd)}function Cd(e){n[e]=p(e)}function Bd(){["enabledHuntingMode","hideSubLvlCreature","showTitanInfo","showBuffInfo","showMonsterLog","showCreatureInfo"].forEach(Cd)}function Ad(){wd(),Bd()}function bd(){xd(),Ad()}function Hn(){En(),bd();let e=Ln();Mn(),Sn(e),Dl()}function Ld(){$("#messageCenter").worldMessageCenter({offset:"0 60"})}function Sd(){Be("#mapTooltip")}var Ed=[Hn,rn,xn,Xr,Pr,Fr,Ro,en,Ir,Zo,an,Lo,Ld,Sd,Vr,oa,Or,Go,$r,Qr,$o];function Md(){Qi(Ed),n.userIsDev&&Jr()}export{Md as default};
//# sourceMappingURL=newMap-2TJ5JSYG.js.map
