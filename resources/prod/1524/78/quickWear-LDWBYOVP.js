import{a as Xe}from"./chunk-KOLRWU5K.js";import{a as Re}from"./chunk-JRCJRCTS.js";import{a as oe,c as se}from"./chunk-IPNK57FO.js";import{a as Ze}from"./chunk-V55GUISU.js";import{a as Be}from"./chunk-2ZNGY5NE.js";import{a as Fe}from"./chunk-UOOH5ACL.js";import{a as Ke}from"./chunk-HEJFBNDI.js";import{a as Ye}from"./chunk-ZS55QV3L.js";import{c as Je}from"./chunk-5XLVXE2P.js";import{a as Ge}from"./chunk-BISG4UEW.js";import{a as _e}from"./chunk-UBMARM2C.js";import"./chunk-NLPE34FY.js";import{$ as Y,B as g,D as ue,I as pe,Q as z,R as K,S as P,T as E,_ as X,a as W,aa as Z,ba as ne,ca as re,d as le,q as c,r as $,s as y,t as x,u as b,v as w,w as j}from"./chunk-Y5BMQBVG.js";import{a as de}from"./chunk-BNWEEVL3.js";import{a as ze}from"./chunk-RFJ3WNN3.js";import"./chunk-KVRIB2LF.js";import{a as Ve}from"./chunk-7M4H5O4X.js";import"./chunk-EREM32XP.js";import"./chunk-WXTFQ2EX.js";import{a as Qe}from"./chunk-2ABX2K3R.js";import"./chunk-6XCNSTQO.js";import{a as Ne}from"./chunk-G4Y2RVGL.js";import{a as xe}from"./chunk-WJGEKWR5.js";import{a as Oe}from"./chunk-HPANGB4C.js";import"./chunk-AOUMBNX5.js";import"./chunk-DAGOHXEG.js";import{a as He}from"./chunk-AWJUUHCF.js";import"./chunk-RS7F7ZXV.js";import{a as U}from"./chunk-BBGQNVSZ.js";import{a as C}from"./chunk-BFPR54OB.js";import"./chunk-XBR44BTF.js";import{a as Ue,b as Ce}from"./chunk-IRY7N5E2.js";import"./chunk-VQ5IF6FG.js";import{a as me}from"./chunk-N42GCCAH.js";import{a as Le}from"./chunk-ZVZVTSOW.js";import"./chunk-JALJ6QIZ.js";import{f as Me}from"./chunk-23REUCOM.js";import"./chunk-NGC57R36.js";import"./chunk-PPVAQIV6.js";import"./chunk-YZDE7HUD.js";import"./chunk-65TDUWAS.js";import"./chunk-L64NM3TP.js";import"./chunk-NRWJMAHH.js";import"./chunk-K4B7GDYL.js";import"./chunk-KU6X3UZY.js";import"./chunk-HDOHD4T5.js";import"./chunk-WS7NDR34.js";import{a as De}from"./chunk-U23UIQ4J.js";import"./chunk-DIXVNWJK.js";import"./chunk-JOVTQVLX.js";import{a as te}from"./chunk-ABZVOXL7.js";import"./chunk-NCKABNOS.js";import{b as Ae}from"./chunk-QC454MFH.js";import{a as Pe}from"./chunk-AXRQ5WVZ.js";import"./chunk-R6LOYYKU.js";import"./chunk-ZH46UF77.js";import"./chunk-NNEMTXQK.js";import"./chunk-EEFLVRLB.js";import{a as M}from"./chunk-BCLTLFAS.js";import"./chunk-NYUH27F5.js";import{a as Ee}from"./chunk-RV2XOX2R.js";import"./chunk-YCSGQRQ3.js";import"./chunk-BVHFLUJI.js";import"./chunk-TRTGTDIN.js";import{a as Te}from"./chunk-46ONZIIB.js";import{b as We}from"./chunk-S6LVOURD.js";import"./chunk-LXKLJ4E3.js";import"./chunk-VNX4IMNY.js";import{D as fe,t as ae}from"./chunk-KWOXJEE6.js";import{a as R}from"./chunk-GBEPYIIX.js";async function he(t){return{s:(await Ne({cmd:"profile",subcmd:"equipitem",inventory_id:t,ajax:1})).r===0}}function be(t){return Ve({subcmd:"equipitem",inventory_id:t})}function ve(t){return Oe(be,he,t)}function et(t,e,l){let n=t.slice();return n[13]=e[l],n[15]=l,n}function mt(t){let e,l,n,r,_,o,f,k,q=[_t,pt],m=[];function I(d,h){return d[13].equip?0:1}l=I(t,-1),n=m[l]=q[l](t);let p=[bt,ht],s=[];function a(d,h){return d[13].use?0:1}return o=a(t,-1),f=s[o]=p[o](t),{c(){e=b("span"),n.c(),r=w(`
            |
            `),_=b("span"),f.c(),g(e,"class","equippable svelte-rmhbf1"),g(_,"class","usable svelte-rmhbf1")},m(d,h){$(d,e,h),m[l].m(e,null),$(d,r,h),$(d,_,h),s[o].m(_,null),k=!0},p(d,h){let v=l;l=I(d,h),l===v?m[l].p(d,h):(z(),E(m[v],1,1,()=>{m[v]=null}),K(),n=m[l],n?n.p(d,h):(n=m[l]=q[l](d),n.c()),P(n,1),n.m(e,null));let S=o;o=a(d,h),o===S?s[o].p(d,h):(z(),E(s[S],1,1,()=>{s[S]=null}),K(),f=s[o],f?f.p(d,h):(f=s[o]=p[o](d),f.c()),P(f,1),f.m(_,null))},i(d){k||(P(n),P(f),k=!0)},o(d){E(n),E(f),k=!1},d(d){d&&y(e),m[l].d(),d&&y(r),d&&y(_),s[o].d()}}}function ut(t){let e,l=t[13].used+"",n;return{c(){e=b("span"),n=w(l),g(e,"class","itemUsed svelte-rmhbf1")},m(r,_){$(r,e,_),c(e,n)},p(r,_){_&2&&l!==(l=r[13].used+"")&&ue(n,l)},i:W,o:W,d(r){r&&y(e)}}}function pt(t){let e,l;function n(){return t[7](t[15])}return e=new _e({props:{disabled:!t[13].eq,$$slots:{default:[dt]},$$scope:{ctx:t}}}),e.$on("click",n),{c(){X(e.$$.fragment)},m(r,_){Y(e,r,_),l=!0},p(r,_){t=r;let o={};_&2&&(o.disabled=!t[13].eq),_&65536&&(o.$$scope={dirty:_,ctx:t}),e.$set(o)},i(r){l||(P(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){Z(e,r)}}}function _t(t){let e;return{c(){e=b("span"),g(e,"class","fshSpinner fshSpin12")},m(l,n){$(l,e,n)},p:W,i:W,o:W,d(l){l&&y(e)}}}function dt(t){let e;return{c(){e=w("Wear")},m(l,n){$(l,e,n)},d(l){l&&y(e)}}}function ht(t){let e,l;function n(){return t[8](t[15])}return e=new _e({props:{disabled:t[13].eq||!(t[13].u&&!t[13].c),$$slots:{default:[vt]},$$scope:{ctx:t}}}),e.$on("click",n),{c(){X(e.$$.fragment)},m(r,_){Y(e,r,_),l=!0},p(r,_){t=r;let o={};_&2&&(o.disabled=t[13].eq||!(t[13].u&&!t[13].c)),_&65536&&(o.$$scope={dirty:_,ctx:t}),e.$set(o)},i(r){l||(P(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){Z(e,r)}}}function bt(t){let e;return{c(){e=b("span"),g(e,"class","fshSpinner fshSpin12")},m(l,n){$(l,e,n)},p:W,i:W,o:W,d(l){l&&y(e)}}}function vt(t){let e;return{c(){e=w("Use/Ext")},m(l,n){$(l,e,n)},d(l){l&&y(e)}}}function tt(t){let e,l,n,r,_,o,f,k,q,m=t[13].n+"",I,p,s,a=[ut,mt],d=[];function h(v,S){return v[13].used?0:1}return n=h(t,-1),r=d[n]=a[n](t),f=new Be({props:{item:t[13],small:"1",t:"0"}}),{c(){e=b("tr"),l=b("td"),r.c(),_=j(),o=b("td"),X(f.$$.fragment),k=j(),q=b("td"),I=w(m),p=j(),g(l,"class","svelte-rmhbf1"),g(o,"class","svelte-rmhbf1"),g(q,"class","svelte-rmhbf1"),g(e,"class","svelte-rmhbf1"),pe(e,"hideRow",t[0]!==-2&&t[13].f!==t[0])},m(v,S){$(v,e,S),c(e,l),d[n].m(l,null),c(e,_),c(e,o),Y(f,o,null),c(e,k),c(e,q),c(q,I),c(e,p),s=!0},p(v,S){let T=n;n=h(v,S),n===T?d[n].p(v,S):(z(),E(d[T],1,1,()=>{d[T]=null}),K(),r=d[n],r?r.p(v,S):(r=d[n]=a[n](v),r.c()),P(r,1),r.m(l,null));let N={};S&2&&(N.item=v[13]),f.$set(N),(!s||S&2)&&m!==(m=v[13].n+"")&&ue(I,m),S&3&&pe(e,"hideRow",v[0]!==-2&&v[13].f!==v[0])},i(v){s||(P(r),P(f.$$.fragment,v),s=!0)},o(v){E(r),E(f.$$.fragment,v),s=!1},d(v){v&&y(e),d[n].d(),Z(f)}}}function kt(t){let e,l,n,r,_,o,f,k;n=new Re({props:{folders:t[2]}}),n.$on("filter",t[3]);let q=t[1],m=[];for(let p=0;p<q.length;p+=1)m[p]=tt(et(t,q,p));let I=p=>E(m[p],1,1,()=>{m[p]=null});return{c(){e=b("table"),l=b("caption"),X(n.$$.fragment),r=j(),_=b("thead"),_.innerHTML=`<tr class="svelte-rmhbf1"><th class="svelte-rmhbf1">Actions</th> 
      <th colspan="2" class="svelte-rmhbf1">Items</th></tr>`,o=j(),f=b("tbody");for(let p=0;p<m.length;p+=1)m[p].c();g(l,"class","svelte-rmhbf1"),g(_,"class","svelte-rmhbf1"),g(e,"class","svelte-rmhbf1")},m(p,s){$(p,e,s),c(e,l),Y(n,l,null),c(e,r),c(e,_),c(e,o),c(e,f);for(let a=0;a<m.length;a+=1)m[a].m(f,null);k=!0},p(p,[s]){if(s&51){q=p[1];let a;for(a=0;a<q.length;a+=1){let d=et(p,q,a);m[a]?(m[a].p(d,s),P(m[a],1)):(m[a]=tt(d),m[a].c(),P(m[a],1),m[a].m(f,null))}for(z(),a=q.length;a<m.length;a+=1)I(a);K()}},i(p){if(!k){P(n.$$.fragment,p);for(let s=0;s<q.length;s+=1)P(m[s]);k=!0}},o(p){E(n.$$.fragment,p),m=m.filter(Boolean);for(let s=0;s<m.length;s+=1)E(m[s]);k=!1},d(p){p&&y(e),Z(n),x(m,p)}}}var qt="Are you sure you want to use/extract the item?";function gt(t,e,l){let{appInv:n=0}=e,r=-2,_=({a:h})=>h!==-1,o=({a:h,n:v})=>[h,v],f=(h,v)=>te(h.n,v.n),k=ze(n.folders.filter(_).map(o)),q=n.items.sort(f);function m(h){l(0,r=Number(h.detail))}async function I(h,v,S,T){xe("QuickWear",`doAction - ${T}`),l(1,q[h][v]=1,q),(await S(q[h].a)).s&&l(1,q[h].used=T,q)}function p(h){I(h,"equip",ve,"Worn")}async function s(h){(R.disableQuickWearPrompts||await Je(qt))&&I(h,"use",Ge,"Used")}let a=h=>p(h),d=h=>s(h);return t.$$set=h=>{"appInv"in h&&l(6,n=h.appInv)},[r,q,k,m,p,s,n,a,d]}var ke=class extends re{constructor(e){super(),ne(this,e,gt,kt,le,{appInv:6})}},lt=ke;function $t(t,e){return new lt({props:{appInv:t},target:e})}function qe(t){let e=U({className:"qw"});return $t(t,e),e}var ie=(t,e)=>t+String(e);function yt(t,e,l){return Ke({checked:l===0,id:ie(t,l),name:t,type:"radio"})}function It(t,e,l,n){let r=Ye({className:"ui-state-default ui-corner-top"});return C(r,Xe({htmlFor:ie(t,n),innerHTML:l})),n!==0&&Qe(r,"click",()=>{oe(ie(t,n),e[n])}),r}function jt(t,e,l){let n=Ze({className:"ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"});return t.map(M(It,e,l)).forEach(M(C,n)),n}var wt=()=>U({className:"ui-tabs-panel ui-corner-bottom"});function ge(t,e,l){let n=U({className:"fshTabSet ui-tabs ui-widget-content ui-corner-all"}),r=M(C,n);e.map(M(yt,l)).forEach(r);let o=e.map(wt);oe(ie(l,0),o[0]);let f=jt(e,l,o);oe(`${l}-header`,f),C(n,f),o.forEach(r),Pe("",t),C(t,n)}function nt(t,e,l){let n=t.slice();return n[10]=e[l].n,n[11]=e[l].count,n}function rt(t,e,l){let n=t.slice();return n[14]=e[l].nickname,n[15]=e[l].searchname,n[17]=l,n}function ot(t,e,l){let n=t.slice();return n[14]=e[l].nickname,n[15]=e[l].searchname,n[11]=e[l].count,n}function st(t){let e,l,n=t[15]+"",r,_,o,f,k=t[14]+"",q,m,I,p,s=t[11]+"",a,d;return{c(){e=b("tr"),l=b("td"),r=w(n),_=j(),o=b("td"),f=b("a"),q=w(k),I=j(),p=b("td"),a=w(s),d=j(),g(l,"class","svelte-yvajxq"),g(f,"href",m=""+(ae+t[15])),g(o,"class","svelte-yvajxq"),g(p,"class","svelte-yvajxq"),g(e,"class","svelte-yvajxq")},m(h,v){$(h,e,v),c(e,l),c(l,r),c(e,_),c(e,o),c(o,f),c(f,q),c(e,I),c(e,p),c(p,a),c(e,d)},p:W,d(h){h&&y(e)}}}function St(t){let e;return{c(){e=w(",")},m(l,n){$(l,e,n)},d(l){l&&y(e)}}}function it(t){let e,l,n=t[14]+"",r,_,o=t[17]>0&&St(t);return{c(){o&&o.c(),e=j(),l=b("a"),r=w(n),g(l,"href",_=""+(ae+t[15]))},m(f,k){o&&o.m(f,k),$(f,e,k),$(f,l,k),c(l,r)},p:W,d(f){o&&o.d(f),f&&y(e),f&&y(l)}}}function ct(t){let e,l,n=t[10]+"",r,_,o,f,k,q=t[11]+"",m,I;return{c(){e=b("tr"),l=b("td"),r=w(n),_=j(),o=b("td"),f=j(),k=b("td"),m=w(q),I=j(),g(l,"class","svelte-yvajxq"),g(o,"class","svelte-yvajxq"),g(k,"class","svelte-yvajxq"),g(e,"class","svelte-yvajxq")},m(p,s){$(p,e,s),c(e,l),c(l,r),c(e,_),c(e,o),c(e,f),c(e,k),c(k,m),c(e,I)},p:W,d(p){p&&y(e)}}}function Qt(t){let e,l,n,r,_,o,f,k,q,m,I,p,s,a,d,h,v,S,T,N,F,B,Ie,ee,je,we,Se,G,J=t[0],L=[];for(let i=0;i<J.length;i+=1)L[i]=st(ot(t,J,i));let O=t[1],H=[];for(let i=0;i<O.length;i+=1)H[i]=it(rt(t,O,i));let V=t[2],A=[];for(let i=0;i<V.length;i+=1)A[i]=ct(nt(t,V,i));return{c(){e=b("table"),l=b("caption"),n=w(`Items from
    `),r=b("a"),_=w("AH Quick Search"),o=w(`
    found in your inventory`),f=j(),k=b("thead"),k.innerHTML=`<tr><th class="svelte-yvajxq">Name</th> 
      <th class="svelte-yvajxq">Nick Name</th> 
      <th class="svelte-yvajxq">Inv Count</th></tr>`,q=j(),m=b("tbody");for(let i=0;i<L.length;i+=1)L[i].c();I=j(),p=b("hr"),s=j(),a=b("div"),d=b("span"),d.textContent="Did not find:",h=j(),v=b("span");for(let i=0;i<H.length;i+=1)H[i].c();S=j(),T=b("hr"),N=j(),F=b("table"),B=b("caption"),Ie=w(`Items NOT from
    `),ee=b("a"),je=w("AH Quick Search"),we=w(`
    found in your inventory`),Se=j(),G=b("tbody");for(let i=0;i<A.length;i+=1)A[i].c();g(r,"href",fe),g(l,"class","svelte-yvajxq"),g(m,"class","svelte-yvajxq"),g(e,"class","svelte-yvajxq"),g(ee,"href",fe),g(B,"class","svelte-yvajxq"),g(G,"class","svelte-yvajxq"),g(F,"class","svelte-yvajxq")},m(i,Q){$(i,e,Q),c(e,l),c(l,n),c(l,r),c(r,_),c(l,o),c(e,f),c(e,k),c(e,q),c(e,m);for(let u=0;u<L.length;u+=1)L[u].m(m,null);$(i,I,Q),$(i,p,Q),$(i,s,Q),$(i,a,Q),c(a,d),c(a,h),c(a,v);for(let u=0;u<H.length;u+=1)H[u].m(v,null);$(i,S,Q),$(i,T,Q),$(i,N,Q),$(i,F,Q),c(F,B),c(B,Ie),c(B,ee),c(ee,je),c(B,we),c(F,Se),c(F,G);for(let u=0;u<A.length;u+=1)A[u].m(G,null)},p(i,[Q]){if(Q&1){J=i[0];let u;for(u=0;u<J.length;u+=1){let D=ot(i,J,u);L[u]?L[u].p(D,Q):(L[u]=st(D),L[u].c(),L[u].m(m,null))}for(;u<L.length;u+=1)L[u].d(1);L.length=J.length}if(Q&2){O=i[1];let u;for(u=0;u<O.length;u+=1){let D=rt(i,O,u);H[u]?H[u].p(D,Q):(H[u]=it(D),H[u].c(),H[u].m(v,null))}for(;u<H.length;u+=1)H[u].d(1);H.length=O.length}if(Q&4){V=i[2];let u;for(u=0;u<V.length;u+=1){let D=nt(i,V,u);A[u]?A[u].p(D,Q):(A[u]=ct(D),A[u].c(),A[u].m(G,null))}for(;u<A.length;u+=1)A[u].d(1);A.length=V.length}},i:W,o:W,d(i){i&&y(e),x(L,i),i&&y(I),i&&y(p),i&&y(s),i&&y(a),x(H,i),i&&y(S),i&&y(T),i&&y(N),i&&y(F),x(A,i)}}}function Wt(t,e,l){let{itemList:n=0}=e,r=de(n.items,"n").map(({n:s})=>({n:s,count:n.items.filter(({n:a})=>a===s).length})),_=Le("quickSearchList")||[],o=de(_,"searchname").sort((s,a)=>te(s.searchname,a.searchname)),f=({searchname:s})=>r.some(({n:a})=>a===s),k=o.filter(f).map(({nickname:s,searchname:a})=>({nickname:s,searchname:a,count:r.find(({n:d})=>d===a).count})),q=({searchname:s})=>!r.some(({n:a})=>a===s),m=o.filter(q).map(({nickname:s,searchname:a})=>({nickname:s,searchname:a})),I=({n:s})=>!k.some(({searchname:a})=>a===s),p=r.filter(I);return t.$$set=s=>{"itemList"in s&&l(3,n=s.itemList)},[k,m,p,n]}var $e=class extends re{constructor(e){super(),ne(this,e,Wt,Qt,le,{itemList:3})}},at=$e;function Lt(t,e){return new at({props:{itemList:t},target:e})}function ye(t){let e=U();return Lt(t,e),e}var ce="disableQuickWearPrompts";function Ht(){R.disableQuickWearPrompts=!R.disableQuickWearPrompts,De(ce,R.disableQuickWearPrompts)}function At(){return[[Ce(ce),Ht]]}function Pt(t){C(t,U({className:"qwPref",innerHTML:Me(ce)}))}function ft(t,e,l){C(l,t(e))}function Et(t,e){se("qwtab-header",Pt),se("qwtab0",M(ft,qe,e)),se("qwtab1",M(ft,ye,e)),ge(t,["Quick Wear / Use / Extract<br>Manager","Inventory Manager Counter<br>filtered by AH Quick Search"],"qwtab"),Te(t,Ue(At()))}var Tt=t=>me(t.folders)&&me(t.items);function Ut(t,e){Tt(e)&&Et(t,e)}async function Ct(t){let e=t||Ae;if(!e)return;He(e,"Getting item list from backpack..."),R.disableQuickWearPrompts=We(ce);let l=await Fe();Ut(e,l)}function Dt(t){Ee()&&Ct(t)}export{Dt as default};
//# sourceMappingURL=quickWear-LDWBYOVP.js.map
