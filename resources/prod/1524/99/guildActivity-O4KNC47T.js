import{a as o}from"./chunk-RW2CANGY.js";import{a as p}from"./chunk-5CEQEETK.js";import"./chunk-5CL27P3C.js";import"./chunk-MIFA5OAH.js";import"./chunk-C5XG7X3Y.js";import"./chunk-RQFQSBXN.js";import"./chunk-GS6VXPUV.js";import"./chunk-DNZTWVFT.js";import"./chunk-NTA7QX3R.js";import"./chunk-OZO3C2DW.js";import"./chunk-GMLTBP5U.js";import"./chunk-YAI73TCP.js";import"./chunk-NWDGTVVH.js";import"./chunk-BNXETKRM.js";import"./chunk-ZYSUV7P2.js";import{a as f}from"./chunk-R27ZUPLV.js";import"./chunk-Q4ISSEWQ.js";import"./chunk-N3BAHO2U.js";import"./chunk-MCKCLPTM.js";import"./chunk-HDDSTVDW.js";import"./chunk-3M4JV256.js";import"./chunk-3VGCM7V6.js";import"./chunk-5AMVPEUS.js";import{a as u}from"./chunk-EEOI3QHS.js";import"./chunk-E5RHLETX.js";import{a as m,b as l}from"./chunk-A7D3PPVQ.js";import"./chunk-XKHKWWUO.js";import"./chunk-BKQ5B4GS.js";import"./chunk-DRO6BEBO.js";import"./chunk-5IFOIBKY.js";import"./chunk-LGYGKPKS.js";import"./chunk-A4HY7BPZ.js";import"./chunk-XR4XHCV2.js";import{d as n}from"./chunk-QTNVBBKP.js";import"./chunk-VX5V3MQE.js";import"./chunk-U5QRCCLA.js";import{a}from"./chunk-DG6P646J.js";import"./chunk-K4LSLGQK.js";import"./chunk-MC4TDBQ5.js";import"./chunk-OXVY43H4.js";import"./chunk-HN4Q5DUC.js";import"./chunk-QDZWRTTK.js";import"./chunk-WWWWNWRL.js";function s(t){return Object.values(t)}var e=0;function d(t){e.members[t.name].push([o(t.last_activity),t.current_stamina,t.level,t.max_stamina,n(),t.vl,t.guild_xp])}function w(t){e.members[t.name]||(e.members[t.name]=[],d(t))}var b=[(t,i)=>i.current_stamina!==t[1],(t,i)=>i.max_stamina>t[3],(t,i)=>i.level!==t[2],(t,i)=>i.vl!==t[5],(t,i)=>i.guild_xp!==t[6]];function M(t,i,r){return r(t,i)}function k(t,i){return b.some(a(M,t,i))}function D(t,i){k(t,i)?d(i):(t[0]=o(i.last_activity),t[4]=n())}function E(t,i){w(i);let r=e.members[i.name],c=r[r.length-1];n()-c[4]>=86100&&D(c,i),t.members[i.name]=e.members[i.name]}function U(t,i){i.members.forEach(a(E,t))}var j=t=>t.length===7&&t.every(i=>u(i));function N(t){let i={lastUpdate:n(),members:{}};t.r.forEach(a(U,i)),s(i.members).flat().every(j)&&l("fsh_guildActivity",i)}function O(t){t?.r&&N(t)}function R(t){return t??{lastUpdate:0,members:{}}}async function C(t){if(e=R(t),n()>f(e.lastUpdate,0)+300){let i=await p();O(i)}}async function G(){let t=await m("fsh_guildActivity");C(t)}export{G as default};
//# sourceMappingURL=guildActivity-O4KNC47T.js.map
