import{b as B}from"./chunk-BVSTCEHP.js";import{a as i}from"./chunk-X7DD4N6N.js";import"./chunk-NYVCKTXS.js";import{a as k}from"./chunk-CEQ3EXRP.js";import"./chunk-UB2NKMPX.js";import{a as P}from"./chunk-TCSZ6BRF.js";import"./chunk-WXWDG6HK.js";import"./chunk-HH35VWQD.js";import{a as C}from"./chunk-3H6GCVB5.js";import"./chunk-52V2CNK7.js";import{a as u}from"./chunk-3G7CYY57.js";import{a as n}from"./chunk-APWD7TKF.js";import"./chunk-2L2WLAM3.js";import"./chunk-HBJX3L4W.js";import"./chunk-N7KWRY2I.js";import"./chunk-MHC67TCN.js";import"./chunk-OSXVP6O7.js";import{a as s}from"./chunk-QZ3PTAVB.js";import{a as d}from"./chunk-IBAV3FOG.js";import"./chunk-KJYHCQ2M.js";import"./chunk-QWWGFHCC.js";import"./chunk-UYTG5BIE.js";import"./chunk-A4AW7RHB.js";import"./chunk-S2OM6JJX.js";import"./chunk-X6TTU562.js";import{b as f}from"./chunk-B4VPWMSY.js";import{a as r}from"./chunk-EQGONDX6.js";import{a as A}from"./chunk-HBZRWJQD.js";import"./chunk-JJYXGDGG.js";import"./chunk-L5RDKRDA.js";import"./chunk-FRO6SRPS.js";import"./chunk-KISGUHSG.js";import{a as y}from"./chunk-VOZNQMDZ.js";import"./chunk-FWKC5QHK.js";import"./chunk-NWPELAGL.js";import"./chunk-PQNRX7KL.js";import"./chunk-3HA3LGRS.js";import"./chunk-PQQEFJJP.js";import"./chunk-PG53AESD.js";import"./chunk-AXJWJKP2.js";import"./chunk-LI5QSEK4.js";import"./chunk-K6BERMOF.js";import{a as h}from"./chunk-LLBDB37F.js";import"./chunk-FBE7XRGY.js";import"./chunk-RXTT2WAC.js";import{a as p}from"./chunk-MQXWBXAI.js";import{a as g}from"./chunk-Y2VHEFD6.js";import"./chunk-IVQP43UK.js";import"./chunk-6IZV36TT.js";import"./chunk-L3JPR2OA.js";import"./chunk-BOKRD7MF.js";import"./chunk-OX4LUTGU.js";import"./chunk-APL2ZPH4.js";import"./chunk-DUYXF4AP.js";import"./chunk-2AE3RW75.js";import{b as m}from"./chunk-4VOC3Y22.js";import"./chunk-EBYAAPUH.js";import"./chunk-OORPHTKR.js";import{Na as c,b as l}from"./chunk-7FWLR7VA.js";import"./chunk-CQMSXQA7.js";import"./chunk-YZRZJRAF.js";var L=()=>g(c,r("resultRows")).filter(e=>!e.href.endsWith("=null")),N=async e=>(await Promise.all(e.map(B))).filter(([,t])=>t),S={guild:"fshGreen",ally:"fshBlue",enemy:"fshRed"};async function w(){let e=L();if(!e.length)return;let t=await N(e);t.length&&t.forEach(([o,x])=>{o.classList.add(S[x])})}async function a(){await w(),$(document).ajaxSuccess((e,t,o)=>{o.url.endsWith("=ajaxsearch")&&w()})}function j(){n(r("refresh"))}function T(e){let[t]=e.parentNode.parentNode.children[0].children;return e.outerHTML=`<img src="${l}ui/misc/spinner.gif" width="14" height="14">`,y({cmd:"auctionhouse",subcmd:"cancel",auction_id:s(t.dataset.tipped,"inv_id")})}async function E(){let e=d("auctionCancel",r("resultRows"));e.length!==0&&(await A(e.map(T)),j())}function H(){let e=P(r("fill"))?.nextElementSibling?.children?.[0];if(!e)return;let t=C({className:"smallLink",textContent:"Cancel All"});e.classList.add("fshCenter"),i(e,"]"),u(e,t),i(e,"["),p(t,E)}function R(){m("autoFillMinBidPrice")&&n(r("auto-fill"))}function _(){h()||!f()||(H(),R(),k(),a())}export{_ as default};
//# sourceMappingURL=injectAuctionHouse-ABXZT4G5.js.map
