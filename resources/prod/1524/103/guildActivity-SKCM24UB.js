import{a as y}from"./chunk-RW26XEO6.js";import{a as h}from"./chunk-UGRGRLDG.js";import"./chunk-YHMEPQN6.js";import"./chunk-7C6CQ5I2.js";import{a as e}from"./chunk-XKIU5EH5.js";import"./chunk-YMX6UH45.js";import{a}from"./chunk-2Y5VLTIC.js";import"./chunk-ILRQGVNQ.js";import"./chunk-QCITHZZO.js";import"./chunk-4BKRRB5O.js";import"./chunk-NZDFBLRQ.js";import"./chunk-S4DLXHFF.js";import"./chunk-PR2EAHHE.js";import{a as g}from"./chunk-W52WF52M.js";import{a as d}from"./chunk-7J7MQQGS.js";import"./chunk-4JYNGGXH.js";import"./chunk-SUBR6HFY.js";import{f as i}from"./chunk-V56KALMS.js";import{a as p}from"./chunk-CMXQAXF2.js";import"./chunk-3XEIZZHC.js";import"./chunk-ZWSICCTU.js";import"./chunk-APLZF2FC.js";import"./chunk-NIE6URWE.js";import"./chunk-VDZHRZJL.js";import"./chunk-KU5JAIEB.js";import"./chunk-N7M4WPYO.js";import"./chunk-BGM7VCLD.js";import"./chunk-ZOICBMHG.js";import"./chunk-EL33JOKC.js";import{a as c}from"./chunk-EOP2LXLP.js";import"./chunk-PCHFEFT4.js";import"./chunk-ARPRWHND.js";import{a as u,b as m}from"./chunk-VOI5HXP6.js";import"./chunk-UXWHPN2C.js";import"./chunk-FBJYO5PW.js";import"./chunk-SASH6XDT.js";import"./chunk-DMJF4GTY.js";import"./chunk-3E53RUR7.js";import{a as f}from"./chunk-5D3DZNMD.js";import"./chunk-B3TUML6P.js";import"./chunk-U2JBD6QP.js";import"./chunk-KXXSC5XL.js";import"./chunk-VVTHM3UH.js";import"./chunk-34VPQFZA.js";var _=t=>[t.name,[y(t.last_activity),t.current_stamina,t.level,t.max_stamina,i(),t.vl,t.guild_xp]],k=t=>t.members.map(_),M=t=>t.r.flatMap(k),w=[t=>!t,(t,o)=>t[1]!==o[1],(t,o)=>t[2]!==o[2],(t,o)=>t[3]>o[3],(t,o)=>t[5]!==o[5],(t,o)=>t[6]!==o[6]],C=t=>!t.some(f),D=t=>!t.some(d),E=([,t])=>t.length,F=([t,o])=>[t,o.filter(C).filter(D)],G=t=>c(t.members||{}).map(F).filter(E),I=(t,o)=>t[4]>o[4]?t:o,L=([t,o])=>[t,o.reduce(I)],S=t=>([o,n])=>w.some(s=>s(t[o]?.[0],n)),R=([t,o])=>[t,[o]],T=t=>([o,n])=>[o,n.filter(s=>s[4]!==t[o][4])],V=t=>([o])=>!t[o]||i()-t[o][4]>=86100,W=(t,o,n)=>({lastUpdate:i(),members:a(g({...t,...o,...n}).map(s=>[s,[...t[s]??[],...o[s]??[],...n[s]??[]]]))}),q=(t,o,n)=>W(a(t.map(T(o))),a(c(o).filter(S(n)).map(R)),n);function z(t,o,n){!t||!o||!n||m(e,q(o,n,a(t.map(R))))}function B(t){t&&m(e,{lastUpdate:i(),members:a(t)})}function H(t,o){let n=G(t),s=a(n.map(L)),l=M(o).filter(V(s));l.length?z(l,n,s):B(n)}async function J(t){let o=await h();o.s&&H(t,o)}var K=t=>i()>p(t.lastUpdate,0)+300;function P(t){K(t)&&J(t)}async function Q(){let t=await u(e);P(t??{lastUpdate:0,members:{}})}export{Q as default};
//# sourceMappingURL=guildActivity-SKCM24UB.js.map
