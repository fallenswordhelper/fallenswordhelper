import{a as Ce}from"./chunk-KTSXFSFV.js";import{a as Fe}from"./chunk-J3IDBSQB.js";import{a as je}from"./chunk-ZDDRD4RY.js";import{a as Le}from"./chunk-DGNWYBPR.js";import{a as ze}from"./chunk-ZOBAICKB.js";import{a as Ie}from"./chunk-64OF43RY.js";import{a as Be}from"./chunk-76ARFLBC.js";import"./chunk-JKXU5FVG.js";import"./chunk-TJOFDZDA.js";import"./chunk-WN47U4XZ.js";import"./chunk-SDADCBWU.js";import"./chunk-NUXR4MVG.js";import"./chunk-3TMTTFLY.js";import{a as be}from"./chunk-P6EW3726.js";import"./chunk-RAUMC5JB.js";import"./chunk-5HI4ILOP.js";import{a as ke}from"./chunk-QCQENXXV.js";import"./chunk-L4JCGVZD.js";import"./chunk-R5QRYD7G.js";import"./chunk-RDAHQVBW.js";import"./chunk-DP37WUXB.js";import"./chunk-MT2H2XVD.js";import"./chunk-LGDJTMPN.js";import{a as re}from"./chunk-66FBRD7Z.js";import"./chunk-GKVMJ4PA.js";import{a as qe}from"./chunk-WZBZPJG2.js";import{a as $e}from"./chunk-MO7NCKZM.js";import"./chunk-SQHOVO6D.js";import{C as b,E as se,J as ae,Q as ye,T as Ee,U as ne,V as le,W as P,X as z,Z as ue,_ as we,a as h,b as ve,ca as Me,d as Se,da as J,ea as K,fa as W,ga as Pe,ha as Te,r as u,s as I,t as C,u as ce,v as _,w as q,x as B,y as ie,z as G}from"./chunk-OR3S6YUT.js";import"./chunk-25QHE6Q7.js";import"./chunk-XM37SDUA.js";import"./chunk-MBZ7GUCJ.js";import"./chunk-5TOA36XP.js";import{a as A}from"./chunk-VRYLUPGH.js";import"./chunk-NH6FAU6Q.js";import"./chunk-LEOH7BX4.js";import"./chunk-5RFQSTDG.js";import"./chunk-4MID3VOD.js";import"./chunk-5L4CLVOL.js";import"./chunk-HYLQEGZ4.js";import"./chunk-7I6ASYKS.js";import"./chunk-R2OFDU54.js";import"./chunk-CEGJSIVU.js";import{b as oe}from"./chunk-G6TPLPCG.js";import"./chunk-IMGI5UI2.js";import"./chunk-E53ZSUER.js";import{Ja as ge,b as he}from"./chunk-UYN3LUIY.js";import"./chunk-U6BMTRHL.js";import"./chunk-3WE6KSRQ.js";function Ve(t){return`${t.amount} x ${ge[t.type]}`}var xe=[[t=>t.components?.length,t=>`You successfully extracted 1 '${t.components?.[0].n}' component(s) from 1 resource(s).`],[t=>t.frags,t=>`You gained ${t.frags.map(Ve).join(", ")} Fragments by opening the Fragment Stash.`],[t=>t.mailbox_items?.length,t=>`You received 1 x '${t.mailbox_items?.[0].n}' from the container.`],[()=>1,()=>'<span class="fshRed">You failed to extract any components from resource(s).</span>']];function fe(t){return xe.find(([e])=>e(t))[1](t)}var Ue=(t,e,n)=>`fetchitem.php?item_id=${e}&inv_id=${n}&t=1&p=${t}`,Ze=t=>`background-image: url(${he}items/${t}.gif)`;function pe(t,e){return Be(e,"item_name").map(n=>({...n,count:e.filter(l=>l.item_name===n.item_name).length,delPending:!1,extractIds:e.filter(l=>l.item_name===n.item_name).map(l=>l.inv_id),style:Ze(n.item_id),tip:Ue(t,n.item_id,n.inv_id)}))}function Re(t,e,n){let l=t.slice();return l[28]=e[n].count,l[29]=e[n].delPending,l[30]=e[n].item_name,l[31]=e[n].style,l[32]=e[n].tip,l[34]=n,l}function Ye(t,e,n){let l=t.slice();return l[35]=e[n],l}function Ge(t){let e;return{c(){e=q("Refresh")},m(n,l){I(n,e,l)},d(n){n&&C(e)}}}function De(t){let e,n=t[35]+"";return{c(){e=_("li"),b(e,"class","svelte-11rzj5c")},m(l,o){I(l,e,o),e.innerHTML=n},p(l,o){o[0]&64&&n!==(n=l[35]+"")&&(e.innerHTML=n)},d(l){l&&C(e)}}}function Je(t){return{c:h,m:h,p:h,i:h,o:h,d:h}}function Ke(t){let e,n,l=t[5],o=[];for(let c=0;c<l.length;c+=1)o[c]=He(Re(t,l,c));let i=c=>z(o[c],1,1,()=>{o[c]=null});return{c(){for(let c=0;c<o.length;c+=1)o[c].c();e=ie()},m(c,a){for(let r=0;r<o.length;r+=1)o[r].m(c,a);I(c,e,a),n=!0},p(c,a){if(a[0]&4128){l=c[5];let r;for(r=0;r<l.length;r+=1){let f=Re(c,l,r);o[r]?(o[r].p(f,a),P(o[r],1)):(o[r]=He(f),o[r].c(),P(o[r],1),o[r].m(e.parentNode,e))}for(ne(),r=l.length;r<o.length;r+=1)i(r);le()}},i(c){if(!n){for(let a=0;a<l.length;a+=1)P(o[a]);n=!0}},o(c){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)z(o[a]);n=!1},d(c){ce(o,c),c&&C(e)}}}function We(t){let e;return{c(){e=q("Done")},m(n,l){I(n,e,l)},p:h,i:h,o:h,d(n){n&&C(e)}}}function Xe(t){let e,n,l,o,i=[tt,et],c=[];function a(r,f){return r[29]?0:1}return e=a(t,[-1,-1]),n=c[e]=i[e](t),{c(){n.c(),l=ie()},m(r,f){c[e].m(r,f),I(r,l,f),o=!0},p(r,f){let g=e;e=a(r,f),e===g?c[e].p(r,f):(ne(),z(c[g],1,1,()=>{c[g]=null}),le(),n=c[e],n?n.p(r,f):(n=c[e]=i[e](r),n.c()),P(n,1),n.m(l.parentNode,l))},i(r){o||(P(n),o=!0)},o(r){z(n),o=!1},d(r){c[e].d(r),r&&C(l)}}}function et(t){let e,n;function l(){return t[16](t[34])}return e=new Ie({props:{$$slots:{default:[nt]},$$scope:{ctx:t}}}),e.$on("click",l),{c(){J(e.$$.fragment)},m(o,i){K(e,o,i),n=!0},p(o,i){t=o;let c={};i[0]&32|i[1]&128&&(c.$$scope={dirty:i,ctx:t}),e.$set(c)},i(o){n||(P(e.$$.fragment,o),n=!0)},o(o){z(e.$$.fragment,o),n=!1},d(o){W(e,o)}}}function tt(t){let e;return{c(){e=_("span"),b(e,"class","fshSpinner fshSpinner12")},m(n,l){I(n,e,l)},p:h,i:h,o:h,d(n){n&&C(e)}}}function nt(t){let e,n=t[28]+"",l;return{c(){e=q("Extract "),l=q(n)},m(o,i){I(o,e,i),I(o,l,i)},p(o,i){i[0]&32&&n!==(n=o[28]+"")&&se(l,n)},d(o){o&&C(e),o&&C(l)}}}function He(t){let e,n,l,o,i,c,a,r,f,g,v,j=t[30]+"",S,Y,w,M=[Xe,We],k=[];function D(m,d){return m[28]?0:1}return l=D(t,[-1,-1]),o=k[l]=M[l](t),{c(){e=_("tr"),n=_("td"),o.c(),i=B(),c=_("td"),a=_("span"),g=B(),v=_("td"),S=q(j),Y=B(),b(n,"class","svelte-11rzj5c"),ae(n,"delPending",t[29]),b(a,"class","imgSpan tip-dynamic svelte-11rzj5c"),b(a,"data-tipped",r=t[32]),b(a,"style",f=t[31]),b(c,"class","imgCol svelte-11rzj5c")},m(m,d){I(m,e,d),u(e,n),k[l].m(n,null),u(e,i),u(e,c),u(c,a),u(e,g),u(e,v),u(v,S),u(e,Y),w=!0},p(m,d){let F=l;l=D(m,d),l===F?k[l].p(m,d):(ne(),z(k[F],1,1,()=>{k[F]=null}),le(),o=k[l],o?o.p(m,d):(o=k[l]=M[l](m),o.c()),P(o,1),o.m(n,null)),(!w||d[0]&32)&&ae(n,"delPending",m[29]),(!w||d[0]&32&&r!==(r=m[32]))&&b(a,"data-tipped",r),(!w||d[0]&32&&f!==(f=m[31]))&&b(a,"style",f),(!w||d[0]&32)&&j!==(j=m[30]+"")&&se(S,j)},i(m){w||(P(o),w=!0)},o(m){z(o),w=!1},d(m){m&&C(e),k[l].d()}}}function lt(t){return{c:h,m:h,p:h,i:h,o:h,d:h}}function ot(t){let e,n,l,o,i,c,a,r,f,g,v,j,S,Y,w,M,k,D,m,d,F,X,L,U,O,H,ee,Q,V,Z,s;function N(p){t[13](p)}let te={};t[2]!==void 0&&(te.inSt=t[2]),i=new Fe({props:te}),ye.push(()=>Me(i,"inSt",N,t[2])),i.$on("toggle",t[8]),M=new Ce({props:{$$slots:{default:[Ge]},$$scope:{ctx:t}}}),M.$on("click",t[11]);let x=t[6],y=[];for(let p=0;p<x.length;p+=1)y[p]=De(Ye(t,x,p));let E={ctx:t,current:null,token:null,hasCatch:!1,pending:lt,then:Ke,catch:Je,blocks:[,,,]};return ue(Q=t[1],E),{c(){e=_("div"),n=q(`Select which type of plants you wish to extract all of. Only select extractable resources.
    `),l=_("br"),o=B(),J(i.$$.fragment),a=q(`\xA0
    `),r=_("label"),f=_("input"),g=q(`
      Main Folder Only`),v=q(`\xA0
    `),j=_("label"),S=_("input"),Y=q(`
      Disable Prompts`),w=q(`\xA0
    `),J(M.$$.fragment),k=B(),D=_("br"),m=B(),d=_("table"),F=_("thead"),F.innerHTML=`<tr><th class="actionCol svelte-11rzj5c">Actions</th> 
          <th colspan="2">Items</th></tr>`,X=B(),L=_("tbody"),U=_("tr"),O=_("td"),H=_("ol");for(let p=0;p<y.length;p+=1)y[p].c();ee=B(),E.block.c(),b(f,"type","checkbox"),b(f,"class","svelte-11rzj5c"),b(S,"type","checkbox"),b(S,"class","svelte-11rzj5c"),b(O,"colspan","3"),b(d,"class","svelte-11rzj5c"),b(e,"class","svelte-11rzj5c")},m(p,$){I(p,e,$),u(e,n),u(e,l),u(e,o),K(i,e,null),u(e,a),u(e,r),u(r,f),f.checked=t[3],u(r,g),u(e,v),u(e,j),u(j,S),S.checked=t[4],u(j,Y),u(e,w),K(M,e,null),u(e,k),u(e,D),u(e,m),u(e,d),u(d,F),u(d,X),u(d,L),u(L,U),u(U,O),u(O,H);for(let R=0;R<y.length;R+=1)y[R].m(H,null);u(L,ee),E.block.m(L,E.anchor=null),E.mount=()=>L,E.anchor=null,V=!0,Z||(s=[G(f,"change",t[14]),G(f,"change",t[9]),G(S,"change",t[15]),G(S,"change",t[10])],Z=!0)},p(p,$){t=p;let R={};!c&&$[0]&4&&(c=!0,R.inSt=t[2],Ee(()=>c=!1)),i.$set(R),$[0]&8&&(f.checked=t[3]),$[0]&16&&(S.checked=t[4]);let _e={};if($[1]&128&&(_e.$$scope={dirty:$,ctx:t}),M.$set(_e),$[0]&64){x=t[6];let T;for(T=0;T<x.length;T+=1){let de=Ye(t,x,T);y[T]?y[T].p(de,$):(y[T]=De(de),y[T].c(),y[T].m(H,null))}for(;T<y.length;T+=1)y[T].d(1);y.length=x.length}E.ctx=t,$[0]&2&&Q!==(Q=t[1])&&ue(Q,E)||we(E,t,$)},i(p){V||(P(i.$$.fragment,p),P(M.$$.fragment,p),P(E.block),V=!0)},o(p){z(i.$$.fragment,p),z(M.$$.fragment,p);for(let $=0;$<3;$+=1){let R=E.blocks[$];z(R)}V=!1},d(p){p&&C(e),W(i),W(M),ce(y,p),E.block.d(),E.token=null,E=null,Z=!1,ve(s)}}}function rt(t){let e,n;return e=new qe({props:{visible:t[0],title:"Quick Extract",$$slots:{default:[ot]},$$scope:{ctx:t}}}),e.$on("close",t[7]),{c(){J(e.$$.fragment)},m(l,o){K(e,l,o),n=!0},p(l,o){let i={};o[0]&1&&(i.visible=l[0]),o[0]&126|o[1]&128&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){z(e.$$.fragment,l),n=!1},d(l){W(e,l)}}}var ct="Are you sure you want to extract all similar items?",Ne="selectMain",Ae="disableQuickExtractPrompts";function it(t,e,n){let{visible:l=!0}=e,o=null,i=null,c=null,a=oe(Ne),r=oe(Ae),f=null,g=null,v=[],j=s=>s.item_name==="Zombie Coffin"||s.type===12||s.type===16,S=(s,N)=>be(s.item_name,N.item_name),Y=s=>c||!s.is_in_st,w=s=>!a||s.folder_id===-1;function M(){A("quickExtract","close"),n(0,l=!1)}function k(){n(5,g=pe(i,f.filter(Y).filter(w)))}function D(){A("quickExtract","toggleSelectST"),k()}function m(){A("quickExtract","toggleSelectMain"),re(Ne,a),k()}function d(){A("quickExtract","togglePrompts"),re(Ae,r)}async function F(){let s=await je();i=s.player_id,f=s.items.filter(j).sort(S),k()}function X(){A("quickExtract","refresh"),n(6,v=[]),n(1,o=F())}let L;function U(s){return!s.s&&L!==s.e.message&&(L=s.e.message,n(6,v=[...v,s.e.message])),s.s}async function O(s){let N=await ze(s);U(N)&&(n(6,v=[...v,fe(N.r)]),f=f.filter(te=>te.inv_id!==s))}async function H(s){A("quickExtract","extract",r),(r?!0:await Le(ct))&&(n(5,g[s].delPending=!0,g),await ke(g[s].extractIds.map(O)),n(5,g[s].count=0,g))}function ee(s){c=s,n(2,c)}function Q(){a=this.checked,n(3,a)}function V(){r=this.checked,n(4,r)}let Z=s=>H(s);return t.$$set=s=>{"visible"in s&&n(0,l=s.visible)},t.$$.update=()=>{if(t.$$.dirty[0]&1){e:l&&(n(6,v=[]),n(1,o=F()))}},[l,o,c,a,r,g,v,M,D,m,d,X,H,ee,Q,V,Z]}var me=class extends Te{constructor(e){super(),Pe(this,e,it,rt,Se,{visible:0},null,[-1,-1])}},Oe=me;var st={visible:!0},Qe=0;function at(){Qe=$e(st,Qe,Oe)}export{at as default};
//# sourceMappingURL=quickExtract-KC57FCDN.js.map
