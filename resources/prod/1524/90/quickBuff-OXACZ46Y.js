import{a as y}from"./chunk-RL76WQZV.js";import{a as j,b as U}from"./chunk-MCOQ5T5U.js";import"./chunk-P5KEASFU.js";import"./chunk-KWX3JIDB.js";import{a as _}from"./chunk-6PUGFVPO.js";import{a as V}from"./chunk-DXL4O4C7.js";import"./chunk-XDKV7BNI.js";import{a as b}from"./chunk-PNPL7U5S.js";import{a as k}from"./chunk-UDMMQ2YX.js";import{a as G}from"./chunk-UF2ICFU3.js";import{a as g}from"./chunk-JT56QKHI.js";import"./chunk-34OV75BK.js";import"./chunk-RTQNOTSZ.js";import{a as B}from"./chunk-SPDN6KWG.js";import{a as p}from"./chunk-HJ7ZQRY4.js";import{a as M}from"./chunk-NF6TH6KO.js";import"./chunk-PATY7B52.js";import"./chunk-HM3KCJWR.js";import"./chunk-YM7LMH37.js";import"./chunk-I66Z377B.js";import"./chunk-MJBOR63W.js";import"./chunk-PJSNMYL6.js";import"./chunk-343LUOT5.js";import"./chunk-OPQD2S4Z.js";import"./chunk-XOOBRZTW.js";import"./chunk-4367EKCN.js";import{a as h}from"./chunk-B7LFTZU7.js";import"./chunk-MJQR7DVR.js";import"./chunk-4DD6XIWS.js";import{a as i}from"./chunk-73375NDG.js";import{a as o}from"./chunk-3MHFN2TP.js";import{a as d}from"./chunk-QCGEDCXW.js";import{a as n}from"./chunk-Z6NEFCOZ.js";import"./chunk-6VXJ4JH3.js";import"./chunk-AB26ECPS.js";import"./chunk-U3JOWR4W.js";import{a}from"./chunk-NPK42VJ3.js";import"./chunk-NCJHTPUM.js";import"./chunk-VH2S7CSB.js";import"./chunk-3LPJKV5E.js";import{a as O}from"./chunk-CR72M4ZA.js";import"./chunk-R2ELQJ5E.js";import{a as F}from"./chunk-52J4EBAW.js";import"./chunk-KY6XDBV6.js";import"./chunk-5JFQS7E5.js";import{a as q}from"./chunk-YM2P45BP.js";import"./chunk-QB3VNFLV.js";import"./chunk-3BJZG67W.js";import{a as w}from"./chunk-C63WRB4G.js";import{a as u}from"./chunk-E34NE2SS.js";import{a as Q}from"./chunk-LFPNA5UZ.js";import"./chunk-U6A4VQTL.js";import"./chunk-IGXYBCKR.js";import"./chunk-65QZT3K7.js";import"./chunk-MVFZMXTS.js";import{a as c}from"./chunk-LHP5V3M7.js";import"./chunk-57B6SJJP.js";import"./chunk-5BQ45OC2.js";import"./chunk-PJNUKY76.js";import{b as I}from"./chunk-7BHYTCY7.js";import"./chunk-QXT6DFLJ.js";import{a as R}from"./chunk-DCMPLE27.js";import"./chunk-SHG4I62I.js";import"./chunk-MA33RQLF.js";import"./chunk-CHNXGBZZ.js";function ft(t){let e=n("span.fshLastActivity",t);if(!e){e=B({className:"fshLastActivity"});let r=d("h1",t)[0];k(e,r)}return e}function x(t){let e=n(`div.player[data-username="${t.username}"]`),r=ft(e);i(`Last Activity: ${G(t.last_login)}<br>Stamina: ${t.current_stamina} / ${t.stamina} ( ${Math.floor(t.current_stamina/t.stamina*100)}% )`,r)}function l(t){return Number(a(t).replace(/[[\]]/g,""))}function ot(t,e){if(!e){let r=B({className:"fshPlayer"});return k(r,t.nextElementSibling),r}return e}function it(t,e){return t>e?"fshRed":"fshGreen"}function nt(t,e,r){if(!e){i("",r);return}let f=t.nextElementSibling.children[0].children[0],s=l(f),et=ot(t,r),rt=it(s,e);i(` <span class="${rt}">[${e}]</span>`,et)}function st(t,e){return e[0]===t}function ut(t,e){let r=e.getAttribute("data-name"),f=t.find(c(st,r));if(f)return f[1]}function at(t,e){let r=ut(t,e),f=e.nextElementSibling.nextElementSibling;(r||f)&&nt(e,r,f)}function ct(t){return t.split(/ \[|]/)}function lt(t){return h(a(t.parentNode.lastElementChild)).map(ct)}function v(t){let e=t.target;if(e.tagName!=="H1")return;y(a(e)).then(x);let r=lt(e);u("#buff-outer input[name]").forEach(c(at,r))}var z='<div id="helperQBheader"><table class="quickbuffTable"><thead><tr><th class="quickbuffTableHeader">Sustain</th><th class="quickbuffTableHeader">Fury Caster</th><th class="quickbuffTableHeader">Guild Buffer</th><th class="quickbuffTableHeader">Buff Master</th><th class="quickbuffTableHeader">Extend</th><th class="quickbuffTableHeader">Reinforce</th></tr></thead><tbody><tr><td id="fshSus" class="quickbuffTableDetail">&nbsp;</td><td id="fshFur" class="quickbuffTableDetail">&nbsp;</td><td id="fshGB"  class="quickbuffTableDetail">&nbsp;</td><td id="fshBM"  class="quickbuffTableDetail">&nbsp;</td><td id="fshExt" class="quickbuffTableDetail">&nbsp;</td><td id="fshRI"  class="quickbuffTableDetail">&nbsp;</td></tr></tbody></table></div>',J=[50,54,55,56,60,61,98,101,179,181],K='<p class="quickbuffSortCheckboxContainer"><input id="quickbuffSortCheckbox" class="quickbuffSortCheckbox" type="checkbox"><label for="quickbuffSortCheckbox">Sort buffs alphabetically</label></p>',T="qbSortBuffsAlphabetically";function mt(t,e){let r=e.dataset.tipped,{cost:f}=t.previousElementSibling.dataset;V(r.replace("</center>",`<br>Stamina Cost: ${f}$&`),e)}function pt(t,e){return!J.includes(Number(t.htmlFor.slice(6)))&&l(e.children[0])<125}function dt(t,e){pt(t,e)&&t.classList.add("fshDim")}function ht(t){let e=t.children[0];mt(t,e),dt(t,e)}function E(){u('#buff-outer label[for^="skill-"]').forEach(ht)}function bt(t,e){return!t&&e}function W(t){let e=d("h1",o("players"))[0];if(bt(e,t)){setTimeout(W,100,t-1);return}e&&M(e)}function m(){o("targetPlayers").value&&W(9)}function kt(t){let e=Math.floor(t/60),r=t%60,f=g(e,"m");return e>0&&r>0&&(f+=" "),f+=g(r,"s"),f}function Bt(t){return`<span class="fshLime">On</span>&nbsp;<span class="fshBuffOn">(${kt(t)})</span>`}function yt(t){let e=n(`#buff-outer input[data-name="${t}"]`);return e?`<span class="quickbuffActivate" data-buffid="${e.value}">Activate</span>`:'<span class="fshRed;">Off</span>'}function St(t,e){let r=t[e]||0;return r?Bt(r):yt(e)}function S(t,e,r){i(St(t,e),r)}function qt(t,e){return t[e.name]=e.duration,t}function A(t){let e=t._skills.reduce(qt,{});S(e,"Guild Buffer",o("fshGB")),S(e,"Buff Master",o("fshBM")),S(e,"Extend",o("fshExt")),S(e,"Reinforce",o("fshRI"))}function gt(t,e){return e.name===t}function xt(t,e){let r=t.find(c(gt,e));return r&&r.value||0}function X(t,e,r){let f=xt(t,e),s="fshLime";f<100&&(s="fshRed"),i(`<span class="${s}">${f}%</span>`,r)}function C(t){let e=t._enhancements;X(e,"Sustain",o("fshSus")),X(e,"Fury Caster",o("fshFur"))}function $(t){C(t),A(t)}function vt(t){let e=o(`skill-${t}`);e&&(e.checked=!0)}function Tt(t){t.split(";").forEach(vt)}function L(){let t=p("blist");t&&Tt(t)}var P=0;function Y(){P.length?(window.addPlayers([P.shift()]),setTimeout(Y,200)):setTimeout(m,200)}function H(){let t=p("players");t&&(P=h(t),Y())}function Et(t,e){U(e)&&(t.className="fshLime",i("On",t))}async function N(t){let e=t.target;if(e.className!=="quickbuffActivate")return;w("quickbuff","quickActivate");let r=await j([window.self],[e.dataset.buffid]);Et(e,r)}var Z=[];function At(t){let e=u(`#${t} > p`);e.sort((f,s)=>f.children[0].dataset.name>s.children[0].dataset.name?1:-1);let r=n(`#${t}`);for(let f of e)r.appendChild(f)}function Ct(t){let e=n(`#block${t}`);for(let r of Z[t])e.appendChild(r)}function tt(t){for(let e=1;e<=3;e++)t?At(`block${e}`):Ct(e)}function $t(t){O(T,t.target.checked),tt(t.target.checked)}function Lt(){for(let t=1;t<=3;t++){let e=`block${t}`;Z[t]=Q(`#${e} > p`)}}function D(){Lt();let t=o("check-all");b(t,K);let e=n(".quickbuffSortCheckbox"),r=I(T);e.checked=r,r&&tt(r),R(e,"change",$t)}function Pt(){q(o("helperQBheader"),N),q(o("players"),v)}function Ht(){if(F())return;let t=o("quickbuff");!t||(y(window.self).then($),b(t.children[0],z),_([E,L,H,Pt,m,D]))}export{Ht as default};
//# sourceMappingURL=quickBuff-OXACZ46Y.js.map
