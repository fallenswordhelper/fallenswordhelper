import{aq as i,z as e,A as l,al as s,am as a,J as t,e4 as n,aG as v,E as r,aF as c,C as d,Q as o,R as m,K as u,F as f,N as $,bN as p,bz as b,D as g,G as h,bM as k,O as y,ae as C,s as H,H as _,T as G,bf as w,be as L,bB as S,bZ as F,ee as N,bI as R,aB as j,u as x}from"./calfSystem-BlPuMQGT.js"
import{r as z}from"./reliclist-DZEKFZ73.js"
var A=(i,e)=>e("view relic on UFSG"),B=(i,e)=>e("view guild"),D=d("<a> </a>"),I=d('<div class="svelte-19l2imp"> </div> <div class="svelte-19l2imp"><a> </a></div> <div class="svelte-19l2imp"><!></div> <div class="svelte-19l2imp"> </div> <div class="svelte-19l2imp"> </div> <div class="svelte-19l2imp"> </div> <div class="svelte-19l2imp"> </div> <div class="svelte-19l2imp"> </div> <div class="svelte-19l2imp"> </div> <div class="svelte-19l2imp"><!></div>',1),M=d('<div class="content grid svelte-19l2imp"><div class="innerColumnHeader svelte-19l2imp"><!></div> <div class="innerColumnHeader svelte-19l2imp"><!></div> <div class="innerColumnHeader svelte-19l2imp"><!></div> <div class="innerColumnHeader svelte-19l2imp"><!></div> <div class="innerColumnHeader svelte-19l2imp"><!></div> <div class="innerColumnHeader svelte-19l2imp"><!></div> <div class="innerColumnHeader svelte-19l2imp"><!></div> <div class="innerColumnHeader svelte-19l2imp"><!></div> <div class="innerColumnHeader svelte-19l2imp"><!></div> <div class="innerColumnHeader svelte-19l2imp"><!></div> <!></div>'),O=d('<div class="content svelte-19l2imp"> </div>'),P=d(" <br/>",1),T=d('<div class="content svelte-19l2imp"></div>')
function U(i,d){e(d,!0)
let j=l(d,"visible",15,!0),x=s(a([])),U=s(a([])),q=-1,E=""
function J(i){H("Relic List",i)}function K(i){t(U,i.concat(u(U)),!0)}const Q=(i,e)=>i?.attributes?.find((i=>e=>e.id===i)(e)),X=(i,e)=>Q(i,e)?.value??"",Z=i=>Q(i,6),V=(i,e)=>q*(i.time-e.time),W=(i,e)=>Q(i,e)?.value??0,Y=i=>(e,l)=>q*(W(e,i)-W(l,i)),ii=(i,e)=>q*F(i.guild?.name??"",e.guild?.name??""),ei=(i,e)=>q*F(i.name,e.name),li=i=>i.location.realm.min_level,si=(i,e)=>q*(li(i)-li(e))
function ai(i,e){q=E===i?-1*q:1,t(x,u(x).slice().sort(e),!0),E=i}function ti(i,e){J(i),ai(i,e)}async function ni(i=0,e=100){K([`offset ${i}`])
const l=await z(null,i,e)
if(l?.s)return l.r.remaining_relics?l.r.relics.concat(await ni(i+l.r.relics.length,Math.min(100,l.r.remaining_relics))):l.r.relics}async function vi(){K(["Loading..."])
const i=await ni()
C(i)&&(t(x,i.filter(Z),!0),ai("sort by level",si))}let ri=s(a(Promise.resolve()))
t(ri,vi(),!0)
{const e=i=>{var e=b("Relic List")
$(i,e)}
n(i,{close:function(){J("close"),j(!1)},get visible(){return j()},title:e,children:(i,e)=>{var l=v(),s=r(l)
c(s,(()=>u(ri)),(i=>{var e=T()
h(e,21,(()=>u(U)),k,((i,e)=>{var l=P(),s=r(l)
o((()=>m(s,`${u(e)??""} `))),$(i,l)})),$(i,e)}),(i=>{var e=M(),l=f(e),s=f(l)
p(s,{onclick:()=>{ti("sort by level",si)},children:(i,e)=>{var l=b("Level")
$(i,l)},$$slots:{default:!0}})
var a=g(l,2),t=f(a)
p(t,{onclick:()=>{ti("sort by name",ei)},children:(i,e)=>{var l=b("Name")
$(i,l)},$$slots:{default:!0}})
var n=g(a,2),v=f(n)
p(v,{onclick:()=>{ti("sort by guild",ii)},children:(i,e)=>{var l=b("Guild")
$(i,l)},$$slots:{default:!0}})
var c=g(n,2),d=f(c)
p(d,{onclick:()=>{ti("sort by stam gain",Y(6))},children:(i,e)=>{var l=b("Stam Gain")
$(i,l)},$$slots:{default:!0}})
var k=g(c,2),y=f(k)
p(y,{onclick:()=>{ti("sort by attack",Y(0))},children:(i,e)=>{var l=b("Atk")
$(i,l)},$$slots:{default:!0}})
var C=g(k,2),H=f(C)
p(H,{onclick:()=>{ti("sort by damage",Y(4))},children:(i,e)=>{var l=b("Dmg")
$(i,l)},$$slots:{default:!0}})
var F=g(C,2),j=f(F)
p(j,{onclick:()=>{ti("sort by stamina",Y(5))},children:(i,e)=>{var l=b("Stam")
$(i,l)},$$slots:{default:!0}})
var z=g(F,2),O=f(z)
p(O,{onclick:()=>{ti("sort by gold gain",Y(7))},children:(i,e)=>{var l=b("Gold Gain")
$(i,l)},$$slots:{default:!0}})
var P=g(z,2),T=f(P)
p(T,{onclick:()=>{ti("sort by xp gain",Y(8))},children:(i,e)=>{var l=b("XP Gain")
$(i,l)},$$slots:{default:!0}})
var U=g(P,2),q=f(U)
p(q,{onclick:()=>{ti("sort by time",V)},children:(i,e)=>{var l=b("Time")
$(i,l)},$$slots:{default:!0}})
var E=g(U,2)
h(E,17,(()=>u(x)),(i=>i.id),((i,e)=>{var l=I(),s=r(l),a=f(s),t=g(s,2),n=f(t)
n.__click=[A,J]
var v=f(n),c=g(t,2),d=f(c),p=i=>{var l=D()
l.__click=[B,J]
var s=f(l)
o((()=>{G(l,"href",`${S??""}${u(e).guild.id??""}`),m(s,u(e).guild.name)})),$(i,l)}
_(d,(i=>{u(e).guild&&i(p)}))
var h=g(c,2),k=f(h),y=g(h,2),C=f(y),H=g(y,2),F=f(H),j=g(H,2),x=f(j),z=g(j,2),M=f(z),O=g(z,2),P=f(O),T=g(O,2),U=f(T),q=i=>{var l=b()
o((i=>m(l,i)),[()=>function(i){const[e,l,s,a]=N(i)
return`${e}d ${R(l)}h ${R(s)}m ${R(a)}s`}(u(e).time)]),$(i,l)}
_(U,(i=>{u(e).time&&i(q)})),o(((i,l,s,t,r,c)=>{m(a,u(e).location.realm.min_level),G(n,"href",`${w??""}relics${L}view&relic_id=${u(e).id??""}`),m(v,u(e).name),m(k,i),m(C,l),m(F,s),m(x,t),m(M,r),m(P,c)}),[()=>X(u(e),6),()=>X(u(e),0),()=>X(u(e),4),()=>X(u(e),5),()=>X(u(e),7),()=>X(u(e),8)]),$(i,l)})),$(i,e)}),((i,e)=>{var l=O(),s=f(l)
o((()=>m(s,u(e).message))),$(i,l)})),$(i,l)},$$slots:{title:!0,default:!0}})}y()}i(["click"])
const q=a({visible:!0})
let E=0
function J(){j("betaOptIn")&&(E?q.visible=!0:E=x(U,{props:q,target:document.body}))}export{J as default}
//# sourceMappingURL=mountReliclist.svelte-DDN8-lfg.js.map
