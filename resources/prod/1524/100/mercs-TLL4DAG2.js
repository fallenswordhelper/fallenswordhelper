import{a as Y,b as ot}from"./chunk-OMPP4M34.js";import"./chunk-WK2H7ECW.js";import{a as Oe}from"./chunk-PGIYF63T.js";import{a as dt}from"./chunk-XFWLNIUJ.js";import{a as st}from"./chunk-PGTO6KKY.js";import"./chunk-GIMLYNX4.js";import"./chunk-RITI6A57.js";import{A as g,B as Ze,C as Q,F as r,I as w,a as Ke,aa as Ie,ba as $e,c as Qe,e as We,f as z,ka as xe,la as et,ma as tt,na as it,oa as lt,u as e,v as q,w as G,x as Xe,y as s,z as m}from"./chunk-Z65YDHBK.js";import"./chunk-HQEIAMRY.js";import"./chunk-7FBQ4YRA.js";import"./chunk-U3T5YD4E.js";import{a as K}from"./chunk-SMZGZ2UY.js";import"./chunk-M5HK4G4Q.js";import"./chunk-CSUKS4GS.js";import{d as nt}from"./chunk-H4VUMIAE.js";import"./chunk-TGZ7LJUR.js";import"./chunk-FTXPWRDQ.js";import"./chunk-V2Z4Z2SB.js";import"./chunk-PTNJTFVL.js";import"./chunk-W2YYCP36.js";import"./chunk-TSMX3MI2.js";import"./chunk-X5GPKOZG.js";import"./chunk-7V4YID4M.js";import"./chunk-BSKKCHEC.js";import"./chunk-UCDZC42X.js";function Le(){return Y({subcmd2:"acceptoffer"})}function Pe(){return Y({subcmd2:"declineoffer"})}function Ne(i){return Y({subcmd2:"disband",merc_id:i})}function je(){return Y({subcmd2:"search"})}function vt(i,t,l){let n=i.slice();return n[20]=t[l].attributes,n[21]=t[l].class,n[22]=t[l].id,n[23]=t[l].level,n[24]=t[l].name,n[25]=t[l].type,n[26]=t[l].hours,n[27]=t[l].mins,n}function ct(i){let t,l,n,o,u,a,c;return{c(){t=s("button"),l=m("Accept Offer"),n=m(`
        \xA0
        `),o=s("button"),u=m("Decline Offer"),r(t,"class","custombutton svelte-1yei4bm"),t.disabled=i[1],r(t,"type","button"),r(o,"class","custombutton svelte-1yei4bm"),o.disabled=i[1],r(o,"type","button")},m(v,y){q(v,t,y),e(t,l),q(v,n,y),q(v,o,y),e(o,u),a||(c=[Q(t,"click",i[11]),Q(o,"click",i[10])],a=!0)},p(v,y){y&2&&(t.disabled=v[1]),y&2&&(o.disabled=v[1])},d(v){v&&G(t),v&&G(n),v&&G(o),a=!1,Qe(c)}}}function bt(i){let t,l,n,o,u,a;return{c(){t=s("button"),l=m("Send Expedition ("),n=m(i[5]),o=m("g)"),r(t,"class","custombutton svelte-1yei4bm"),t.disabled=i[1],r(t,"type","button")},m(c,v){q(c,t,v),e(t,l),e(t,n),e(t,o),u||(a=Q(t,"click",i[12]),u=!0)},p(c,v){v&32&&w(n,c[5]),v&2&&(t.disabled=c[1])},d(c){c&&G(t),u=!1,a()}}}function rt(i){let t,l,n,o=i[2].name+"",u,a,c,v,y,E,f,O,F,C,R,D=Oe(i[2].gold)+"",B,L,A,P,N,k,d,b,M=i[2].hire_time/3600+"",J,S,p,T,U,V,j=i[2].hours+"",le,Ge,ne,W=i[2].mins+"",se,Re,oe,_,de,ve,X=i[2].level+"",re,Be,ae,fe,Z=i[8][i[2].class]+"",ue,Fe,me,ce,I=i[7][i[2].type]+"",be,Je,pe,_e,$=i[2].attributes[0].value+"",ge,Ue,he,ye,x=i[2].attributes[1].value+"",ke,Ve,Ce,we,ee=i[2].attributes[2].value+"",De,Ye,Ae,Me,te=i[2].attributes[3].value+"",Te,ze,He,Se,ie=i[2].attributes[4].value+"",Ee;return{c(){t=s("div"),l=s("div"),n=s("b"),u=m(o),a=g(),c=s("div"),v=s("img"),E=g(),f=s("div"),O=s("div"),O.textContent="Hire Price:",F=g(),C=s("div"),R=s("b"),B=m(D),L=g(),A=s("img"),N=g(),k=s("div"),k.textContent="Hire Time:",d=s("div"),b=s("b"),J=m(M),S=m(" hour(s)"),p=g(),T=s("div"),T.textContent="Offer Time Left:",U=s("div"),V=s("b"),le=m(j),Ge=m(" hour(s) "),ne=s("b"),se=m(W),Re=m(" min(s)"),oe=g(),_=s("div"),de=s("div"),de.textContent="Level:",ve=s("div"),re=m(X),Be=g(),ae=s("div"),ae.textContent="Classification:",fe=s("div"),ue=m(Z),Fe=g(),me=s("div"),me.textContent="Type:",ce=s("div"),be=m(I),Je=g(),pe=s("div"),pe.textContent="Attack:",_e=s("div"),ge=m($),Ue=g(),he=s("div"),he.textContent="Defense:",ye=s("div"),ke=m(x),Ve=g(),Ce=s("div"),Ce.textContent="Armor:",we=s("div"),De=m(ee),Ye=g(),Ae=s("div"),Ae.textContent="HP:",Me=s("div"),Te=m(te),ze=g(),He=s("div"),He.textContent="Damage:",Se=s("div"),Ee=m(ie),r(v,"alt","alt"),r(v,"height","125"),z(v.src,y="https://cdn2.fallensword.com/mercs/"+i[2].id+".png")||r(v,"src",y),r(v,"width","125"),r(O,"class","svelte-1yei4bm"),r(A,"alt","Gold"),r(A,"class","gold svelte-1yei4bm"),z(A.src,P="https://cdn2.fallensword.com/currency/0.png")||r(A,"src",P),r(C,"class","svelte-1yei4bm"),r(k,"class","svelte-1yei4bm"),r(d,"class","svelte-1yei4bm"),r(T,"class","svelte-1yei4bm"),r(U,"class","svelte-1yei4bm"),r(f,"class","offer svelte-1yei4bm"),r(t,"class","merc svelte-1yei4bm"),r(_,"class","attribs svelte-1yei4bm")},m(h,H){q(h,t,H),e(t,l),e(l,n),e(n,u),e(t,a),e(t,c),e(c,v),e(t,E),e(t,f),e(f,O),e(f,F),e(f,C),e(C,R),e(R,B),e(C,L),e(C,A),e(f,N),e(f,k),e(f,d),e(d,b),e(b,J),e(d,S),e(f,p),e(f,T),e(f,U),e(U,V),e(V,le),e(U,Ge),e(U,ne),e(ne,se),e(U,Re),q(h,oe,H),q(h,_,H),e(_,de),e(_,ve),e(ve,re),e(_,Be),e(_,ae),e(_,fe),e(fe,ue),e(_,Fe),e(_,me),e(_,ce),e(ce,be),e(_,Je),e(_,pe),e(_,_e),e(_e,ge),e(_,Ue),e(_,he),e(_,ye),e(ye,ke),e(_,Ve),e(_,Ce),e(_,we),e(we,De),e(_,Ye),e(_,Ae),e(_,Me),e(Me,Te),e(_,ze),e(_,He),e(_,Se),e(Se,Ee)},p(h,H){H&4&&o!==(o=h[2].name+"")&&w(u,o),H&4&&!z(v.src,y="https://cdn2.fallensword.com/mercs/"+h[2].id+".png")&&r(v,"src",y),H&4&&D!==(D=Oe(h[2].gold)+"")&&w(B,D),H&4&&M!==(M=h[2].hire_time/3600+"")&&w(J,M),H&4&&j!==(j=h[2].hours+"")&&w(le,j),H&4&&W!==(W=h[2].mins+"")&&w(se,W),H&4&&X!==(X=h[2].level+"")&&w(re,X),H&4&&Z!==(Z=h[8][h[2].class]+"")&&w(ue,Z),H&4&&I!==(I=h[7][h[2].type]+"")&&w(be,I),H&4&&$!==($=h[2].attributes[0].value+"")&&w(ge,$),H&4&&x!==(x=h[2].attributes[1].value+"")&&w(ke,x),H&4&&ee!==(ee=h[2].attributes[2].value+"")&&w(De,ee),H&4&&te!==(te=h[2].attributes[3].value+"")&&w(Te,te),H&4&&ie!==(ie=h[2].attributes[4].value+"")&&w(Ee,ie)},d(h){h&&G(t),h&&G(oe),h&&G(_)}}}function at(i){let t;return{c(){t=s("div"),t.textContent="Your expedition returned without finding any mercenaries.",r(t,"class","no-offer svelte-1yei4bm")},m(l,n){q(l,t,n)},d(l){l&&G(t)}}}function pt(i){let t;return{c(){t=s("div"),t.textContent="[ no active mercenaries ]",r(t,"class","no-active svelte-1yei4bm")},m(l,n){q(l,t,n)},p:Ke,d(l){l&&G(t)}}}function _t(i){let t,l=i[6],n=[];for(let o=0;o<l.length;o+=1)n[o]=ft(vt(i,l,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=Ze()},m(o,u){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(o,u);q(o,t,u)},p(o,u){if(u&8642){l=o[6];let a;for(a=0;a<l.length;a+=1){let c=vt(o,l,a);n[a]?n[a].p(c,u):(n[a]=ft(c),n[a].c(),n[a].m(t.parentNode,t))}for(;a<n.length;a+=1)n[a].d(1);n.length=l.length}},d(o){Xe(n,o),o&&G(t)}}}function ft(i){let t,l,n,o=i[24]+"",u,a,c,v,y,E,f,O,F,C,R,D=i[26]+"",B,L,A,P=i[27]+"",N,k,d,b,M,J,S,p,T;function U(){return i[14](i[22])}return{c(){t=s("div"),l=s("div"),n=s("b"),u=m(o),a=g(),c=s("div"),v=s("img"),f=g(),O=s("div"),O.textContent="Time Remaining",F=g(),C=s("div"),R=s("b"),B=m(D),L=m(" hour(s) "),A=s("b"),N=m(P),k=m(" min(s)"),d=g(),b=s("div"),M=s("button"),J=m("Disband"),S=g(),r(v,"alt","alt"),r(v,"class","tip-static"),r(v,"data-tipped",y=`<div style="column-gap: 2px; display: grid; grid-template-columns: repeat(2, 1fr);">
                      <div>Name:</div><div>`+i[24]+`</div>
                      <div>Level:</div><div>`+i[23]+`</div>
                      <div>Classification:</div><div>`+i[8][i[21]]+`</div>
                      <div>Type:</div><div>`+i[7][i[25]]+`</div>
                      <div>Attack:</div><div>`+i[20][0].value+`</div>
                      <div>Defense:</div><div>`+i[20][1].value+`</div>
                      <div>Armor:</div><div>`+i[20][2].value+`</div>
                      <div>HP:</div><div>`+i[20][3].value+`</div>
                      <div>Damage:</div><div>`+i[20][4].value+`</div>
                    </div>`),r(v,"height","125"),z(v.src,E="https://cdn2.fallensword.com/mercs/"+i[22]+".png")||r(v,"src",E),r(v,"width","125"),r(M,"class","custombutton svelte-1yei4bm"),M.disabled=i[1],r(M,"type","button"),r(b,"class","disband svelte-1yei4bm"),r(t,"class","active-merc svelte-1yei4bm")},m(V,j){q(V,t,j),e(t,l),e(l,n),e(n,u),e(t,a),e(t,c),e(c,v),e(t,f),e(t,O),e(t,F),e(t,C),e(C,R),e(R,B),e(C,L),e(C,A),e(A,N),e(C,k),e(t,d),e(t,b),e(b,M),e(M,J),e(t,S),p||(T=Q(M,"click",U),p=!0)},p(V,j){i=V,j&64&&o!==(o=i[24]+"")&&w(u,o),j&64&&y!==(y=`<div style="column-gap: 2px; display: grid; grid-template-columns: repeat(2, 1fr);">
                      <div>Name:</div><div>`+i[24]+`</div>
                      <div>Level:</div><div>`+i[23]+`</div>
                      <div>Classification:</div><div>`+i[8][i[21]]+`</div>
                      <div>Type:</div><div>`+i[7][i[25]]+`</div>
                      <div>Attack:</div><div>`+i[20][0].value+`</div>
                      <div>Defense:</div><div>`+i[20][1].value+`</div>
                      <div>Armor:</div><div>`+i[20][2].value+`</div>
                      <div>HP:</div><div>`+i[20][3].value+`</div>
                      <div>Damage:</div><div>`+i[20][4].value+`</div>
                    </div>`)&&r(v,"data-tipped",y),j&64&&!z(v.src,E="https://cdn2.fallensword.com/mercs/"+i[22]+".png")&&r(v,"src",E),j&64&&D!==(D=i[26]+"")&&w(B,D),j&64&&P!==(P=i[27]+"")&&w(N,P),j&2&&(M.disabled=i[1])},d(V){V&&G(t),p=!1,T()}}}function gt(i){let t,l,n,o,u,a,c,v,y,E,f,O,F,C,R,D,B,L,A;function P(p,T){return p[2]?ct:bt}let N=P(i,-1),k=N(i),d=i[2]&&rt(i),b=i[3]&&at(i);function M(p,T){return p[6].length?_t:pt}let J=M(i,-1),S=J(i);return{c(){t=s("div"),l=s("div"),n=m("("),o=s("b"),u=m(i[4]),a=m(" available for hire)"),c=g(),v=s("div"),k.c(),y=g(),E=s("div"),f=s("div"),d&&d.c(),O=g(),b&&b.c(),F=g(),C=s("div"),R=g(),D=s("div"),D.innerHTML="<b>Active Mercenaries</b>",B=g(),L=s("div"),A=s("div"),S.c(),r(l,"class","top-div svelte-1yei4bm"),r(v,"class","button-div svelte-1yei4bm"),r(C,"class","auto-decline svelte-1yei4bm"),r(f,"class","cols svelte-1yei4bm"),r(E,"class","result-div svelte-1yei4bm"),r(D,"class","active-title svelte-1yei4bm"),r(A,"class","active svelte-1yei4bm"),r(L,"class","lower-div svelte-1yei4bm"),r(t,"class","merc-hunter svelte-1yei4bm")},m(p,T){q(p,t,T),e(t,l),e(l,n),e(l,o),e(o,u),e(l,a),e(t,c),e(t,v),k.m(v,null),e(t,y),e(t,E),e(E,f),d&&d.m(f,null),e(f,O),b&&b.m(f,null),e(f,F),e(f,C),e(t,R),e(t,D),e(t,B),e(t,L),e(L,A),S.m(A,null)},p(p,T){T&16&&w(u,p[4]),N===(N=P(p,T))&&k?k.p(p,T):(k.d(1),k=N(p),k&&(k.c(),k.m(v,null))),p[2]?d?d.p(p,T):(d=rt(p),d.c(),d.m(f,O)):d&&(d.d(1),d=null),p[3]?b||(b=at(p),b.c(),b.m(f,F)):b&&(b.d(1),b=null),J===(J=M(p,T))&&S?S.p(p,T):(S.d(1),S=J(p),S&&(S.c(),S.m(A,null)))},d(p){p&&G(t),k.d(),d&&d.d(),b&&b.d(),S.d()}}}function ht(i){let t,l;return t=new dt({props:{visible:i[0],title:"Merc Hunter",$$slots:{default:[gt]},$$scope:{ctx:i}}}),t.$on("close",i[9]),{c(){xe(t.$$.fragment)},m(n,o){et(t,n,o),l=!0},p(n,[o]){let u={};o&1&&(u.visible=n[0]),o&1073741950&&(u.$$scope={dirty:o,ctx:n}),t.$set(u)},i(n){l||(Ie(t.$$.fragment,n),l=!0)},o(n){$e(t.$$.fragment,n),l=!1},d(n){tt(t,n)}}}function yt(i,t,l){let n=["Normal","Champion","Elite","Super Elite","Titan","Legendary"],o=["Human","Vermin","Undead","Dragon","Greenskin","Demon","Golem","Dwarf","Feline","Elf","Avian","Aquatic","Plant","Canine","Reptile","Beast","Mechanical","Mounted","Magical"],{visible:u=!0}=t,a=1,c=0,v=0,y="?",E="?",f=[];function O(){K("mercs","close"),l(0,u=!1)}function F(){l(2,c=0),l(3,v=1),l(1,a=0)}async function C(){K("mercs","doDecline"),l(1,a=1),await Pe(),l(2,c=0),l(1,a=0)}function R(d){let b=Math.floor((d-nt())/60),M=Math.floor(b/60);return b%=60,{hours:M,mins:b}}let D=d=>({...d,...R(d.expires)});async function B(){K("mercs","doAccept"),l(1,a=1);let d=await Le();l(6,f=[...f,D({...c,expires:d.r.expires})]),l(4,y=d.r.mercs_available.toString()),l(2,c=0),l(1,a=0)}function L(d){l(2,c=D(d.r)),l(1,a=0)}async function A(){K("mercs","getOffer"),l(1,a=1),l(3,v=0);let d=await je();d.r?L(d):F()}async function P(d){K("mercs","doDisband"),l(1,a=1),await Ne(d),l(6,f=f.filter(({id:b})=>b!==d)),l(1,a=0)}async function N(){let d=await ot();l(6,f=d.r.mercs?.map(D)||[]),l(4,y=d.r.mercs_available.toString()),l(5,E=d.r.gold.toString()),d.r.offer?L({r:d.r.offer}):l(1,a=0)}N();let k=d=>P(d);return i.$$set=d=>{"visible"in d&&l(0,u=d.visible)},[u,a,c,v,y,E,f,n,o,O,C,B,A,P,k]}var qe=class extends lt{constructor(t){super(),it(this,t,yt,ht,We,{visible:0})}},ut=qe;var kt={visible:!0},mt=0;function Ct(){mt=st(kt,mt,ut)}export{Ct as default};
//# sourceMappingURL=mercs-TLL4DAG2.js.map
