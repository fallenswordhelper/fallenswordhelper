import{b as Q,c as R,d as z,e as G,f as J,h as K}from"./chunk-BU3XWNU4.js";import"./chunk-7TG2ENX7.js";import"./chunk-KKEXUDZS.js";import"./chunk-FJVTNN2W.js";import"./chunk-HPXAHGCS.js";import"./chunk-DEHUFNCB.js";import{a as P}from"./chunk-5OEJJJUY.js";import"./chunk-EAP3JV3F.js";import"./chunk-3Y43VOBF.js";import"./chunk-ZVXWRMK4.js";import"./chunk-5GXUYY75.js";import"./chunk-ZFAXPPIT.js";import{a as f}from"./chunk-YYQQYMER.js";import{a as L}from"./chunk-WS2QXSOZ.js";import{a as F}from"./chunk-PAQTEMK2.js";import"./chunk-YUILL6KB.js";import"./chunk-EOZ7KN3U.js";import{a as H}from"./chunk-S6P4PLTS.js";import"./chunk-TTPXT77X.js";import"./chunk-HVTKDY3G.js";import"./chunk-ZEVIKANH.js";import"./chunk-AZYUES33.js";import"./chunk-LNYIP6BZ.js";import"./chunk-BGEIIR32.js";import"./chunk-ZL2QP56C.js";import"./chunk-36F27ADD.js";import"./chunk-VYZW4NXZ.js";import"./chunk-PSUNF7NJ.js";import"./chunk-4IW5UPNT.js";import"./chunk-FRYVBDQF.js";import"./chunk-OYLI32OK.js";import"./chunk-GVHP23OE.js";import"./chunk-5UURD4VM.js";import"./chunk-ORS7RZTA.js";import"./chunk-MCG7PUE5.js";import"./chunk-QGMSNVNO.js";import"./chunk-JBM326AL.js";import"./chunk-AWX7T366.js";import"./chunk-S6W3GI6A.js";import"./chunk-3D277W4L.js";import"./chunk-JUP5RL3F.js";import"./chunk-HEIWEESD.js";import"./chunk-EPLN5MO7.js";import{a as B}from"./chunk-OAFPCVC2.js";import"./chunk-HN5D53RZ.js";import"./chunk-KXN7LTVO.js";import"./chunk-QFT3SMWH.js";import"./chunk-57W4LSPW.js";import"./chunk-NIBRUHHR.js";import"./chunk-FTO2ZBWK.js";import"./chunk-NVW4NMP3.js";import{a as V}from"./chunk-K3FFRUMO.js";import"./chunk-GUMMI6ND.js";import"./chunk-CPWTUMEP.js";import{b as y}from"./chunk-VXJUTFBI.js";import"./chunk-6CCTYJXE.js";import"./chunk-RITI6A57.js";import{C as I,F as s,U as x,V as w,a as p,aa as M,ba as S,e as h,ka as N,la as j,ma as q,na as v,oa as b,u as A,v as a,w as d,y as u,z as E}from"./chunk-Z65YDHBK.js";import"./chunk-HQEIAMRY.js";import"./chunk-7FBQ4YRA.js";import{a as c}from"./chunk-SMZGZ2UY.js";import{a as D}from"./chunk-M5HK4G4Q.js";import"./chunk-CSUKS4GS.js";import{a as T}from"./chunk-TGZ7LJUR.js";import"./chunk-FTXPWRDQ.js";import"./chunk-V2Z4Z2SB.js";import{a as l}from"./chunk-PTNJTFVL.js";import"./chunk-W2YYCP36.js";import"./chunk-TSMX3MI2.js";import"./chunk-X5GPKOZG.js";import"./chunk-7V4YID4M.js";import"./chunk-BSKKCHEC.js";import"./chunk-UCDZC42X.js";function W(t){let e,o,r,i;return{c(){e=u("button"),e.textContent="Check All",o=E("\xA0"),s(e,"class","custombutton svelte-vafhru"),s(e,"type","button")},m(n,m){a(n,e,m),a(n,o,m),r||(i=I(e,"click",t[0]),r=!0)},p,i:p,o:p,d(n){n&&d(e),n&&d(o),r=!1,i()}}}function X(t){let e=x();function o(){c("storeitems","Check All"),e("checkall")}return[o]}var k=class extends b{constructor(e){super(),v(this,e,X,W,h,{})}},O=k;function Y(t){let e,o,r,i;return r=new H({props:{folders:t[0].folders}}),r.$on("filter",t[1]),{c(){e=u("tr"),o=u("td"),N(r.$$.fragment),s(o,"colspan","3"),s(o,"class","svelte-1kpx3t5"),s(e,"class","fshCenter")},m(n,m){a(n,e,m),A(e,o),j(r,o,null),i=!0},p(n,[m]){let $={};m&1&&($.folders=n[0].folders),r.$set($)},i(n){i||(M(r.$$.fragment,n),i=!0)},o(n){S(r.$$.fragment,n),i=!1},d(n){n&&d(e),q(r)}}}function Z(t,e,o){let{inv:r={folders:{}}}=e;function i(n){w.call(this,t,n)}return t.$$set=n=>{"inv"in n&&o(0,r=n.inv)},[r,i]}var g=class extends b{constructor(e){super(),v(this,e,Z,Y,h,{inv:0})}},U=g;function ee(t,e){return new U({anchor:e,props:{inv:t},target:e.parentNode})}function te(t,e,o){o.checked=!1;let r=F(o),i=t.items[o.value].folder_id,n=e!==-2&&e!==i;f(r,n),f(r.nextElementSibling,n)}function oe(t,e){c("storeitems","Filter Folder"),P([3,Q(),0,l(te,t,Number(e.detail))])}function _(t,e){ee(t,e).$on("filter",l(oe,t))}function re(t,e){let o=[{id:"-1",name:"Main"},...B(t.folders).map(([r,i])=>({id:r,name:i}))];return new z({anchor:e,props:{folders:o},target:e.parentNode})}function ne(t,e,o){t.items[o].folder_id=Number(e)}function ie(t,e,o){o.checked=!1,ne(t,e,o.value);let r=F(o);f(r,!0),f(r.nextElementSibling,!0)}async function se(t,e,o){(await R(e,o.map(i=>i.value))).s&&o.forEach(l(ie,t,e))}function le(t,e){c("storeitems","Move to Folder");let o=D('[name="storeIndex[]"]:checked');L(30,o).forEach(l(se,t,e.detail))}function C(t,e){re(t,e).$on("move",l(le,t))}async function me(){let t=await J();if(!t.folders)return;let[e]=document.forms;_(t,e),C(t,e)}function ce(){G().forEach(t=>{t.checked=!t.disabled&&!t.checked})}function fe(){let t=document.forms[0]?.elements;if(!t?.length)return;let[e]=T(t).filter(r=>r.type==="submit");new O({anchor:e,target:e.parentNode}).$on("checkall",ce)}function ae(){V()&&y("enableFolderFilter")&&me(),fe(),K()}export{ae as default};
//# sourceMappingURL=storeitems-VCUNQ7SM.js.map
