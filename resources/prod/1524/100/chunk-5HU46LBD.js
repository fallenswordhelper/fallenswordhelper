import{a as c,c as _,d as h,e as y,g as m}from"./chunk-Z65YDHBK.js";var b=[];function z(n,u){return{subscribe:A(n,u).subscribe}}function A(n,u=c){let s,r=new Set;function f(t){if(y(n,t)&&(n=t,s)){let i=!b.length;for(let e of r)e[1](),b.push(e,n);if(i){for(let e=0;e<b.length;e+=2)b[e][0](b[e+1]);b.length=0}}}function a(t){f(t(n))}function l(t,i=c){let e=[t,i];return r.add(e),r.size===1&&(s=u(f)||c),t(n),()=>{r.delete(e),r.size===0&&s&&(s(),s=null)}}return{set:f,update:a,subscribe:l}}function j(n,u,s){let r=!Array.isArray(n),f=r?[n]:n,a=u.length<2;return z(s,l=>{let t=!1,i=[],e=0,d=c,g=()=>{if(e)return;d();let o=u(r?i[0]:i,l);a?l(o):d=h(o)?o:c},q=f.map((o,p)=>m(o,x=>{i[p]=x,e&=~(1<<p),t&&g()},()=>{e|=1<<p}));return t=!0,g(),function(){_(q),d()}})}export{A as a,j as b};
//# sourceMappingURL=chunk-5HU46LBD.js.map
