{"version":3,"file":"addLogWidgets-06bca2cf.js","sources":["../../../../../src/modules/logs/playerLogWidgets/isGuildMate.js","../../../../../src/modules/logs/playerLogWidgets/addAttackLink.js","../../../../../src/modules/logs/playerLogWidgets/addIgnoreLinks.js","../../../../../src/modules/app/combat/view.js","../../../../../src/modules/_dataAccess/fallbacks/viewCombat.js","../../../../../src/modules/ajax/combatView.js","../../../../../src/modules/logs/playerLogWidgets/getCombat.js","../../../../../src/modules/_dataAccess/daViewCombat.js","../../../../../src/modules/logs/playerLogWidgets/addPvPSummary.js","../../../../../src/modules/logs/playerLogWidgets/isAllyEnemy.js","../../../../../src/modules/logs/playerLogWidgets/colorPlayers.js","../../../../../src/modules/logs/playerLogWidgets/processLadder.js","../../../../../src/modules/logs/playerLogWidgets/addLogWidgets.js","../../../../../src/modules/logs/playerLogWidgets/changeLabels.js"],"sourcesContent":null,"names":["memberPrm","async","isGuildMate","playerName","currentGuildId","entries","getMembrList","filter","value","isObject","map","key","getKeys","includes","getPlayer","t","getCustomUrlParameter","href","guildTest","name","noMsg","privMsg","p","r","insertHtmlBeforeEnd","cells","pmClass","doAddIgnore","getTextTrim","ignoreLinkHtml","viewCombat","id","callApp","cmd","subcmd","combat_id","getId","e","Number","getAttribute","match","getResult","script","thisRe","RegExp","specialMask","gettokens","spec","thisTests","mask","find","params","sendEvent","formatSpecial","pCC","querySelectorArray","some","s","attacker","header","rows","defender","doBase","children","specials","doscript","getText","gold_gain","gold_stolen","pvp_prestige_gain","pvp_rating_change","winner","xp_gain","reportObject","parseReport","html","doc","createDocument","getElementById","indexAjaxData","combatView","then","partial","combatPrm","newCache","currentCombatRecord","sevenDays","val","logTime","prepareCache","internal","get","lastCheck","nowSecs","oneDay","filtered","recent","fromEntries","set","getRecent","newCombat","combatId","combatCache","thisCombat","$dataAccess","appViewCombat","parseDateAsTimestamp","getCombat","isPvp","querySelector","combatSelector","notGuildCombat","msgHtml","test","getCombats","exec","result","stat","desc","color","addCommas","highlightSpecials","acc","el","updateTd","json","pre","firstChild","parseCombatWinner","summaryDiv","reduce","parseCombat","remove","insertHtmlAfterBegin","insertElement","createDiv","innerHTML","goodCombats","justUsername","obj","username","allyPrm","getAllyEnemy","stats","myStats","_allies","_enemies","isAlly","isEnemy","playerType","a","type","guildMate","ally","enemy","Promise","all","closestTr","rowIndex","byType","style","push","colorLookup","guild","makeStyle","selectors","join","foundType","playerStyling","logTable","playerTags","playerStyles","getPlayerStyles","length","messageHeader","doMsgHeader","classList","add","document","body","createStyle","lastLadderReset","ladderRe","pvp","saveLastResetTime","setValue","defLastLadderReset","conditionalArray","playerLinks","playerLinkSelector","forEach","pr","trade","withPlayer","gm","player","insertHtmlAfterEnd","attackplayerUrl","addAttack","setText","getValue","noteSelector","combatLinks","notGuild","processConditionals","pair","addLogWidgets","jQueryNotPresent","getLastTable","foundLogTable"],"mappings":"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","sourceRoot":"https://localhost:9966"}