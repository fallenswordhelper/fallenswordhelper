{"version":3,"file":"composing-9r0ze18W.js","sources":["src/modules/composing/costing.js","src/modules/composing/backgroundCreate.js","src/modules/ajax/createPotionFromTemplate.js","src/modules/composing/fastCompose/fastCompose.js","src/modules/composing/parseComposing.js","src/modules/app/composing/collect.js","src/modules/_dataAccess/daComposingCollect.js","src/modules/composing/quickCollect/quickCollect.js","src/modules/composing/quickCreate.js","src/modules/composing/composing.js"],"sourcesContent":null,"names":["costs","setupCosts","templates","map","buffs","duration","id","cost","Math","max","level","reduce","sum","scenarios","thisCost","existingCostDiv","select","remove","setText","addCommas","insertHtmlBeforeEnd","parentNode","injectCost","find","Number","value","querySelector","scenario","fn","changeTemplate","e","test","target","costing","selectors","querySelectorArray","pcc","length","async","json","daComposing","s","r","forEach","on","init","updateInfoDiv","infoDiv","potName","setInnerHtml","children","classList","add","style","backgroundImage","cdn","getRandomInt","createSuccess","temp","myParent","previousElementSibling","selectedIndex","text","querySelectorAll","setValue","defNeedToCompose","createPotion","data","resultNode","error","potionDone","tempId","unsafe","indexAjax","cache","dataType","cmd","subcmd","template_id","fshrnd","rnd","jsonParse","createPotionFromTemplate","backgroundCreate","publish","doTableClass","myTable","slotsLeft","toString","quickcreate","handleClick","evt","button","templateId","dataset","sendEvent","openTemplates","i","nextElementSibling","composePots","buildCells","template","myRow","_compSlot","val","insertCell","insertElement","createInput","className","type","buildRows","compSlots","partial","insertRow","keyValuePairs","el","setupFastCompose","fcDiv","openSlots","createTable","buildTable","onclick","subscribe","drawList","getArrayByClassName","document","filter","contains","timeRemaining","h","m","regExpGroups","etaRe","getText","now","setNeed","bool","collect","pid","composing","potion_id","composingCollect","buffDoc","indexAjaxDoc","message","infoBox","includes","injectButtons","btn","getAttribute","split","insertHtmlAfterBegin","isOurTarget","tagName","injectResult","container","doQuickCollect","ctx","disabled","result","$dataAccess","daComposingCollect","ret","handleResult","hdlQuickCollect","injectButton","insertHtmlAfterEnd","hdlQuickCreate","doQuickCreate","hasJQuery","calf","enableComposingAlert","eta","min","defLastComposeCheck","parseComposing","getValue","buttonDiv","getElementById","setAttribute","top","getElementsByClassName","insertElementBefore","moveButtons","createDiv","insertElementAfter","fcCheck","once","fastCompose","jQueryPresent"],"mappings":"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"}