import{a as r}from"./chunk-OAQ3GOTA.js";import{a as d}from"./chunk-3M65L4MQ.js";import{a as c}from"./chunk-M5ZN4Z2N.js";import{a as s}from"./chunk-C27IPPK7.js";import{a}from"./chunk-QPRB5F5E.js";import{a as u}from"./chunk-QHU4ICCH.js";import{a as l}from"./chunk-3PDILZ3R.js";import{a as m}from"./chunk-3WAX2TNR.js";var t=[null];function f(n,o){return t[n]&&t[n].priority<t[o].priority}function g(n,o){let e=t[n];t[n]=t[o],t[o]=e}function A(n,o){return n?o*2:o*2+1}function F(n){let o=n;for(;o*2<t.length;){let e=!f(o*2+1,o*2),i=A(e,o);if(f(o,i))break;g(o,i),o=i}}function H(n){let o=n;for(;o>1;){let e=o>>1;if(!f(o,e))break;g(o,e),o=e}}function h(){if(t.length===1)return;let n=t[1].data,o=t.pop();return t.length>1&&(t[1]=o,F(1)),n}function w(n,o){H(t.push({data:n,priority:o})-1)}function y(){return t.length-1}var p=!0,k="fshMessage",b;function x(){y()===0?p=!0:(p=!1,window.postMessage(k,window.location.origin))}function L(n){m(n)||a(`pop() was not a function (${typeof n})`,!1)}function M(){let n=h();c(n)?n():L(n)}function G(){try{M()}catch(n){a(d(n),!1)}finally{x()}}function T(n){let o=n.data;n.origin===window.location.origin&&o===k&&G()}function U(){b||(u(window,"message",T),b=!0)}function v(n){n&&!s(n)&&console.log("addTask isArray(args)",s(n))}function C(n,o,e,i){if(l.userIsDev&&v(e),c(o)){U();let E=r(i,window),I=r(e,[]);w(o.bind(E,...I),n),p&&x()}}export{C as a};
//# sourceMappingURL=chunk-KAHUID7Q.js.map
