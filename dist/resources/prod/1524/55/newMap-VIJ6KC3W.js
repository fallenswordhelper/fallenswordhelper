import{a as Ra,b as Pa}from"./chunk-RSBJ7LLK.js";import{a as Fa}from"./chunk-U3XYRZ5B.js";import"./chunk-LV2PKN7P.js";import{a as Ga}from"./chunk-XCY4ABN7.js";import{a as At}from"./chunk-BCSVNNQZ.js";import{a as Ia,b as $a}from"./chunk-OTVESNM4.js";import{a as Ma,b as Va}from"./chunk-6SIJRC37.js";import{a as Na}from"./chunk-PVCN2BKZ.js";import{a as Ha}from"./chunk-RBSRR4K7.js";import{b as La}from"./chunk-I25GFJRD.js";import{a as Ta}from"./chunk-DLTLK7MI.js";import"./chunk-3JJPFBLQ.js";import{a as Ea}from"./chunk-D65MS542.js";import{a as Ca,b as Ba}from"./chunk-2ER4HGEK.js";import{a as wa}from"./chunk-F7GEAZQG.js";import{a as Da}from"./chunk-MSNK7KWK.js";import"./chunk-RWQEKVQW.js";import{a as sr}from"./chunk-44VDFN3B.js";import"./chunk-CWEFFR7R.js";import{a as ka}from"./chunk-IYR4CV4S.js";import{a as fr}from"./chunk-GTGFHQE7.js";import{a as h}from"./chunk-QJHIWWB5.js";import{a as St}from"./chunk-MKQ54CT7.js";import{a as la}from"./chunk-63PZ6NKP.js";import"./chunk-BGRUH4VX.js";import{a as Bt}from"./chunk-5KDEBU7Z.js";import"./chunk-7NGSFOWW.js";import{a as ya}from"./chunk-BV2MYMF5.js";import{a as xa}from"./chunk-ZUF5A5IY.js";import{a as lr}from"./chunk-ZUCHBC6W.js";import"./chunk-K42GGIPC.js";import{A as Ct,C as pa,O as ir,P as ha,T as ga,U as va,a as Et,d as ma,e as ar,o as k,p as ie,q as le,r as ca,s as b,t as Ee,u as Ce,v as da,y as S}from"./chunk-672ZPAPS.js";import{a as Sa,b as Aa,c as ba}from"./chunk-3YHM2ZOK.js";import"./chunk-OSXNNPBF.js";import"./chunk-EO5XDEZO.js";import"./chunk-R4CFGI6O.js";import{a as Zn}from"./chunk-WFVMI4GO.js";import"./chunk-QZPKU7YJ.js";import{a as ve,b as gt}from"./chunk-HUTQN7VU.js";import{a as R}from"./chunk-D6XBZTM7.js";import{a as ta}from"./chunk-IN3LH3FB.js";import{a as kt}from"./chunk-5JOZETNS.js";import"./chunk-MUL7UKSB.js";import{a as ia}from"./chunk-E6VCBJS3.js";import{a as U}from"./chunk-EGMW5FEC.js";import{a as xt,b as Dt}from"./chunk-4JPLNJXC.js";import{a as ra}from"./chunk-P6QOQPLT.js";import"./chunk-EQEDSKYN.js";import{f as ae}from"./chunk-NRK26HVZ.js";import"./chunk-NXN7WV26.js";import{a as aa}from"./chunk-74EK3V76.js";import{a as p}from"./chunk-I4L5KJVD.js";import{a as j}from"./chunk-RAXXQ6UC.js";import{a as wt}from"./chunk-KDR3X5WK.js";import{a as oa}from"./chunk-4W5LX7WX.js";import"./chunk-MRDXZZHG.js";import"./chunk-FSJKGO56.js";import{a as Cn}from"./chunk-RSZDMU3F.js";import{a as Un}from"./chunk-PPMECO73.js";import{a as dt,b as nr}from"./chunk-2A2BOA2Y.js";import{a as ke}from"./chunk-XUMFQRZN.js";import"./chunk-2J7BLPNB.js";import{a as De}from"./chunk-3IZSRBVW.js";import{a as Jn}from"./chunk-WKB7UAH3.js";import{a as ye}from"./chunk-S5U6RFFU.js";import{a as y}from"./chunk-NX5SSUGZ.js";import"./chunk-R6SLBHCS.js";import{a as ea}from"./chunk-5NMJGBY4.js";import{a as yt}from"./chunk-VVT2NY3X.js";import{a as vt}from"./chunk-GMACQ6ZE.js";import"./chunk-J4SAIAEQ.js";import"./chunk-MF5BZBCN.js";import{a as Oe}from"./chunk-OIUCKKNI.js";import{a as oe}from"./chunk-T7L7W7NW.js";import{a as ge}from"./chunk-MQRQAX7O.js";import"./chunk-CDJXMXAD.js";import{a as re}from"./chunk-EQNCUII2.js";import"./chunk-5NIAUQBB.js";import{a as jn}from"./chunk-FIYDSWPU.js";import{a as s}from"./chunk-JQN7MVS5.js";import{a as ua}from"./chunk-3LVRLS3W.js";import{a as zn}from"./chunk-4JORPG32.js";import{a as I}from"./chunk-OO7D5SQF.js";import{a as W}from"./chunk-CRUEJ3F6.js";import"./chunk-SKB75UHJ.js";import{a as ct}from"./chunk-D6P46ZXI.js";import{a as _e}from"./chunk-W5X6D6BY.js";import{a}from"./chunk-ZD6KR2JJ.js";import{a as c}from"./chunk-TV5KWDG5.js";import"./chunk-EXPYEXEP.js";import"./chunk-LJSNN3UL.js";import"./chunk-375QMJKQ.js";import{a as we}from"./chunk-ZACGLTFX.js";import{a as fa}from"./chunk-QJQL33BB.js";import{a as sa}from"./chunk-FMNM33OL.js";import{a as z}from"./chunk-DPUM55LY.js";import{a as ne}from"./chunk-CJ5MYL4D.js";import"./chunk-BPJKI26M.js";import{a as na}from"./chunk-7FXPMHZ5.js";import"./chunk-TUWDUCWH.js";import{a as Xn}from"./chunk-TEW6YNEY.js";import{a as E}from"./chunk-BUYHT5WE.js";import{a as C}from"./chunk-BXVF4M5G.js";import{a as G}from"./chunk-SNSTWQSS.js";import{a as xe}from"./chunk-LFXZGYGZ.js";import"./chunk-B5XQQNQZ.js";import{a as i}from"./chunk-OCPSJVCN.js";import"./chunk-NIYIBTJZ.js";import"./chunk-V5W6AOGE.js";import"./chunk-LFCR6ZTM.js";import{a as ht}from"./chunk-6UVNJJZQ.js";import{a as Yn}from"./chunk-Z4OUE4BH.js";import{a as pt}from"./chunk-CN4P2KLK.js";import{a as Qn}from"./chunk-BGO273GM.js";import{b as g}from"./chunk-XJX3OTSZ.js";import{a as n}from"./chunk-GUUYKSUL.js";import{a as Wn}from"./chunk-D6HZ4P35.js";import{$ as Mn,Aa as On,Ba as Kn,Ca as qn,I as rr,L as Sn,La as mt,N as or,V as An,W as he,X as st,Y as bn,Z as Ln,_ as Tn,aa as Hn,ba as Vn,c as lt,ca as Nn,da as Gn,ea as ft,fa as In,ga as $n,ha as Rn,i as pe,ja as Pn,ka as q,la as ut,ma as T,n as tr,v as Bn,ya as Fn,za as _n}from"./chunk-E72VSDOE.js";import{b as te}from"./chunk-U4WGNCSF.js";import{a as m}from"./chunk-3XQ73JET.js";var se;function fl(e){return e}function ul(e){return n.showBuffInfo&&e.some(fl)}function ml(){if(se)h(se,!1);else{se=c({className:"fshActionBox",innerHTML:"<div></div><div></div><div></div><div></div><div></div><div></div>"});let e=i("actionContainer");Ea(se,e.children[2])}return se}function cl(){se&&h(se,!0)}function ur(e){if(ul(e))return ml();cl()}var P,mr;function dl(e){P=e.children[3],P.className="fshBlue",s("CA ",P),mr=p(),a(P,mr),R(P," active")}function pl(e,t){P?h(P,!1):dl(e),s(t.level,mr)}function hl(){P&&h(P,!0)}function cr(e,t){t?pl(e,t):hl()}var F,dr;function gl(e){F=e.children[4],F.className="fshRed",s("Doubler ",F),dr=p(),a(F,dr),R(F," active")}function vl(e,t){F?h(F,!1):gl(e),s(t.level,dr)}function yl(){F&&h(F,!0)}function pr(e,t){t?vl(e,t):yl()}var Q,hr;function xl(e){Q=e.children[2],s("Damage bonus: ",Q),hr=p(),a(Q,hr),R(Q,"%")}function Dl(e,t){if(e){let r=Math.min(Math.round(Math.floor(t/5)*Number(e.level))*.01,20);return ve(r,2).toString()}return"0"}function kl(e,t,r){Q?h(Q,!1):xl(e),s(Dl(t,Number(r)),hr)}function wl(){Q&&h(Q,!0)}function gr(e,t,r){t?kl(e,t,r):wl()}function d(e,t){s(U(e),t)}var fe,vr;function El(e){fe=e.children[1],s("Kill Streak: ",fe),vr=p(),a(fe,vr)}function Cl(e,t){fe?h(fe,!1):El(e),d(t,vr)}function Bl(){fe&&h(fe,!0)}function yr(e,t,r,o){t||r?Cl(e,o):Bl()}function Sl(e,t){return t.name===e}function Y(e){let{buffs:t}=GameData.player();if(t)return t.find(m(Sl,e))}function xr(){let e=GameData.player().teleportCooldown;return e>1&&e}var Al=["red","orange","yellow"];function Dr(){let e=$("#actionlist-shield-imp");e.length===1&&e.css("background-color",Al[e.text()]||"#ad8043")}var V,kr;function bl(e){Pa(e)&&GameData.fetch(q)}function Ll(){Y("Summon Shield Imp")||Ra([ye()],[55]).then(bl)}function Tl(e){return e?Number(e.stack):0}var Ml=["imp-0","imp-1","imp-1"];function Hl(e){return Ml[e]||"fshGreen"}function Vl(e){V=e.children[0],s("Shield Imps Remaining: ",V),kr=p(),a(V,kr),re(V,"&nbsp;");let t=p({className:"xSmallLink",textContent:"Recast"});a(V,t),C(t,Ll)}function Nl(e,t){V?h(V,!1):Vl(e);let r=Tl(t);V.className=Hl(r),s(r,kr)}function Gl(){V&&h(V,!0)}function wr(e,t,r){t||r?Nl(e,t):Gl()}function Il(e){return e.type===0}function Er(){let{dynamic:e}=GameData.realm();return I(e)&&e.some(Il)}function D(e){return p({textContent:e})}var ue,bt,_a;function $l(e,t){ue=e.children[5],s("Teleport Cooldown: ",ue),bt=D(t.toString()),a(ue,bt)}function Rl(e,t){ue?h(ue,!1):$l(e,t)}function Pl(){ue&&h(ue,!0)}function Oa(){let e=Math.max(Math.ceil((_a-Date.now())/1e3),0);s(e,bt),e>0&&setTimeout(Oa,500)}function Ka(e){bt&&(_a=Date.now()+e*1e3,Oa())}function qa(e,t){t?Rl(e,t):Pl()}var Ke,Cr,Br,Sr,Ar,br,Lr;function Fl(){Ke=Y("Death Dealer"),Cr=Y("Doubler"),Br=Y("Counter Attack"),Sr=Y("Summon Shield Imp"),Ar=xr(),br=Er(),Lr=GameData.player().killStreak}function Tr(){Dr(),Fl();let e=ur([Ke,Cr,Br,Sr,Ar,br]);e&&(wr(e,Sr,Ke),yr(e,Ke,br,Lr),gr(e,Ke,Lr),cr(e,Br),pr(e,Cr),qa(e,Ar))}function _l(e,t){Ka(t.player.teleportCooldown)}function Wa(){Tr(),$.subscribe(`${st} ${bn}`,Tr),$.subscribe(Rn,_l)}function Ua(){n.showBuffInfo=!n.showBuffInfo,y("showBuffInfo",n.showBuffInfo),Tr()}function Ol(){return window.GameController&&GameController.Realm&&!GameController.Realm.footprintTileList}function Mr(){Ol()&&(GameController.Realm.footprintTileList=[])}function za(e,t,r){return ea({className:`fshCurveEle fshCurveLbl fshPoint tip-static ${e}`,dataset:{tipped:t},htmlFor:r})}function Lt(e){let t=c({className:"fshToggle"}),r=vt({checked:e.prefVal,id:e.checkId,type:"checkbox"});a(t,r);let o=za(e.onClass,e.onTip,e.checkId);a(t,o);let l=za(e.offClass,e.offTip,e.checkId);return a(t,l),a(e.worldName,t),r}var J,Tt,Mt,ja,Qa,Ya,Ja,Xa,Za;function Kl(e){Oe(e),GameData.doAction(12,401,{},0)}function ql(){oa(ye())}function Wl(){window.open(`${Sn+tr}map`,"fsMap")}function Ul(){let e=GameData.realm();window.open(`${An}realms${tr}view&realm_id=${e.id}`,"mapUfsg")}function zl(){y("playNewMessageSound",!g("playNewMessageSound"))}function jl(){n.huntingMode=!n.huntingMode,y("huntingMode",n.huntingMode)}function Ql(){return c({className:"fshCurveContainer",id:"fshWorldButtonContainer"})}function ei(e){return e?e.toString():"?"}function Yl(){let e=c({textContent:"Min Lvl: "});return Tt=D(ei(GameData.realm().minlevel)),a(e,Tt),e}function Jl(){let e=c({textContent:"Your Lvl: "});return Mt=D(ei(GameData.player().level)),a(e,Mt),e}function Xl(e){let t=c({className:"fshFsty"});a(t,Yl()),a(t,Jl()),a(e,t)}function Ht(e,t,r){let o=j({className:`fshCurveEle fshCurveBtn fshPoint tip-static ${e}`,dataset:{tipped:t}});return a(r,o),o}function Zl(e){Xl(e),ja=Ht("fshFormGroup","Quick Create Attack Group",e),Qa=Ht("fshQuickBuff","Open Quick Buff Popup",e),Ya=Ht("fshRealmMap","Open Realm Map",e),Ja=Ht("fshTempleOne","Search map in Ultimate FSG",e)}function es(e){if(g("showSpeakerOnWorld")){let t=g("playNewMessageSound");Xa=Lt({prefVal:t,checkId:"fshSoundCheck",onClass:"soundOn",onTip:"Turn Off Sound when you have a new log message",offClass:"soundOff",offTip:"Turn On Sound when you have a new log message",worldName:e})}}function ts(e){let t=n.huntingMode;Za=Lt({prefVal:t,checkId:"fshHuntCheck",onClass:"huntOn",onTip:"Hunting mode is ON",offClass:"huntOff",offTip:"Hunting mode is OFF",worldName:e})}function rs(){Zl(J),es(J),ts(J)}var os=[[e=>e===Xa,zl],[e=>e===Za,jl]],ns=[[e=>e===ja,Kl],[e=>e===Qa,ql],[e=>e===Ya,Wl],[e=>e===Ja,Ul]];function as(){C(J,sr(ns)),G(J,"change",sr(os))}function is(){J||(J=Ql(),rs(),as(),yt(J,i("worldCoord")))}function ls(e,t){Tt&&t.b.minlevel&&(Mr(),s(t.b.minlevel,Tt))}function ss(e,t){Mt&&s(t.b,Mt)}function Hr(){is(),$.subscribe(Vn,ls),$.subscribe(Ln,ss)}var fs=["NORMAL","CHAMPION","ELITE","SUPER ELITE","TITAN","LEGENDARY"],Vt=!1;function Vr(e){return De(".verb.attack",e)}function Nr(e){let t=fs.indexOf(e.toUpperCase());return ht(`#actionList .actionListItem.creature.creature-${t}`)}function ti(e){let t=["LEGENDARY","NORMAL"].flatMap(Nr),r=Nr("CHAMPION"),[o,l]=e?[t,r]:[r,t],f=`url("${te}ui/world/icon_action_attack_`;o.map(Vr).filter(u=>u!==null).forEach(u=>{u.classList.remove("attack-1","attack-2","attack-3","attack-4","attack-5","attack-6","attack-7","attack-8"),u.style.backgroundImage=""}),l.slice(0,8).map(Vr).forEach((u,A)=>{u!==null&&(u.classList.add(`attack-${A+1}`),u.style.backgroundImage=`${f}${A+1}.png")`)})}function us(e){if(!e.ctrlKey||!e.shiftKey||e.target.tagName==="INPUT"||e.target.tagName==="TEXTAREA"||(Vt||ti(!0),Vt=!0,!e.code.match(/(Digit|Numpad)[1-8]/)))return;let t=Nr("CHAMPION"),r=parseInt(e.code.slice(-1),10)-1;if(r<t.length){let o=Vr(t[r]);o!==null&&(xe("world","ChampionAttack"),o.click())}}function ms(e){Vt&&(!e.ctrlKey||!e.shiftKey)&&(Vt=!1,ti(!1))}function Gr(){let e=jn("body")[0];G(e,"keydown",us),G(e,"keyup",ms)}var cs=["Breaker","Protection","Master Thief","Protect Gold","Disarm","Duelist","Thievery","Master Blacksmith","Master Crafter","Fury Caster","Master Inventor","Sustain"],Ir=[],L;function ds(e){(e.id===54||e.id===26)&&(L.player.buffs[e.id]=parseInt(e.level,10))}function ps(e){cs.indexOf(e.name)===-1&&(L.player.enhancements[e.name]=e.value)}function hs(e){e.player.buffs&&e.player.buffs.forEach(ds)}function gs(e){e.player.enhancements&&e.player.enhancements.forEach(ps)}function vs(e,t){L={},L.combat=t.response.data,L.combat.inventory_id&&(L.combat.drop=L.combat.item.id),L.player={},L.player.buffs={},L.player.enhancements={},hs(t),gs(t),L.time=t.time,Ir.push(L),Dt("fsh_combatLog",Ir)}function ys(e,t){t.response.response===0&&vs(e,t)}function xs(e){e&&(Ir=e),$.subscribe(ft,ys)}function $r(){g("keepLogs")&&xt("fsh_combatLog").then(xs)}function me(e){return n.doNotKillList.includes(ge(e))}function Ds(e){e.classList.toggle("fshBlue",me(Qn(e)))}function Be(){let e=i("actionList");St("creature",e).forEach(Ds)}function ks(e,t){if(me(e))return i("actionList").children[t].children[0].children[1].classList.remove("loading"),!0}function ws(e){let t=GameData.actions()[e];if(t)return ks(t.data.name,e)}function Es(e){return function(r,o,l,f){ws(l.passback)||e(r,o,l,f)}}var Cs={2:Es};function Bs(e){return Wn(e)||e===0}function Ss(e){return e&&ct(e)}function As(e){return function(r,o,l,f){let u=Cs[r];Ss(u)&&Bs(f)?u(e)(r,o,l,f):e(r,o,l,f)}}function Rr(){let e=GameData.doAction;GameData.doAction=As(e)}function Pr(){$.subscribe(he,Be),Be(),Rr()}function ri(e){e[1]=e[2].r.list}function oi(e,t,r){let o=e.slice();return o[3]=t[r],o[5]=r,o}function bs(e){let t,r=e[6].message+"",o;return{c(){t=b("p"),o=Ee(r),pa(t,"color","red")},m(l,f){ie(l,t,f),k(t,o)},p(l,f){f&1&&r!==(r=l[6].message+"")&&Ct(o,r)},d(l){l&&le(t)}}}function Ls(e){ri(e);let t,r,o,l=e[1],f=[];for(let u=0;u<l.length;u+=1)f[u]=ai(oi(e,l,u));return{c(){t=b("table"),r=b("tr"),r.innerHTML=`<td class="header"></td> 
      <td class="header"></td> 
      <td class="header">Username</td> 
      <td class="header">Kills</td>`,o=Ce();for(let u=0;u<f.length;u+=1)f[u].c();S(r,"class","svelte-1p6satm"),S(t,"id","world-event-contrib-table"),S(t,"class","svelte-1p6satm")},m(u,A){ie(u,t,A),k(t,r),k(t,o);for(let x=0;x<f.length;x+=1)f[x].m(t,null)},p(u,A){if(ri(u),A&1){l=u[1];let x;for(x=0;x<l.length;x+=1){let K=oi(u,l,x);f[x]?f[x].p(K,A):(f[x]=ai(K),f[x].c(),f[x].m(t,null))}for(;x<f.length;x+=1)f[x].d(1);f.length=l.length}},d(u){u&&le(t),ca(f,u)}}}function ni(e){let t,r,o,l;return{c(){t=b("a"),r=b("img"),ar(r.src,o=""+(te+"guilds/"+e[3].guild.id+"_mini.png"))||S(r,"src",o),S(r,"alt","guild logo"),S(r,"class","svelte-1p6satm"),S(t,"href",l=""+(rr+e[3].guild.id))},m(f,u){ie(f,t,u),k(t,r)},p(f,u){u&1&&!ar(r.src,o=""+(te+"guilds/"+f[3].guild.id+"_mini.png"))&&S(r,"src",o),u&1&&l!==(l=""+(rr+f[3].guild.id))&&S(t,"href",l)},d(f){f&&le(t)}}}function ai(e){let t,r,o=e[5]+1+"",l,f,u,A,x,K,nt=e[3].player.name+"",Xt,at,wn,Zt,it=e[3].value+"",er,En,w=e[3].guild&&ni(e);return{c(){t=b("tr"),r=b("td"),l=Ee(o),f=Ce(),u=b("td"),w&&w.c(),A=Ce(),x=b("td"),K=b("a"),Xt=Ee(nt),wn=Ce(),Zt=b("td"),er=Ee(it),En=Ce(),S(K,"href",at=""+(or+e[3].player.name)),S(t,"class","svelte-1p6satm")},m(H,de){ie(H,t,de),k(t,r),k(r,l),k(t,f),k(t,u),w&&w.m(u,null),k(t,A),k(t,x),k(x,K),k(K,Xt),k(t,wn),k(t,Zt),k(Zt,er),k(t,En)},p(H,de){H[3].guild?w?w.p(H,de):(w=ni(H),w.c(),w.m(u,null)):w&&(w.d(1),w=null),de&1&&nt!==(nt=H[3].player.name+"")&&Ct(Xt,nt),de&1&&at!==(at=""+(or+H[3].player.name))&&S(K,"href",at),de&1&&it!==(it=H[3].value+"")&&Ct(er,it)},d(H){H&&le(t),w&&w.d()}}}function Ts(e){let t;return{c(){t=Ee("Loading...")},m(r,o){ie(r,t,o)},p:Et,d(r){r&&le(t)}}}function Ms(e){let t,r,o={ctx:e,current:null,token:null,hasCatch:!0,pending:Ts,then:Ls,catch:bs,value:2,error:6};return ir(r=e[0],o),{c(){t=da(),o.block.c()},m(l,f){ie(l,t,f),o.block.m(l,o.anchor=f),o.mount=()=>t.parentNode,o.anchor=t},p(l,[f]){e=l,o.ctx=e,f&1&&r!==(r=e[0])&&ir(r,o)||ha(o,e,f)},i:Et,o:Et,d(l){l&&le(t),o.block.d(l),o.token=null,o=null}}}function Hs(e,t,r){let{promise:o}=t;return e.$$set=l=>{"promise"in l&&r(0,o=l.promise)},[o]}var ii=class extends va{constructor(t){super();ga(this,t,Hs,Ms,ma,{promise:0})}},li=ii;function Fr(e){return fa({cmd:"toprated",subcmd:e})}var Vs=({username:e,value:t})=>({player:{name:e},value:t});async function _r(e){if(e==="globalquest")return{r:{list:(await ua({cmd:"toprated",subcmd:"eventcontrib"})).map(Vs)}}}function Or(e){return we(Fr,_r,e)}var Kr,si=()=>({promise:Or("globalquest")});function Ns(e){Kr?Kr.$set(si()):Kr=new li({props:si(),target:e})}function Gs(){let e=i("world-event-contrib");Ns(e),$(e).dialog({title:"Top 100 Event Contributers",minWidth:300,height:300,zIndex:9999})}function qr(){let e=$("#world-event-badge");!e.length||(e.off(),C(e[0],Gs))}function Is(e){return e.response&&e.response.msg&&e.response.msg.startsWith("Creature did not exist at that location")}function $s(e){Is(e)&&GameData.fetch(ut+T)}function Rs(e){e.remove()}function Ps(e,t){$s(t),ht(".creature-4 > .quickCombat > .verbs").forEach(Rs)}function Wr(){$.subscribe(ft,Ps)}function _(e){return!e||!e.response||!e.response.data}var fi='<table class="relicT relicS"><thead><tr><th colspan="2">Adjusted defense values</th></tr></thead><tbody><tr><td>DC225:</td><td id="DC225">0</td></tr><tr><td>DC175:</td><td id="DC175">0</td></tr><tr><td colspan="2">&nbsp;</td></tr></tbody><thead><tr><th colspan="2">Attacking Group Stats</th></tr></thead><tbody><tr><td>Raw Group Attack:</td><td class="fshGrey" id="GroupAttack"></td></tr><tr><td>Group Attack w/ buffs:</td><td id="GroupAttackBuffed"></td></tr><tr><td>Raw Group Defense:</td><td class="fshGrey" id="GroupDefense"></td></tr><tr><td>Group Defense w/ buffs:</td><td id="GroupDefenseBuffed"></td></tr><tr><td>Raw Group Armor:</td><td class="fshGrey" id="GroupArmor"></td></tr><tr><td>Group Armor w/ buffs:</td><td id="GroupArmorBuffed"></td></tr><tr><td>Raw Group Damage:</td><td class="fshGrey" id="GroupDamage"></td></tr><tr><td>Group Damage w/ buffs:</td><td id="GroupDamageBuffed"></td></tr><tr><td>Raw Group HP:</td><td class="fshGrey" id="GroupHP"></td></tr><tr><td>Group HP w/ buffs:</td><td id="GroupHPBuffed"></td></tr></tbody></table>',ui='<table class="relicT relicS"><thead><tr><th colspan="2">Defending Guild Stats</th></tr></thead><tbody><tr><td>Relic Count:</td><td id="relicCount">0</td></tr><tr><td>Lead Defender Bonus:</td><td id="LDPercentage">0</td></tr><tr><td>Lead Defender Cloaked:</td><td id="LDCloaked">No</td></tr></tbody><thead><tr><th colspan="2">Other Defender Stats</th></tr></thead><tbody><tr><td>Raw Attack:</td><td class="fshGrey" id="attackValue">0</td></tr><tr><td>Attack w/ buffs:</td><td id="attackValueBuffed">0</td></tr><tr><td>Raw Defense:</td><td class="fshGrey" id="defenseValue">0</td></tr><tr><td>Defense w/buffs:</td><td id="defenseValueBuffed">0</td></tr><tr><td>Raw Armor:</td><td class="fshGrey" id="armorValue">0</td></tr><tr><td>Armor w/ buffs:</td><td id="armorValueBuffed">0</td></tr><tr><td>Raw Damage:</td><td class="fshGrey" id="damageValue">0</td></tr><tr><td>Damage w/ buffs:</td><td id="damageValueBuffed">0</td></tr><tr><td>Raw HP:</td><td class="fshGrey" id="hpValue">0</td></tr><tr><td>HP w/ buffs:</td><td id="hpValueBuffed">0</td></tr><tr><td>Cloaked:</td><td id="defendersCloaked">0</td></tr><tr><td>Processed:</td><td id="defendersProcessed">0</td></tr></tbody></table>',mi='<table class="relicT"><thead><tr><th colspan="2">Processing</th></tr></thead><tbody><tr><td class="fshGreen" colspan="2" id="ProcessingStatus">Parsing defending guild stats ...</td></tr></tbody><thead><tr><th colspan="2">Assumptions</th></tr></thead><tbody><tr><td colspan="2" class="fshGrey">Above calculations include Constitution, Fortitude, Nightmare Visage, Chi Strike, Sanctuary, Terrorize and Flinch bonus calculations (in that order) on both the defending group and attacking group.</td></tr></tbody></table>';var O,Se,Ae,be;function Fs(e){return e.player_name}function _s(e){be=e.defenders.map(Fs)}function Os(){O?E("",O):O=c({className:"body"})}function Ks(e){Se=c({className:"fshFloatLeft fshRelicLeftDiv"}),a(O,Se),e.is_owner&&a(Se,Ma(be)),Ae=j({className:"custombutton",textContent:"Fetch Stats"}),a(Se,Ae)}function ci(e){_s(e),Os(),Ks(e);let t=i("dialog-relic");a(t,O)}var N,di,pi,Ur,zr,jr,Qr,Nt,Yr,Jr,Xr,Zr,eo,to,ro,oo,no,ao,io,lo,so,fo,uo,mo,co,po,ho,go,vo,yo,X,qs=[e=>e!=="lastUpdate",e=>!be.includes(e),e=>N[e].last_login,e=>Number(N[e].last_login)<di,e=>Number(N[e].last_login)>pi,e=>N[e].level<400||N[e].level>421,e=>N[e].level<441||N[e].level>450];function Ws(e,t){return t(e)}function Us(e){return qs.every(m(Ws,e))}function zs(e){return`<a href="${Bn}${N[e].id}">${e}</a>`}function js(e){N=e,di=nr-120,pi=nr-604800;let t=Xn(N).filter(Us).map(zs);re(O,`<div class="fshFloatLeft fshRelicLowDiv"><table class="relicT"><thead><tr><th>${t.length.toString()} Offline guild members not at relic:</th></tr></thead><tbody><tr><td>${t.join(" ")}</td></tr></tbody></table></div>`)}function Qs(){Ur=i("relicCount"),zr=i("LDPercentage"),jr=i("LDCloaked"),Qr=i("attackValue"),Nt=i("attackValueBuffed"),Yr=i("defenseValue"),Jr=i("defenseValueBuffed"),Xr=i("armorValue"),Zr=i("armorValueBuffed"),eo=i("damageValue"),to=i("damageValueBuffed"),ro=i("hpValue"),oo=i("hpValueBuffed"),no=i("defendersCloaked"),ao=i("defendersProcessed")}function Ys(){io=i("DC225"),lo=i("DC175"),so=i("GroupAttack"),fo=i("GroupAttackBuffed"),uo=i("GroupDefense"),mo=i("GroupDefenseBuffed"),co=i("GroupArmor"),po=i("GroupArmorBuffed"),ho=i("GroupDamage"),go=i("GroupDamageBuffed"),vo=i("GroupHP"),yo=i("GroupHPBuffed")}function hi(e){wt(Ae);let t=g("hideRelicOffline");e.is_owner&&!t&&Ta(!0).then(js),re(Se,mi),X=i("ProcessingStatus");let r=c({className:"fshFloatLeft fshRelicMidDiv",innerHTML:ui});a(O,r),Qs();let o=c({className:"fshFloatLeft fshRelicRightDiv",innerHTML:fi});a(O,o),Ys()}var Gt;function Js(e){return e===1?1.5:ve(1-e/10,2)}function gi(e){let t=z(e),o=Yn('#pCC img[src*="/relics/"]',t).length;s(o,Ur),Gt=Js(o),s(`${String(Gt*100)}%`,zr)}function It(e,t){return e>t*10||e<t?e:t*10}function Xs(e){e.attackValue=It(e.attackBonus,e.levelValue),e.defenseValue=It(e.defenseBonus,e.levelValue),e.armorValue=It(e.armorBonus,e.levelValue),e.damageValue=It(e.damageBonus,e.levelValue),e.hpValue=e.hpBonus}var Zs=[["levelValue","level"],["attackValue","attack"],["attackBonus","bonus_attack"],["defenseValue","defense"],["defenseBonus","bonus_defense"],["armorValue","armor"],["armorBonus","bonus_armor"],["damageValue","damage"],["damageBonus","bonus_damage"],["hpValue","hp"],["hpBonus","bonus_hp"],["killStreakValue","killstreak"]];function ef(e,t,r){e[r[0]]=Number(t[r[1]])}function tf(e,t){Zs.forEach(m(ef,e,t))}var rf=[["counterAttackLevel","Counter Attack"],["doublerLevel","Doubler"],["deathDealerLevel","Death Dealer"],["darkCurseLevel","Dark Curse"],["holyFlameLevel","Holy Flame"],["constitutionLevel","Constitution"],["sanctuaryLevel","Sanctuary"],["flinchLevel","Flinch"],["nightmareVisageLevel","Nightmare Visage"],["superEliteSlayerLevel","Super Elite Slayer"],["fortitudeLevel","Fortitude"],["chiStrikeLevel","Chi Strike"],["terrorizeLevel","Terrorize"],["barricadeLevel","Barricade"],["reignOfTerrorLevel","Reign Of Terror"],["anchoredLevel","Anchored"],["severeConditionLevel","Severe Condition"],["entrenchLevel","Entrench"],["cloakLevel","Cloak"]];function of(e,t,r){e[r[0]]=t[r[1]]||0}function nf(e,t){rf.forEach(m(of,e,t))}function Le(e){if(!e)return;let t=At(e._skills),r={};return tf(r,e),nf(r,t),r.superEliteSlayerMultiplier=ve(.002*r.superEliteSlayerLevel,2),Jn(r.armorValue)&&Xs(r),r}var Te,$t,qe,Me,We,Rt,Ue,xo,Do,B,v,ce;function af(){v.attack-=ce.attack,v.defense-=ce.defense,v.armor-=ce.armor,v.damage-=ce.damage,v.hp-=ce.hp}function ze(e){return Math.round(e*Gt)}function lf(){Te+=ze(B.attackValue),qe+=ze(B.defenseValue),Me+=ze(B.armorValue),We+=ze(B.damageValue),Ue+=ze(B.hpValue)}function vi(){d(Te,Qr),d(qe,Yr),d(Me,Xr),d(We,eo),d(Ue,ro),s(xo,no),Do+=1,s(Do,ao)}function sf(){d(v.attack,so),d(v.defense,uo),d(v.armor,co),d(v.damage,ho),d(v.hp,vo)}function ff(e){return Math.ceil(v.attack*(W(e["Nightmare Visage"],0)*.0025))}function uf(){let e=Math.ceil(v.attack*B.flinchLevel*.001);d(v.attack-e,fo)}function mf(e){return Math.ceil(v.defense*(1+W(e.Constitution,0)*.001))}function cf(e,t){d(t+e,mo)}function df(e){d(v.armor+Math.floor(v.armor*W(e.Sanctuary,0)*.001),po)}function pf(e,t){return Math.ceil(t*W(e.Fortitude,0)*.001)}function hf(e){d(v.hp+e,yo)}function gf(e,t){let r=Math.ceil((v.hp+t)*W(e["Chi Strike"],0)*.001),o=Math.ceil(v.damage*B.terrorizeLevel*.001);d(v.damage+r-o,go)}function vf(e){let t=ff(e);v.attack-=t,uf();let r=mf(e);cf(t,r),df(e);let o=pf(e,r);hf(o),gf(e,o)}function yf(e){let t=Math.ceil($t*W(e.Flinch,0)*.001);d($t-t,Nt)}function xf(e){let t=Math.ceil(Rt*W(e.Terrorize,0)*.001);d(Rt-t,to)}function Df(){s("Processing attacking group stats ... ",X),ce&&af(),sf();let e=At(GameData.player().buffs);vf(e),yf(e),xf(e),s("Done.",X)}function kf(){return Math.ceil(Te*(B.nightmareVisageLevel*.0025))}function wf(){return Math.ceil(qe*(1+B.constitutionLevel*.001))}function Ef(e){$t=Te-e,d($t,Nt)}function yi(e){return 1-e*mt}function Cf(e,t){let r=t+e;d(r,Jr),d(Math.ceil(r*yi(225)),io),d(Math.ceil(r*yi(175)),lo)}function Bf(){d(Me+Math.floor(Me*B.sanctuaryLevel*.001),Zr)}function Sf(e){return Math.ceil(e*B.fortitudeLevel*.001)}function Af(e){Rt=We+Math.ceil(e*B.chiStrikeLevel*.001),d(Rt)}function bf(){B.cloakLevel!==0&&s("Yes",jr)}function xi(){s("Processing defending guild stats ... ",X),lf(),vi();let e=kf();Ef(e);let t=wf();Cf(e,t),Bf();let r=Ue+Sf(t);d(r,oo),Af(r),bf(),GameData.player().hasGroup&&v?Df():s("Done.",X)}function Di(e){let t=Le(e);Te+=Math.round(t.attackValue*pe),qe+=Math.round(t.defenseValue*pe),Me+=Math.round(t.armorValue*pe),We+=Math.round(t.damageValue*pe),Ue+=Math.round(t.hpValue*pe),t.cloakLevel!==0&&(xo+=1),vi()}function ki(e){B=Le(e)}function wi(e){v=e}function Ei(e){ce=e}function Ci(){Te=0,qe=0,Me=0,We=0,Ue=0,xo=0,Do=0}var je;function Lf(e){s(e.message,X)}function Tf(e){return e.parentNode.parentNode.previousElementSibling.previousElementSibling.innerHTML.indexOf('"#000099"')!==-1}function Mf(e){let t=e.previousElementSibling.href,r=[Va(t).then(wi)];return Tf(e)&&r.push(Na().then(Ei)),r}function Hf(e){let t=z(e),r=De('#pCC a[href*="confirmDisband"]',t);if(!r)return;let o=Mf(r);return ya(o)}function Vf(){return ne({cmd:"guild",subcmd:"groups"}).then(Hf)}function Nf(){return ne({cmd:"guild",subcmd:"view",guild_id:je.controlled_by.guild_id}).then(gi)}function Gf(e,t){return t===0?fr(e).then(ki):fr(e).then(Di).catch(Lf)}function If(){return be.map(Gf)}function $f(){let e=[Nf()];return GameData.player().hasGroup&&e.push(Vf()),e=e.concat(If()),e}function Rf(){hi(je),Ci();let e=$f();Bt(e,xi)}function Pf(e,t){_(t)||(je=t.response.data,je.defenders.length>0&&(ci(je),Cn(Ae,"click",Rf)))}function ko(){$.subscribe(In,Pf)}function Qe(e){return na({cache:!1,url:"fetchdata.php",data:sa(e,{fshrnd:La()}),dataType:"json"})}var Bi=[];function Ff(e){return _(e)||Bi.push(e),e}function _f(e,t){return e===Number(t.response.data.id)}function Of(e,t){e(t)}function Kf(e){return new Promise(t=>{zn(3,Of,[t,e])})}function Ye(e,t){let r=Bi.find(m(_f,e));return r?Kf(r):Qe({a:1,id:e,passback:t}).then(Ff)}var Pt,wo,Eo,Co,Bo,So;function Je(e,t){return ra(ke(t,e))}function qf(e){Eo=Je(e,_n),wo=Je(e,Fn),Bo=Je(e,Kn),Co=Je(e,On),So=Je(e,qn)}function Si(){Pt=GameData.player().level,qf(i("statbar-character-tooltip-stats"))}function Wf(e){return`<table><tr><td><img src="${te}creatures/${e.image_id}.png" height="200" width="200"></td><td rowspan="2"><table width="400"><tr><td class="header" colspan="4" class="fshCenter">Statistics</td></tr>`}function Uf(e,t){return`<tr><td>Class:&nbsp;</td><td width="40%">${e.creature_class}</td><td>Level:&nbsp;</td><td width="40%">${e.level} (your level:<span class="${t}">${Pt}</span>)</td></tr>`}function zf(e){return`<tr><td>Attack:&nbsp;</td><td width="40%">${e.attack} (your defense:<span class="fshYellow">${wo}</span>)</td><td>Defense:&nbsp;</td><td width="40%">${e.defense} (your attack:<span class="fshYellow">${Eo}</span>)</td></tr>`}function jf(e){return`<tr><td>Armor:&nbsp;</td><td width="40%">${e.armor} (your damage:<span class="fshYellow">${Co}</span>)</td><td>Damage:&nbsp;</td><td width="40%">${e.damage} (your armor:<span class="fshYellow">${Bo}</span>)</td></tr>`}function Qf(e,t){return`<tr><td>HP:&nbsp;</td><td width="40%">${e.hp} (your HP:<span class="fshYellow">${So}</span>)(1H: <span class="fshRed">${t}</span>)</td><td>Gold:&nbsp;</td><td width="40%">${e.gold}</td></tr>`}var Yf='<tr><td colspan="4" height="5"></td></tr><tr><td class="header" colspan="4" class="fshCenter">Enhancements</td></tr>';function Jf(e){return`<tr><td colspan="2">${e.name}:</td><td colspan="2">${e.value}</td></tr>`}function Xf(e){return e.enhancements.length===0?'<tr><td colspan="4">[no enhancements]</td></tr>':e.enhancements.map(Jf).join("")}function Zf(e){return`<tr><td colspan="4" height="5"></td></tr><tr><td class="header" colspan="4" class="fshCenter">Description</td></tr><tr><td colspan="4">${e.description}</td></tr><tr><td colspan="4" height="5"></td></tr></table></td></tr><tr><td class="fshCenter"><b>${e.name}</b></td></tr></table>`}function eu(e,t,r){return Wf(e)+Uf(e,r)+zf(e)+jf(e)+Qf(e,t)+Yf+Xf(e)+Zf(e)}function tu(e){let t=Math.ceil(e.hp*n.hpVariable+e.armor*n.generalVariable),r="fshYellow";return Si(),Pt>e.level&&(r="fshRed"),eu(e,t,r)}function Ao(e){if(!_(e))return tu(e.response.data)}var ru=["verb","view","tip-static"];function ou(e,t){$(e).qtip({overwrite:!0,show:{event:"mouseover",ready:!0},style:{classes:"qtip-tipsy qtip-custom"},position:{my:"center right",at:"center left",effect:!1,viewport:$(window)},content:{text:t},hide:{effect:!1}})}function nu(e){return pt(e.parentNode.children).indexOf(e)}function au(e,t){let r=Ao(t);e.set("content.text",r)}function iu(e,t,r){return Ye(GameData.actions()[e].data.id,e).then(m(au,r)),"Loading..."}function lu(e,t){xe("NewMap","CreatureInfo");let r=nu(t);e.classList.add("fshTip"),ou(e,m(iu,r))}function su(e,t){return Da(ru,e)&&!_e("fshTip",e)&&_e("creature",t)}function fu(e){if(!n.showCreatureInfo)return;let{target:t}=e,r=t.parentNode.parentNode.parentNode;su(t,r)&&lu(t,r)}function bo(){G(i("actionList"),"mouseover",fu)}var M;function uu(e,t){t.creature_class=e.creature_class,t.image_id=e.image_id,t.level=Number(e.level),t.type=e.type}function mu(e){M[e.name]?M[e.name].seen&&(M[e.name].seen+=1):(M[e.name]={seen:1},uu(e,M[e.name]))}function Ai(e,t,r){return t?e(t,r):r}function bi(e,t){let r=e||{};return r.min=Ai(Math.min,r.min,t),r.max=Ai(Math.max,r.max,t),r}var cu=["attack","armor","damage","defense","hp"];function du(e,t){return!e||e.min!==t.min||e.max!==t.max}function pu(e,t,r){let o=bi(t[r],Number(e[r]));du(t[r],o)&&(t[r]=o)}function hu(e,t){cu.forEach(m(pu,e,t))}function gu(e){return e.enhancements&&e.enhancements.length>0}function vu(e,t){e[t.name]=bi(e[t.name],Number(t.value))}function yu(e,t){gu(e)&&(t.enhancements=t.enhancements||{},e.enhancements.forEach(m(vu,t.enhancements)))}function xu(e){M||(M={}),mu(e),hu(e,M[e.name]),yu(e,M[e.name]),Dt("fsh_monsterLog",M)}function Li(e){n.showMonsterLog&&xu(e)}function Du(e){M=e||{}}function Ti(){xt("fsh_monsterLog").then(Du)}var Mi=[];function ku(e){_(e)||(xe("NewMap","MonsterLog"),Li(e.response.data))}function wu(e,t){return e.id===t.id}function Eu(e){if(Mi.find(m(wu,e.data)))return!0;Mi.push(e.data)}function Cu(e,t){e.type!==6||Eu(e)||Ye(e.data.id,t).then(ku)}function Hi(){n.showMonsterLog&&GameData.actions().forEach(Cu)}function Lo(){Ti(),$.subscribe("-1-success.action-response 4-success.action-response 5-success.action-response 25-success.action-response",Hi),Hi()}function To(){return wa({subcmd:"scouttower"})}function Bu(e){let t=e.split(/[: /[]/);return new Date(Number(t[4]),lt.indexOf(t[3]),Number(t[2]),Number(t[0]),Number(t[1]))}function Su(e){let t=oe(e[1]);return t==="No active cooldown"?0:Math.ceil((Bu(t.slice(16))-dt)/1e3)}function Au(e){let t=e[0].cells[0].children[0];return{base_id:Number(t.src.match(/s\/(\w+)\.p/)[1].slice(0,-32)),name:t.title}}function bu(e){return{cooldown:Su(e),creature:Au(e),kills:Number(oe(e[0].cells[3]))}}function Lu(e){let t=oe(e[0].cells[1]);if(t!=="n/a"){let r=oe(e[0].cells[2]).split("/");return{realm:t,current_hp:Number(r[0]),max_hp:Number(r[1])}}}function Tu(e){let t=e[2].cells[0].children;if(t.length===1)return{contributors:aa(t[0].rows,3,0).map(o=>({kills:Number(oe(o.cells[1])),player:{name:oe(o.cells[0])}}))}}function Mu(e){return{...bu(e),...Lu(e),...Tu(e)}}function Hu(e){let t=z(e),r=De('table[width="500"]',t);if(!r)return{s:!1};let o=pt(r.rows).filter((f,u,A)=>u!==0&&u<A.length-1&&(u-1)%6<3);return{r:xa(3,o).map(Mu),s:!0}}function Mo(){return ne({cmd:"guild",subcmd:"scouttower"}).then(Hu)}function Ho(){return we(To,Mo)}function Vu(e,[t,r,o]){let l=e.insertCell(-1);return l.colSpan=t,o&&(l.className="header"),a(l,r),l}function Nu(e,t){t.forEach(m(Vu,e))}function Gu(e,t,r){let o=e.insertRow(-1);return r&&(o.className="fshBlue"),Nu(o,t),o}function Iu(e,t){Gu(e,t[0],t[1])}function Xe(e,t){t.forEach(m(Iu,e))}var Vo;function Vi(e){Vo=e}var No,Go,Io,$o,Ro,Po,Fo,_o;function $u(){No=D("Current"),Go=D("Kills"),Io=D("Member"),$o=D("% of Total")}function Ru(){Ro=D("Status"),Po=D("Titan HP"),Fo=D("Total"),_o=D("Your Guild")}function Ni(){$u(),Ru()}var He,Ve,Ne,Ge,Ie,$e,Re;function Gi(){He=p(),Ve=p(),Ne=p(),Ge=p(),Ie=p(),$e=p(),Re=p()}function Ii(){s("",He),s("",Ve),s("",Ne),s("",Ge),s("",Ie),E("",$e),E("",Re)}var Z;function Ft(){for(;Z.rows.length>7;)Z.deleteRow(7)}function Pu(){let e=p();return a(e,He),R(e,"/"),a(e,Ve),e}function $i(e){let t=p();return a(t,e),R(t,"%"),t}function Ri(){Z=ia({className:"fshCenter"}),Ni(),Xe(Z,[[[[2,Po,!0],[4,_o,!0]]],[[[2,Pu()],[4,Ne]]],[[[2,No,!0],[4,$i(Ge)]],!0],[[[2,Fo,!0],[4,$i(Ie)]],!0],[[[2,Ro,!0],[4,$e]],!0],[[[6,Re]]],[[[2,Io,!0],[2,Go,!0],[2,$o,!0]]]])}var ee,_t;function Oo(){_t=null,ee&&!_e("fshHide",ee)&&(h(ee,!0),Ii(),Ft())}function Pi(e){return e.type===0?(_t=e.base_creature_id,!0):!1}function Fi(){if(ee)h(ee,!1);else{let e=i("actionContainer");ee=c({className:"fshActionBox titanInfo"}),Gi(),Ri(),a(ee,Z),a(e,ee)}}function Fu(e){let t=new Date(dt+e*1e3);return`${kt(t.getHours())}:${kt(t.getMinutes())} ${kt(t.getDate())}/${lt[t.getMonth()]}/${t.getFullYear()}`}function _u(e){return e<=0?'<span class="fshGreen cooldown">No active cooldown</span>':`<span class="fshMaroon cooldown">Cooldown until: ${Fu(e)}</span>`}function Ou(e){return gt(Ia(e.max_hp-e.current_hp,e.kills),2)}function Ku(e){return gt(e.kills*100/e.max_hp,2)}function qu(e){return $a(e.kills,e.max_hp,e.current_hp)}function Wu(e){e.forEach(([t,r])=>{s(t,r)})}function Uu(e){Wu([[e.current_hp,He],[e.max_hp,Ve],[e.kills,Ne],[Ou(e),Ge],[Ku(e),Ie]]),E(qu(e),$e),E(_u(e.cooldown),Re)}function zu(e,t){return[[[2,D(t.player.name)],[2,D(t.kills.toString())],[2,D(`${gt(t.kills*100/e.kills,2)}%`)]]]}function ju(e){if(Ft(),!e.contributors)return;let t=e.contributors.map(m(zu,e));Xe(Z,t)}function Qu(e){return e.realm&&e.creature.base_id===_t&&e.realm===Vo}function Ko(e){let t=e.find(Qu);t&&(Uu(t),ju(t))}var Ot;function Yu(){Ot&&(window.clearTimeout(Ot),Ot=null)}function Ju(e){return e&&e.s&&I(e.r)}function _i(e){return n.showTitanInfo&&I(e)&&e.some(Pi)}function Xu(e,t){!Ju(t)||(Ko(t.r),_i(GameData.realm().dynamic)?Ot=window.setTimeout(e,3e4):Oo())}function Oi(){Ho().then(m(Xu,Oi))}function Ki(e){Yu(),_i(e)?(Fi(),Oi()):Oo()}function qi(e){e.dynamic&&(Vi(e.name),Ki(e.dynamic))}function Wi(){n.showTitanInfo=!n.showTitanInfo,y("showTitanInfo",n.showTitanInfo),Ki(GameData.realm().dynamic)}function Zu(e){return e.realm&&e.realm.name}function Ui(e,t){Zu(t)&&qi(t.realm)}function qo(){window.initialGameData&&Ui(null,window.initialGameData),$.subscribe(`${Nn} ${$n}`,Ui)}var Wo;function zi(e){$("#statbar-gold").css("background-color",e)}function ji(){$("#HelperSendTotal").html(U(g("currentGoldSentTotal"))),Number(GameData.player().gold)>Wo?zi("red"):zi("inherit")}function em(){return`<dt class="stat-gold-sendTo">Send To:</dt><dd id="HelperSendTo">${g("goldRecipient")}</dd><dt class="stat-gold-sendAmt">Amount:</dt><dd id="HelperSendAmt">${U(Wo)}</dd><dt class="stat-gold-sendTo">Send?</dt><dd><input id="HelperSendGold" value="Send!" class="custombutton" type="submit"><input type="hidden" id="xc" value=""</dd><dt class="stat-gold-sendTotal">Total Sent:</dt><dd id="HelperSendTotal">${U(g("currentGoldSentTotal"))}</dd>`}function tm(){Wo=g("goldAmount"),$("#statbar-gold-tooltip-general").append(em()),$("#HelperSendGold").on("click",ba),ji(),$.subscribe(Tn,ji)}function Uo(){Aa(),Sa&&tm()}var Ze,et,Kt,Pe,zo,jo,qt;function rm(){return Qe({a:14,d:0,id:Ze.id,item_id:Ze.itemId})}function om(e){let t=e.response.response,r=e.response.msg,o;if(t!==0){let l=r.indexOf("<");l!==-1?o=r.substring(0,l):o=r}else o=`You purchased ${e.response.data.name} for ${U(e.response.data.cost)} gold.`;re(qt,`${o}<br>`)}function nm(){GameData.doAction(14,3,{id:Ze.id,item_id:Ze.itemId},0),Kt.close()}function am(){let e=Zn(zo.value);if(!e)return;let t=[];for(let r=1;r<e;r+=1)t.push(rm().then(om));Bt(t,nm)}function im(){Pe=c({className:"fshClear",textContent:"Select how many to quick-buy:"}),zo=vt({id:"buyAmount",className:"fshNumberInput",min:1,max:99,value:1,type:"number"}),a(Pe,zo),jo=j({textContent:"Quick-buy"}),C(jo,am),a(Pe,jo),qt=c(),a(Pe,qt),a(et,Pe)}function lm(){return et||i("shopDialogConfirm")}function sm(){return Kt||$(et).data("hcsWorldDialogShopConfirm")}function fm(){Pe?s("",qt):im()}function um(e,t){Ze=t,et=lm(),!!et&&(Kt=sm(),Kt&&fm())}function Qo(){$.subscribe(Mn,um)}function mm(e){let t=z(e),r=Ha(t);return{r:{attributes:[{value:r.attack},{value:r.defense},{value:r.armor},{value:r.damage},{value:r.hp}]}}}function Yo(e){return ne({cmd:"guild",subcmd:"groups",subcmd2:"viewstats",group_id:e}).then(mm)}function Jo(e){return Ca({subcmd2:"viewstats",group_id:e})}function Xo(e){return we(Jo,Yo,e)}function Qi(e){return e.numberOfCreatureHitsTillDead-e.numberOfHitsRequired<=1?", dies on miss":", survives a miss"}function cm(e){return e.numberOfHitsRequired==="-"||e.numberOfHitsRequired>e.numberOfCreatureHitsTillDead}function dm(e){return e.numberOfCreatureHitsTillDead==="-"?e.numberOfHitsRequired:cm(e)?"-":e.numberOfHitsRequired}function pm(e){return e.numberOfCreatureHitsTillDead==="-"||e.numberOfCreatureHitsTillDead>e.numberOfHitsRequired}function hm(e){return e.numberOfHitsRequired==="-"?e.numberOfCreatureHitsTillDead:pm(e)?"-":e.numberOfCreatureHitsTillDead}var gm=[[e=>e.playerHits==="-"&&e.creatureHits==="-",()=>"Unresolved"],[e=>e.playerHits==="-",()=>"Player dies"],[e=>e.playerHits===1,e=>`Player 1 hits${Qi(e)}`],[e=>e.playerHits>1,e=>`Player > 1 hits${Qi(e)}`]];function vm(e,t){return t[0](e)}function ym(e){let t=gm.find(m(vm,e));return t?t[1](e):"Unknown"}function Zo(e){e.playerHits=dm(e),e.creatureHits=hm(e),e.fightStatus=ym(e)}function xm(e){return e.callback.groupExists?e.callback.groupArmorValue:e.player.armorValue}function Dm(e){let t=xm(e);e.overallArmorValue=t+Math.floor(e.player.armorValue*e.player.sanctuaryLevel*.001)}function km(e){e.player.sanctuaryLevel>0&&(e.extraNotes+=`Sanc Bonus Armor = ${Math.floor(e.player.armorValue*e.player.sanctuaryLevel*.001)}<br>`)}function wm(e){e.terrorizeEffect=Math.floor(e.creature.damage*e.player.terrorizeLevel*.001)}function Em(e){e.player.terrorizeLevel>0&&(e.extraNotes+=`Terrorize Creature Damage Effect = ${e.terrorizeEffect*-1}<br>`)}function Cm(e){e.creatureDamageDone=Math.ceil(e.generalVariable*e.creature.damage-e.overallArmorValue+e.overallHPValue)}function Bm(e){let t=e.generalVariable*e.creature.damage;t<e.overallArmorValue?e.numberOfCreatureHitsTillDead=e.overallHPValue:e.numberOfCreatureHitsTillDead=Math.ceil(e.overallHPValue/(t-e.overallArmorValue))}function Sm(e){e.creatureHitByHowMuch>=0?Bm(e):e.numberOfCreatureHitsTillDead="-"}function en(e){Dm(e),km(e),wm(e),Em(e),e.creature.damage-=e.terrorizeEffect,Cm(e),Sm(e)}function Am(e){return e.callback.groupExists?e.callback.groupAttackValue:e.player.attackValue}function Yi(e){return Math.floor(e.creature.defense*e.player.darkCurseLevel*mt)}function bm(e){let t=e.creature.defense-Yi(e);return e.combatEvaluatorBias===3?e.overallAttackValue-Math.ceil(t)-50:e.overallAttackValue-Math.ceil(e.attackVariable*t)}function tn(e){let t=Am(e);e.player.darkCurseLevel>0&&(e.extraNotes+=`DC Bonus Attack = ${Yi(e)}<br>`),e.nightmareVisageAttackMovedToDefense=Math.floor((t+e.counterAttackBonusAttack)*e.player.nightmareVisageLevel*.0025),e.player.nightmareVisageLevel>0&&(e.extraNotes+=`NMV Attack moved to Defense = ${e.nightmareVisageAttackMovedToDefense}<br>`),e.overallAttackValue=t+e.counterAttackBonusAttack-e.nightmareVisageAttackMovedToDefense,e.hitByHowMuch=bm(e)}function Lm(e){return e.player.counterAttackLevel>0&&e.numberOfHitsRequired===1}function Ji(e){e.lowestCALevelToStillHit=Math.max(Math.ceil((e.counterAttackBonusAttack-e.hitByHowMuch+1)/e.player.attackValue/.0025),0),e.lowestCALevelToStillKill=Math.max(Math.ceil((e.counterAttackBonusDamage-e.damageDone+1)/e.player.damageValue/.0025),0)}function Tm(e){return e.player.counterAttackLevel>0?Math.ceil((1+e.player.doublerLevel/50)*.0025*e.lowestFeasibleCALevel):0}function Mm(e){e.extraAttackAtLowestFeasibleCALevel=Math.floor(e.player.attackValue*.0025*e.lowestFeasibleCALevel),e.extraDamageAtLowestFeasibleCALevel=Math.floor(e.player.damageValue*.0025*e.lowestFeasibleCALevel),e.extraNotes+=`Extra CA Att/Dam at this lowered CA level = ${e.extraAttackAtLowestFeasibleCALevel} / ${e.extraDamageAtLowestFeasibleCALevel}<br>`}function Hm(e){Ji(e),e.lowestFeasibleCALevel=Math.max(e.lowestCALevelToStillHit,e.lowestCALevelToStillKill),e.extraNotes+=`Lowest CA to still 1-hit this creature = ${e.lowestFeasibleCALevel}<br>`,e.lowestFeasibleCALevel!==0&&Mm(e),e.extraStaminaPerHitAtLowestFeasibleCALevel=Tm(e),e.extraStaminaPerHitAtLowestFeasibleCALevel<e.extraStaminaPerHit?e.extraNotes+=`Extra Stam Used at this lowered CA level = ${e.extraStaminaPerHitAtLowestFeasibleCALevel}<br>`:e.extraNotes+="No reduction of stam used at the lower CA level<br>"}function Vm(e){return e.numberOfHitsRequired==="-"||e.numberOfHitsRequired!==1}function Nm(e){e.lowestCALevelToStillHit>175?e.extraNotes+="Even with CA175 you cannot hit this creature<br>":e.lowestCALevelToStillHit!==0&&(e.extraNotes+=`You need a minimum of CA${e.lowestCALevelToStillHit} to hit this creature<br>`)}function Gm(e){e.lowestCALevelToStillKill>175?e.extraNotes+="Even with CA175 you cannot 1-hit kill this creature<br>":e.lowestCALevelToStillKill!==0&&(e.extraNotes+=`You need a minimum of CA${e.lowestCALevelToStillKill} to 1-hit kill this creature<br>`)}function Im(e){Ji(e),Nm(e),Gm(e)}function rn(e){Lm(e)&&Hm(e),Vm(e)&&Im(e)}function $m(e){return e.callback.groupExists?e.callback.groupHPValue:e.player.hpValue}function Rm(e){return e.callback.groupExists?e.callback.groupDamageValue:e.player.damageValue}function Pm(e){let t=$m(e),{fortitudeLevel:r}=e.player;e.fortitudeExtraHPs=Math.floor(t*r*.001),r>0&&(e.extraNotes+=`Fortitude Bonus HP = ${e.fortitudeExtraHPs}<br>`),e.overallHPValue=t+e.fortitudeExtraHPs}function Fm(e){let{chiStrikeLevel:t}=e.player;e.chiStrikeExtraDamage=Math.floor(e.overallHPValue*t*.001),t>0&&(e.extraNotes+=`Chi Strike Bonus Damage = ${e.chiStrikeExtraDamage}<br>`)}function on(e){Pm(e),Fm(e);let t=Rm(e);if(e.overallDamageValue=t+e.deathDealerBonusDamage+e.counterAttackBonusDamage+e.holyFlameBonusDamage+e.chiStrikeExtraDamage,e.damageDone=Math.floor(e.overallDamageValue-(e.generalVariable*e.creature.armor+e.hpVariable*e.creature.hp)),e.hitByHowMuch>0){let r=1;e.overallDamageValue>=e.generalVariable*e.creature.armor&&(r=e.overallDamageValue-e.generalVariable*e.creature.armor),e.numberOfHitsRequired=Math.ceil(e.hpVariable*e.creature.hp/r)}else e.numberOfHitsRequired="-"}function nn(e){return e.callback.groupExists?e.callback.groupDefenseValue:e.player.defenseValue}function _m(e){e.player.constitutionLevel>0&&(e.extraNotes+=`Constitution Bonus Defense = ${Math.floor(nn(e)*e.player.constitutionLevel*.001)}<br>`)}function Om(e){e.player.flinchLevel>0&&(e.extraNotes+=`Flinch Bonus Attack Reduction = ${Math.floor(e.creature.attack*e.player.flinchLevel*.001)}<br>`)}function an(e){e.overallDefenseValue=nn(e)+Math.floor(nn(e)*e.player.constitutionLevel*.001)+e.nightmareVisageAttackMovedToDefense,_m(e),Om(e),e.creatureHitByHowMuch=Math.floor(e.attackVariable*e.creature.attack-e.creature.attack*e.player.flinchLevel*.001-e.overallDefenseValue),e.combatEvaluatorBias===3&&(e.creatureHitByHowMuch=Math.floor(e.creature.attack-e.creature.attack*e.player.flinchLevel*.001-e.overallDefenseValue-50))}function Km(e){e.player.superEliteSlayerLevel>0&&(e.extraNotes+=`SES Stat Reduction Multiplier = ${e.player.superEliteSlayerMultiplier}<br>`)}function qm(e){e.holyFlameBonusDamage=0,e.creature.class==="Undead"&&(e.holyFlameBonusDamage=Math.max(Math.floor((e.player.damageValue-e.creature.armor)*e.player.holyFlameLevel*.002),0),e.player.holyFlameLevel>0&&(e.extraNotes+=`HF Bonus Damage = ${e.holyFlameBonusDamage}<br>`))}function Wm(e){e.deathDealerBonusDamage=Math.floor(e.player.damageValue*(Math.min(Math.floor(e.player.killStreakValue/5)*.01*e.player.deathDealerLevel,20)/100))}function Um(e){e.counterAttackBonusAttack=Math.floor(e.player.attackValue*.0025*e.player.counterAttackLevel),e.counterAttackBonusDamage=Math.floor(e.player.damageValue*.0025*e.player.counterAttackLevel)}function zm(e){e.extraStaminaPerHit=0,e.player.counterAttackLevel>0&&(e.extraStaminaPerHit=Math.ceil((1+e.player.doublerLevel/50)*.0025*e.player.counterAttackLevel))}function jm(e){e.player.deathDealerLevel>0&&(e.extraNotes+=`DD Bonus Damage = ${e.deathDealerBonusDamage}<br>`)}function Qm(e){e.player.counterAttackLevel>0&&(e.extraNotes+=`CA Bonus Attack/Damage = ${e.counterAttackBonusAttack} / ${e.counterAttackBonusDamage}<br>CA Extra Stam Used = ${e.extraStaminaPerHit}<br>`)}function ln(e){e.extraNotes="",Km(e),qm(e),Wm(e),Um(e),zm(e),jm(e),Qm(e)}function Ym(e){return e.callback.groupExists?"Group ":""}function Jm(e){return`<tr><td bgcolor="#CD9E4B" colspan="4" align="center">${Ym(e)}Combat Evaluation</td></tr>`}function Xm(e){return e.hitByHowMuch>0?"Yes":"No"}function Zm(e){return`<tr><td align="right"><span style="color:#333333">Will I hit it? </td><td align="left">${Xm(e)}</td><td align="right"><span style="color:#333333">Extra Attack: </td><td align="left">( ${e.hitByHowMuch} )</td></tr>`}function ec(e){return`<tr><td align="right"><span style="color:#333333"># Hits to kill it? </td><td align="left">${e.numberOfHitsRequired}</td><td align="right"><span style="color:#333333">Extra Damage: </td><td align="left">( ${e.damageDone} )</td></tr>`}function tc(e){return e.creatureHitByHowMuch>=0?"Yes":"No"}function rc(e){return`<tr><td align="right"><span style="color:#333333">Will I be hit? </td><td align="left">${tc(e)}</td><td align="right"><span style="color:#333333">Extra Defense: </td><td align="left">( ${-1*e.creatureHitByHowMuch} )</td></tr>`}function oc(e){return`<tr><td align="right"><span style="color:#333333"># Hits to kill me? </td><td align="left">${e.numberOfCreatureHitsTillDead}</td><td align="right"><span style="color:#333333">Extra Armor + HP: </td><td align="left">( ${-1*e.creatureDamageDone} )</td></tr>`}function nc(e){return`<tr><td align="right"><span style="color:#333333"># Player Hits? </td><td align="left">${e.playerHits}</td><td align="right"><span style="color:#333333"># Creature Hits? </td><td align="left">${e.creatureHits}</td></tr>`}function ac(e){return`<tr><td align="right"><span style="color:#333333">Fight Status: </span></td><td align="left" colspan="3"><span>${e.fightStatus}</span></td></tr>`}function ic(e){return`<tr><td align="right"><span style="color:#333333">Notes: </span></td><td align="left" colspan="3"><span style="font-size:x-small;">${e.extraNotes}</span></td></tr>`}function sn(e){return`<table width="100%"><tbody>${Jm(e)}${Zm(e)}${ec(e)}${rc(e)}${oc(e)}${nc(e)}${ac(e)}${ic(e)}</tbody></table>`}var Wt,Ut,tt;function lc(e){if(!Wt){let t=ke("body",e);t.length===1&&([Wt]=t)}}function Xi(){return me(Ut)?"Remove from do not kill list":"Add to the do not kill list"}function Zi(){s(Xi(),tt)}function sc(){let e=n.doNotKillList.indexOf(Ut);e===-1?n.doNotKillList.push(Ut):n.doNotKillList.splice(e,1),Zi(),y("doNotKillList",n.doNotKillList.join()),Be()}function fc(){tt=j({className:"fshBl",textContent:Xi(),type:"button"});let e=c({className:"description",innerHTML:'<span class="ui-helper-hidden-accessible"><input type="text"></span>'});a(e,tt),a(Wt,e),C(tt,sc)}function uc(){tt?Zi():fc()}function fn(e,t){lc(t),Wt&&(Ut=ge(e),uc())}var Fe,rt,zt,jt;function mc(){Fe||(Fe=i("dialog-viewcreature"))}function cc(){rt||(rt=c(),a(Fe,rt),a(Fe,c({innerHTML:'<span class="fshFooter">*Does include CA, DD, HF, DC, Flinch, Super Elite Slayer, NMV, Sanctuary, Constitution, Fortitude, Chi Strike and Terrorize (if active) and allow for randomness (1.1053). Constitution, NMV, Fortitude and Chi Strike apply to group stats.</span>'})))}function el(){zt||(cc(),zt=c(),a(rt,zt))}function dc(){jt||(el(),jt=c(),a(rt,jt))}function tl(e){el(),E(e,zt)}function rl(e){dc(),E(e,jt)}function pc(e,t,r){r===3&&(t.attack-=Math.ceil(t.attack*e),t.defense-=Math.ceil(t.defense*e),t.armor-=Math.ceil(t.armor*e),t.damage-=Math.ceil(t.damage*e),t.hp-=Math.ceil(t.hp*e))}function hc(e,t){let r={name:e.name,class:e.creature_class,attack:Number(e.attack),defense:Number(e.defense),armor:Number(e.armor),damage:Number(e.damage),hp:Number(e.hp)};return pc(t,r,e.type),r}function gc(e){e.combatEvaluatorBias=n.combatEvaluatorBias,e.attackVariable=1.1053,e.generalVariable=n.generalVariable,e.hpVariable=n.hpVariable}function vc(e){ln(e),tn(e),on(e),an(e),en(e),Zo(e),rn(e)}function ol(e,t,r){let o={};o.callback=r,o.player=Le(t),gc(o),o.creature=hc(e.response.data,o.player.superEliteSlayerMultiplier),vc(o),o.evaluatorHTML=sn(o),r.groupExists?rl(o.evaluatorHTML):tl(o.evaluatorHTML)}function yc(e){return e.members[0].name===ye()}function xc(e){if(I(e.r))return e.r.find(yc).id}function Dc(e,t,r){if(!r.r||!r.r.attributes)return;let o=r.r.attributes;ol(e,t,{groupExists:!0,groupAttackValue:o[0].value,groupDefenseValue:o[1].value,groupArmorValue:o[2].value,groupDamageValue:o[3].value,groupHPValue:o[4].value})}function kc(e,t,r){r&&Xo(r).then(m(Dc,e,t))}function wc(e,t){Ba().then(xc).then(m(kc,e,t))}function Ec(e,t){e.player.hasGroup&&wc(e,t),ol(e,t,{groupExists:!1})}function Cc(e){return e.response&&e.response.data}function Bc(e,t){mc(),!!Fe&&(tl(""),rl(""),Cc(t)&&(fn(t.response.data.name,Fe),ka(!0).then(m(Ec,t))))}function un(){$.subscribe(Gn,Bc)}var Qt,mn;function Yt(){let e=[null,[n.buffs,n.buffsName],[n.buffs2,n.buffs2Name],[n.buffs3,n.buffs3Name]][n.enabledHuntingMode];I(e)&&([Qt,mn]=e)}function cn(e){e.target.name==="enabledHuntingMode"&&(n.enabledHuntingMode=e.target.value,y("enabledHuntingMode",n.enabledHuntingMode),Yt(),GameData.fetch(q))}var ot;function nl(){ot=!ot,y("hidePlayerActions",ot),GameData.fetch(T)}function Sc(e){let t=ke("verbs",e);t.length===1&&wt(t[0])}function al(){if(!ot)return;let e=i("actionList");St("player",e).forEach(Sc)}function il(){ot=g("hidePlayerActions"),$.subscribe(he,al),al()}function dn(){n.showCreatureInfo=!n.showCreatureInfo,y("showCreatureInfo",n.showCreatureInfo)}function pn(){n.showBuffs=!n.showBuffs,y("showHuntingBuffs",n.showBuffs),GameData.fetch(q)}function hn(){n.showMonsterLog=!n.showMonsterLog,y("showMonsterLog",n.showMonsterLog)}function gn(){n.hideSubLvlCreature=!n.hideSubLvlCreature,y("hideSubLvlCreature",n.hideSubLvlCreature),GameData.fetch(T)}function Ac(){return c({id:"fshWorldPrefs",innerHTML:`${ae("showCreatureInfo")}&nbsp;&nbsp;${ae("showMonsterLog")}&nbsp;&nbsp;${ae("showTitanInfo")}&nbsp;&nbsp;${ae("showBuffInfo")}<br>${ae("hideSubLvlCreature")}&nbsp;&nbsp;${ae("hidePlayerActions")}&nbsp;&nbsp;${Fa()}`})}var bc={hideSubLvlCreature:gn,hidePlayerActions:nl,showCreatureInfo:dn,showHuntingBuffs:pn,showMonsterLog:hn,showTitanInfo:Wi,showBuffInfo:Ua};function Lc(e){let t=bc[e.target.name];ct(t)&&(e.target.blur(),t(e))}function vn(){let e=c({className:"fshCenter fshFten"}),t=Ac();C(t,Lc),G(t,"change",cn),a(e,t);let r=c();a(e,r);let o=i("worldContainerBelow").children[0];return yt(e,o),r}function Tc(e,t){return e[t.name]=!0,e}function Mc(e,t,r){return e[ge(r)]||t.push(r),t}function Hc(e,t){E(`You are missing some ${mn} hunting buffs<br>(${t.join(", ")})`,e)}function ll(e){E("",e)}function Vc(e,t){let r=t.b.reduce(Tc,{}),o=Qt.reduce(m(Mc,r),[]);o.length>0?Hc(e,o):ll(e)}function Nc(e,t,r){n.showBuffs?Vc(e,r):ll(e)}function Gc(e,t,r){Qt&&Nc(e,t,r)}function yn(e){Yt();let t=m(Gc,e);$.subscribe(st,t),n.showBuffs&&window.initialGameData&&t(null,{b:window.initialGameData.player.buffs})}var Jt=[{generalVariable:1.1053,hpVariable:1.1},{generalVariable:1.1,hpVariable:1.053},{generalVariable:1.053,hpVariable:1},{generalVariable:1.1053,hpVariable:1}];function Ic(e){return Jt[e]?Jt[e].generalVariable:1.1053}function $c(e){return Jt[e]?Jt[e].hpVariable:1.1}function xn(){n.combatEvaluatorBias=g("combatEvaluatorBias"),n.generalVariable=Ic(n.combatEvaluatorBias),n.hpVariable=$c(n.combatEvaluatorBias)}function Rc(e){return!e||!e.actions||e.actions.length===0}function Pc(e,t){return t.type===6?t.data.creature_type!==0||t.data.level>=e:!0}function Fc(e){return e.realm&&e.realm.minlevel||GameData.realm().minlevel}function _c(e){let t=Un(e);return Rc(t)?e:(t.actions=t.actions.filter(m(Pc,Fc(t))),JSON.stringify(t))}function Oc(e){return e.data&&e.data.d&&Ga(e.data.d,T)}function Kc(e,t){n.hideSubLvlCreature&&Oc(t)&&(e.dataFilter=_c)}function Dn(){$.ajaxPrefilter("JSON",Kc),n.hideSubLvlCreature&&GameData.fetch(T)}function qc(e){n[e[0]]=lr(e[1])}function Wc(){[["buffs","huntingBuffs"],["buffs2","huntingBuffs2"],["buffs3","huntingBuffs3"]].forEach(qc)}function Uc(e){n[e]=lr(e)}function zc(){["doNotKillList"].forEach(Uc)}function jc(){Wc(),zc()}function Qc(e){n[e[0]]=g(e[1])}function Yc(){[["buffsName","huntingBuffsName"],["buffs2Name","huntingBuffs2Name"],["buffs3Name","huntingBuffs3Name"],["showBuffs","showHuntingBuffs"]].forEach(Qc)}function Jc(e){n[e]=g(e)}function Xc(){["enabledHuntingMode","hideSubLvlCreature","showTitanInfo","showBuffInfo","showMonsterLog","showCreatureInfo"].forEach(Jc)}function Zc(){Yc(),Xc()}function ed(){jc(),Zc()}function kn(){xn(),ed();let e=vn();Dn(),yn(e),il()}function sl(e){$(`#actionList li.creature-${e.toString()} a.create-group`).hide()}function td(e){$.subscribe(he,m(sl,e))}var rd=["hideChampionsGroup","hideElitesGroup","hideSEGroup","hideTitanGroup","hideLegendaryGroup"];function od(e,t){g(e)&&(td(t+1),sl(t+1))}function nd(){rd.forEach(od)}function ad(){a(document.body,ta(`#actionList .creature-1 {color: green;}
#actionList .creature-2 {color: yellow;}
#actionList .creature-3 {color: red;}`))}function id(){g("enableCreatureColoring")&&ad()}function ld(e,t){t==="ACT_REPAIR"&&GameData.fetch(Pn+q+ut+T)}function sd(){$.subscribe(Hn,ld)}function fd(){$("#messageCenter").worldMessageCenter({offset:"0 60"})}function ud(){Oe("#mapTooltip")}function md(e){Oe(e.target)}function cd(){C(i("buffList"),md)}var dd=[kn,Uo,un,nd,id,Pr,Lo,sd,$r,qo,Qo,ko,fd,ud,Hr,Wa,cd,bo,Gr,qr];function pd(){la(dd),n.userIsDev&&Wr()}export{pd as default};
//# sourceMappingURL=newMap-VIJ6KC3W.js.map
