import{a as N,b as U}from"./chunk-6SIJRC37.js";import"./chunk-RBSRR4K7.js";import{a as w}from"./chunk-DLTLK7MI.js";import"./chunk-RWQEKVQW.js";import{a as D}from"./chunk-MKQ54CT7.js";import{a as $}from"./chunk-BGRUH4VX.js";import"./chunk-ZUF5A5IY.js";import{a as h}from"./chunk-K42GGIPC.js";import{b as H,c as k}from"./chunk-F3MT6GZT.js";import"./chunk-EO5XDEZO.js";import"./chunk-R4CFGI6O.js";import"./chunk-MUL7UKSB.js";import"./chunk-4JPLNJXC.js";import{b as E}from"./chunk-72JZRL4Q.js";import"./chunk-EQEDSKYN.js";import"./chunk-RAXXQ6UC.js";import{a as M}from"./chunk-KDR3X5WK.js";import"./chunk-4W5LX7WX.js";import"./chunk-MRDXZZHG.js";import"./chunk-FSJKGO56.js";import"./chunk-2A2BOA2Y.js";import{a as T}from"./chunk-RT5GGQZO.js";import"./chunk-I3HDBAJB.js";import"./chunk-XUMFQRZN.js";import{a as y}from"./chunk-3IZSRBVW.js";import{a as v}from"./chunk-GMACQ6ZE.js";import"./chunk-J4SAIAEQ.js";import"./chunk-MF5BZBCN.js";import"./chunk-MQRQAX7O.js";import{a as n}from"./chunk-EQNCUII2.js";import"./chunk-5NIAUQBB.js";import"./chunk-FIYDSWPU.js";import"./chunk-3LVRLS3W.js";import"./chunk-SKB75UHJ.js";import"./chunk-D6P46ZXI.js";import{a as p}from"./chunk-ZD6KR2JJ.js";import{a as G}from"./chunk-TV5KWDG5.js";import"./chunk-EXPYEXEP.js";import"./chunk-FMNM33OL.js";import"./chunk-DPUM55LY.js";import{a as C}from"./chunk-CJ5MYL4D.js";import"./chunk-BPJKI26M.js";import"./chunk-7FXPMHZ5.js";import"./chunk-TUWDUCWH.js";import"./chunk-TEW6YNEY.js";import{a as l}from"./chunk-BUYHT5WE.js";import{a as d}from"./chunk-BXVF4M5G.js";import"./chunk-SNSTWQSS.js";import{a as L}from"./chunk-LFXZGYGZ.js";import"./chunk-B5XQQNQZ.js";import"./chunk-OCPSJVCN.js";import"./chunk-NIYIBTJZ.js";import"./chunk-V5W6AOGE.js";import"./chunk-LFCR6ZTM.js";import{a as s}from"./chunk-6UVNJJZQ.js";import"./chunk-Z4OUE4BH.js";import"./chunk-CN4P2KLK.js";import{a as c}from"./chunk-BGO273GM.js";import{b as u}from"./chunk-XJX3OTSZ.js";import{a}from"./chunk-GUUYKSUL.js";import"./chunk-D6HZ4P35.js";import{c as B,j as x,v as g}from"./chunk-E72VSDOE.js";import"./chunk-U4WGNCSF.js";import{a as i}from"./chunk-3XQ73JET.js";var P=/([a-zA-Z]{3}), (\d{1,2}) ([a-zA-Z]{3}) (\d{1,2}):(\d{2}):(\d{2}) UTC/;function R(t,o){let e=new Date;return e.setUTCDate(t[2]),e.setUTCMonth(B.indexOf(t[3])),e.setUTCFullYear(o),e.setUTCHours(t[4]),e.setUTCMinutes(t[5]),e}function j(t){let o=t.cells[3],e=P.exec(c(o)),r=new Date().getFullYear();n(o,`<br><span class="fshBlue fshXSmall">Local: ${R(e,r).toString().substr(0,21)}</span>`)}function q(t,o){let e=c(o.children[0]);return t[e]?`${E({last_login:t[e].last_login})}&nbsp;<a href="${g}${t[e].id}"><b>${e}</b></a> [${t[e].level}]`:`<b>${e}</b>`}function I(t,o){return t[o]?t[o].level:0}function F(t,o,e){return I(t,e)-I(t,o)}function O(t,o){return t[o]?`<a href="${g}${t[o].id}">${o}</a>`:o}function V(t,o){let e=h(o.innerHTML);return e.length>1&&e.sort(i(F,t)),e}function W(t){return t!=="[none]"&&t.indexOf("<font")===-1}function X(t,o){let e=o.filter(W);e.length>0&&p(t,N(e)),n(t,`<span class="fshXSmall">Members: ${e.length}</span>`)}function Y(t,o,e){let r=e.map(i(O,t));l(`<span>${r.join(", ")}</span>`,o)}function _(t,o){let e=o.cells[0];l(q(t,e),e);let r=o.cells[1],m=V(t,r);X(e,m),Y(t,r,m),j(o)}function S(t){let o=u("betaOptIn");o&&H("groups.doGroupPaint"),D("group-action-container").map(e=>$(e)).forEach(i(_,t)),o&&k("groups.doGroupPaint")}function f(t,o){let e=v({className:"custombutton",type:"button",value:o});return n(t,"&nbsp;"),p(t,e),e}function Q(t,o){let e=`<table class="fshgrpstat"><tr><td class="fshBrown">Attack</td><td class="fshRight">${o.attack}</td><td class="fshBrown">Defense</td><td class="fshRight">${o.defense}</td></tr><tr><td class="fshBrown">Armor</td><td class="fshRight">${o.armor}</td><td class="fshBrown">Damage</td><td class="fshRight">${o.damage}</td></tr><tr><td class="fshBrown">HP</td><td class="fshRight">${o.hp}</td><td colspan="2"></td></tr></table>`,r=t.parentNode.parentNode.previousElementSibling;n(r,e)}function Z(t){U(t.href).then(i(Q,t))}function K(t){t.target.disabled=!0,s('#pCC a[href*="=viewstats&"]').forEach(Z)}function b(t){let o=f(t,"Fetch Group Stats");d(o,K)}function tt(t){return!t.includes("#000099")}function ot(t){l('<span class="fshXSmall fshBlue" style="line-height: 19px;">Joined</span>',t)}function et(t,o){C({cmd:"guild",subcmd:"groups",subcmd2:"join",group_id:t}).then(i(ot,o))}function rt(t){let o=t.parentNode.parentNode.parentNode.cells[1];if(h(c(o)).filter(tt).length<a.maxGroupSizeToJoin){let m=G({className:"group-action-link fshRelative",innerHTML:'<span class="fshSpinner fshSpinner12"></span>',style:{height:"19px",width:"19px"}});t.parentNode.replaceChild(m,t);let z=/confirmJoin\((\d+)\)/.exec(t.href)[1];et(z,m)}}function J(){L("groups","joinAllGroupsUnderSize"),s('#pCC a[href*="confirmJoin"]').forEach(rt)}function nt(t){let o=f(t,`Join All Groups < ${a.maxGroupSizeToJoin} Members`);d(o,J)}function A(t){let o=t.parentNode;a.enableMaxGroupSizeToJoin&&(M(t),nt(o)),b(o),a.subcmd2===x&&J()}function it(){let t=u("minGroupLevel");t&&n(y("#pCC > table > tbody > tr > td > table td"),`<div class="fshBlue"> Current Min Level Setting: ${t}</div>`)}function st(){let t=s("#pCC td.header-dark");t.length<5||(t[0].setAttribute("width","20%"),t[1].setAttribute("width","44%"),t[2].setAttribute("width","7%"),t[3].setAttribute("width","22%"),t[4].setAttribute("width","7%"))}function mt(){if(T())return;let t=y('#pCC input[value="Join All Available Groups"]');!t||(w(!1).then(S),it(),A(t),st())}export{mt as default};
//# sourceMappingURL=groups-4VTTVNRN.js.map
