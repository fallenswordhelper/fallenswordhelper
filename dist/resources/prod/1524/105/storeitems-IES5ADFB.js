import{b as S,c as E,d as D,e as P,f as M,h as Y}from"./chunk-QWW3UMKO.js";import"./chunk-RK3NJZTQ.js";import"./chunk-7AJTIWAO.js";import"./chunk-KR4OHMLE.js";import"./chunk-H7SNCFWP.js";import"./chunk-VTAYJN4L.js";import"./chunk-TLXK3DYW.js";import{a as H}from"./chunk-LD3RGCFD.js";import"./chunk-3UR76VTO.js";import"./chunk-IHL2UW6R.js";import"./chunk-4CIDA5KU.js";import{a as w}from"./chunk-ELQ42VUR.js";import{a}from"./chunk-ALXGJJZV.js";import"./chunk-VVW6WQOK.js";import"./chunk-K72XMP4C.js";import{a as g}from"./chunk-U5XRZO3G.js";import"./chunk-6HYHAIWX.js";import"./chunk-7FPLNTO3.js";import{a as A}from"./chunk-3CYNVWPE.js";import"./chunk-6RNWJDUW.js";import"./chunk-MHE6IB75.js";import"./chunk-VIYL46Q6.js";import"./chunk-6WIP4RNC.js";import"./chunk-HPPEXIMR.js";import"./chunk-PVXVA62G.js";import"./chunk-6HERGS5C.js";import"./chunk-URWUNVTF.js";import"./chunk-YQ625XVJ.js";import"./chunk-VMCLSOZO.js";import"./chunk-PBUQY6G2.js";import"./chunk-3R32ULME.js";import"./chunk-KTI2IMEY.js";import"./chunk-LGNFNBOW.js";import"./chunk-E62N6RI5.js";import"./chunk-7VIXIIBV.js";import{a as m}from"./chunk-Y5EGDMIB.js";import{A as N,D as c,P as R,Q as X,X as Q,Y as J,a as p,d as b,fa as V,ga as W,ha as j,ia as I,ja as G,s as Z,t as d,u,w as f,x as y}from"./chunk-TVNPLL64.js";import"./chunk-SNNJRQSX.js";import"./chunk-5YAX7RCO.js";import"./chunk-Z5JYB3FL.js";import"./chunk-SY2OGTK4.js";import"./chunk-MHWHHESW.js";import"./chunk-DLFQE7QF.js";import"./chunk-NT4BD23Z.js";import"./chunk-B7LKBV3M.js";import{a as z}from"./chunk-E3BH7XBT.js";import"./chunk-IUVEXKRJ.js";import"./chunk-WVO4VYA4.js";import"./chunk-C63Q3HN7.js";import"./chunk-JG7KZ32H.js";import"./chunk-35MRBVSX.js";import"./chunk-NRW7AT6T.js";import"./chunk-DPECAWNM.js";import"./chunk-KOM3R443.js";import"./chunk-NIOVFM2M.js";import"./chunk-6ZCA6D63.js";import{a as L}from"./chunk-YXAOTQ2S.js";import{a as U}from"./chunk-V45UJIF2.js";import"./chunk-64PLTPQD.js";import{a as k}from"./chunk-OHAOQZFW.js";import"./chunk-PJWDCLVE.js";import"./chunk-Q3ULPWYK.js";import"./chunk-JCK66TTB.js";import"./chunk-SY4ES3W2.js";import"./chunk-S7AF3SZF.js";import"./chunk-TFKKNJKY.js";import"./chunk-ZFTJPJLX.js";import{c as B}from"./chunk-R7J7NY4A.js";import"./chunk-5ELKH2XV.js";import"./chunk-5ORZS6IQ.js";import"./chunk-BRQN5OZB.js";import{a as l}from"./chunk-BZJZQFW2.js";import"./chunk-QCTVAEOV.js";import"./chunk-VQDTHLUC.js";function $(e){let t,o,r,i;return{c(){t=f("button"),t.textContent="Check All",o=y("\xA0"),c(t,"class","custombutton svelte-vafhru"),c(t,"type","button")},m(n,s){d(n,t,s),d(n,o,s),r||(i=N(t,"click",e[0]),r=!0)},p,i:p,o:p,d(n){n&&(u(t),u(o)),r=!1,i()}}}function T(e){let t=R();function o(){m("storeitems","Check All"),t("checkall")}return[o]}var C=class extends G{constructor(t){super(),I(this,t,T,$,b,{})}},O=C;function q(e){let t,o,r,i;return r=new A({props:{folders:e[0].folders}}),r.$on("filter",e[1]),{c(){t=f("tr"),o=f("td"),V(r.$$.fragment),c(o,"colspan","3"),c(o,"class","svelte-1kpx3t5"),c(t,"class","fshCenter")},m(n,s){d(n,t,s),Z(t,o),W(r,o,null),i=!0},p(n,[s]){let x={};s&1&&(x.folders=n[0].folders),r.$set(x)},i(n){i||(Q(r.$$.fragment,n),i=!0)},o(n){J(r.$$.fragment,n),i=!1},d(n){n&&u(t),j(r)}}}function K(e,t,o){let{inv:r={folders:{}}}=t;function i(n){X.call(this,e,n)}return e.$$set=n=>{"inv"in n&&o(0,r=n.inv)},[r,i]}var h=class extends G{constructor(t){super(),I(this,t,K,q,b,{inv:0})}},_=h;function tt(e,t){return new _({anchor:t,props:{inv:e},target:t.parentNode})}function et(e,t,o){o.checked=!1;let r=g(o),i=e.items[o.value].folder_id,n=t!==-2&&t!==i;a(r,n),a(r.nextElementSibling,n)}function ot(e,t){m("storeitems","Filter Folder"),H([3,S(),0,l(et,e,Number(t.detail))])}function v(e,t){tt(e,t).$on("filter",l(ot,e))}function rt(e,t){let o=[{id:"-1",name:"Main"},...L(e.folders).map(([r,i])=>({id:r,name:i}))];return new D({anchor:t,props:{folders:o},target:t.parentNode})}function nt(e,t,o){e.items[o].folder_id=Number(t)}function it(e,t,o){o.checked=!1,nt(e,t,o.value);let r=g(o);a(r,!0),a(r.nextElementSibling,!0)}async function ct(e,t,o){(await E(t,o.map(i=>i.value))).s&&o.forEach(l(it,e,t))}function lt(e,t){m("storeitems","Move to Folder");let o=U('[name="storeIndex[]"]:checked');w(30,o).forEach(l(ct,e,t.detail))}function F(e,t){rt(e,t).$on("move",l(lt,e))}async function st(){let e=await M();if(!e.folders)return;let[t]=document.forms;v(e,t),F(e,t)}function mt(){P().forEach(e=>{e.checked=!e.disabled&&!e.checked})}function at(){let e=document.forms[0]?.elements;if(!e?.length)return;let[t]=k(e).filter(r=>r.type==="submit");if(!t)return;new O({anchor:t,target:t.parentNode}).$on("checkall",mt)}function dt(){z()&&B("enableFolderFilter")&&st(),at(),Y()}export{dt as default};
//# sourceMappingURL=storeitems-IES5ADFB.js.map
