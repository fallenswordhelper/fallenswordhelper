import{a as K}from"./chunk-FDWFY6DH.js";import{a as M}from"./chunk-O3KUPTN2.js";import"./chunk-MG5E43F4.js";import{a as O}from"./chunk-YBHSEJL6.js";import{a as J}from"./chunk-4S4RJIWM.js";import"./chunk-UYKJTL3G.js";import{a as z}from"./chunk-I6ZSBYQ3.js";import{a as B}from"./chunk-YQ625XVJ.js";import{a as q}from"./chunk-VMCLSOZO.js";import"./chunk-PBUQY6G2.js";import{a as P}from"./chunk-3UNKZDTI.js";import{a as x}from"./chunk-LGNFNBOW.js";import"./chunk-7VIXIIBV.js";import{a as S}from"./chunk-Y5EGDMIB.js";import{$ as A,A as Q,D as d,_ as C,a as l,b as _,d as H,ia as D,ja as V,s as h,t as s,u as a,w as g,y as N,z as y}from"./chunk-TVNPLL64.js";import"./chunk-Z5JYB3FL.js";import{a as v}from"./chunk-SY2OGTK4.js";import"./chunk-MHWHHESW.js";import{c as Y,e as T}from"./chunk-FR27OJE5.js";import"./chunk-WVO4VYA4.js";import{a as j}from"./chunk-C63Q3HN7.js";import{a as b}from"./chunk-FMA2QB7F.js";import"./chunk-NRW7AT6T.js";import"./chunk-DPECAWNM.js";import"./chunk-NIOVFM2M.js";import"./chunk-6ZCA6D63.js";import"./chunk-YXAOTQ2S.js";import"./chunk-V45UJIF2.js";import"./chunk-64PLTPQD.js";import"./chunk-OHAOQZFW.js";import"./chunk-PJWDCLVE.js";import"./chunk-Q3ULPWYK.js";import{a as E}from"./chunk-SSAI4GAC.js";import"./chunk-SY4ES3W2.js";import{a as G}from"./chunk-ZFTJPJLX.js";import{c as p}from"./chunk-R7J7NY4A.js";import{ua as R}from"./chunk-5ELKH2XV.js";import"./chunk-5ORZS6IQ.js";import"./chunk-BRQN5OZB.js";import"./chunk-BZJZQFW2.js";import"./chunk-QCTVAEOV.js";import"./chunk-VQDTHLUC.js";function f(e){return q({cmd:"settings",...e})}function F(e){return f({subcmd:"flags",flags:e.map(t=>t?1:0)})}var it=["ui_preference_11","ui_preference_15","disable_wordcensor","ui_preference_30","ui_preference_21","ui_preference_33","ui_preference_23"];function rt(e,t){let i=new FormData(e);return i.append("pvp_ladder",t),x(i.entries())}function ot(e,t){let i=new FormData(e);return it.forEach((n,o)=>i.set(n,t[o+1])),x(i.entries())}async function L(e){let t=await z({cmd:"settings"}),i=rt(t.forms[0],e[0]),n=ot(t.forms[2],e);return await P([i,n].map(o=>j(o))),{s:!0}}function Z(e){return B(F,L,e)}function w(){return f({subcmd:"view"})}function k(){return B(w,K)}function lt(e){return{c:l,m:l,p:l,d:l}}function ct(e){let t=G(e[0]),i,n=t&&$(e);return{c(){n&&n.c(),i=y()},m(o,r){n&&n.m(o,r),s(o,i,r)},p(o,r){r&1&&(t=G(o[0])),t?n?n.p(o,r):(n=$(o),n.c(),n.m(i.parentNode,i)):n&&(n.d(1),n=null)},d(o){o&&a(i),n&&n.d(o)}}}function $(e){let t,i,n={ctx:e,current:null,token:null,hasCatch:!1,pending:gt,then:at,catch:st};return C(i=e[1],n),{c(){t=g("td"),n.block.c(),d(t,"class","svelte-1quw1g")},m(o,r){s(o,t,r),n.block.m(t,n.anchor=null),n.mount=()=>t,n.anchor=null},p(o,r){e=o,n.ctx=e,r&2&&i!==(i=e[1])&&C(i,n)||A(n,e,r)},d(o){o&&a(t),n.block.d(),n.token=null,n=null}}}function st(e){return{c:l,m:l,p:l,d:l}}function at(e){let t,i,n;return{c(){t=g("input"),d(t,"type","checkbox")},m(o,r){s(o,t,r),t.checked=e[0],i||(n=[Q(t,"change",e[6]),Q(t,"click",e[3])],i=!0)},p(o,r){r&1&&(t.checked=o[0])},d(o){o&&a(t),i=!1,_(n)}}}function gt(e){let t;return{c(){t=g("div"),t.innerHTML='<span class="fshSpinner fshSpinner12 svelte-1quw1g"></span>',d(t,"class","svelte-1quw1g")},m(i,n){s(i,t,n)},p:l,d(i){i&&a(t)}}}function ut(e){let t;return{c(){t=g("td"),t.innerHTML='<div class="svelte-1quw1g"><span class="fshSpinner fshSpinner12 svelte-1quw1g"></span></div>',d(t,"class","svelte-1quw1g")},m(i,n){s(i,t,n)},p:l,d(i){i&&a(t)}}}function dt(e){let t,i,n,o,r={ctx:e,current:null,token:null,hasCatch:!1,pending:ut,then:ct,catch:lt};return C(o=e[2](),r),{c(){t=g("tr"),i=g("td"),i.innerHTML=`<span data-tooltip="Ticking this box opts you in to the PVP Ladder,
        unticking it will remove you from the PVP Ladder." class="svelte-1quw1g">PvP Ladder Opt-in:</span>`,n=N(),r.block.c(),d(i,"class","svelte-1quw1g")},m(c,u){s(c,t,u),h(t,i),h(t,n),r.block.m(t,r.anchor=null),r.mount=()=>t,r.anchor=null},p(c,[u]){e=c,A(r,e,u)},i:l,o:l,d(c){c&&a(t),r.block.d(),r.token=null,r=null}}}function pt(e,t,i){let{isOnLadder:n}=t,{toggleLadder:o}=t,r;async function c(){i(0,r=await n())}let u;function et(){i(0,r=!r),i(1,u=o(r)),S("ladder","opt in/out")}function nt(){r=this.checked,i(0,r)}return e.$$set=I=>{"isOnLadder"in I&&i(4,n=I.isOnLadder),"toggleLadder"in I&&i(5,o=I.toggleLadder)},[r,u,c,et,n,o,nt]}var U=class extends V{constructor(t){super(),D(this,t,pt,dt,H,{isOnLadder:4,toggleLadder:5})}},tt=U;var m=0;async function ft(){return m=(await k())?.r?.flags,m?.[0]}function mt(e){if(v(m))return m[0]=e,Z(m)}function It(e){return new tt({props:{toggleLadder:mt,isOnLadder:ft},target:e})}function X(){if(p("optInOnLadderPage")){let e=b("#pCC table tbody");It(e)}}function bt(e){let t=Math.floor((Y()-e)/6e4),i=Math.floor(t/60);return t%=60,`${O(i," hours, ")+t} mins`}function Ct(){let e=p(R);return e<T()?'<span class="fshLink tip-static" data-tipped="FSH has not seen the last ladder reset.<br>You can find it in your log if you qualified<br>or Tavern Rumours.">???</span>':bt(e)}function Bt(e){let t=e.insertCell(-1);t.height=25,J("Last Reset:",t)}function ht(e){let t=e.insertCell(-1);t.align="right",E(Ct(),t)}function Qt(){let e=b("#pCC table");if(!e)return;let t=e.insertRow(-1);Bt(t),ht(t)}function W(){p("trackLadderReset")&&Qt()}function At(){M(),W(),X()}export{At as default};
//# sourceMappingURL=ladder-A7DID5ZH.js.map
