import{a as h}from"./chunk-KNG4PLUH.js";import{a as y}from"./chunk-CP3RM3BD.js";import"./chunk-U5XRZO3G.js";import"./chunk-VIYL46Q6.js";import{a as m,b as d}from"./chunk-UC36PEGQ.js";import"./chunk-4HVNCCW2.js";import{a as g}from"./chunk-LMBPY5RI.js";import"./chunk-3UNKZDTI.js";import"./chunk-JQ5EL7XU.js";import"./chunk-3LHAMFDA.js";import{a as u}from"./chunk-JJ7LU6FF.js";import"./chunk-WTIVGVRL.js";import"./chunk-CAX7THIP.js";import"./chunk-HBT6RYZM.js";import"./chunk-QCO5J3CK.js";import"./chunk-G2WQ6YZF.js";import"./chunk-LBMN7XL3.js";import"./chunk-3R32ULME.js";import"./chunk-KTI2IMEY.js";import"./chunk-GXOFVYKC.js";import{a as i}from"./chunk-LGNFNBOW.js";import"./chunk-A6LP6MUS.js";import{b as e}from"./chunk-K2ALIVI4.js";import"./chunk-SNNJRQSX.js";import"./chunk-5YAX7RCO.js";import"./chunk-Z5JYB3FL.js";import"./chunk-MHWHHESW.js";import"./chunk-DLFQE7QF.js";import"./chunk-GMCULFR3.js";import"./chunk-TR4OIUT3.js";import"./chunk-QQEKW5LY.js";import{f as a}from"./chunk-FR27OJE5.js";import{a as p}from"./chunk-B7LKBV3M.js";import"./chunk-WVO4VYA4.js";import"./chunk-C63Q3HN7.js";import"./chunk-JG7KZ32H.js";import"./chunk-35MRBVSX.js";import"./chunk-5UBD44K5.js";import"./chunk-AH7GU5B4.js";import"./chunk-NRW7AT6T.js";import"./chunk-DPECAWNM.js";import"./chunk-V7IRBBI6.js";import"./chunk-B72RCTA5.js";import"./chunk-KOM3R443.js";import"./chunk-NIOVFM2M.js";import"./chunk-6ZCA6D63.js";import{a as c}from"./chunk-YXAOTQ2S.js";import"./chunk-V45UJIF2.js";import"./chunk-64PLTPQD.js";import"./chunk-OHAOQZFW.js";import"./chunk-PJWDCLVE.js";import"./chunk-TFKKNJKY.js";import{a as f}from"./chunk-R7J7NY4A.js";import"./chunk-5ELKH2XV.js";import"./chunk-5ORZS6IQ.js";import"./chunk-BRQN5OZB.js";import"./chunk-BZJZQFW2.js";import"./chunk-QCTVAEOV.js";import"./chunk-VQDTHLUC.js";var _=t=>[t.name,[h(t.last_activity),t.current_stamina,t.level,t.max_stamina,a(),t.vl,t.guild_xp]],k=t=>t.members.map(_),M=t=>t.r.flatMap(k),w=[t=>!t,(t,o)=>t[1]!==o[1],(t,o)=>t[2]!==o[2],(t,o)=>t[3]>o[3],(t,o)=>t[5]!==o[5],(t,o)=>t[6]!==o[6]],C=t=>!t.some(f),D=t=>!t.some(u),E=([,t])=>t.length,F=([t,o])=>[t,o.filter(C).filter(D)],G=t=>c(t.members||{}).map(F).filter(E),I=(t,o)=>t[4]>o[4]?t:o,L=([t,o])=>[t,o.reduce(I)],S=t=>([o,n])=>w.some(s=>s(t[o]?.[0],n)),U=([t,o])=>[t,[o]],T=t=>([o,n])=>[o,n.filter(s=>s[4]!==t[o][4])],V=t=>([o])=>!t[o]||a()-t[o][4]>=86100,W=(t,o,n)=>({lastUpdate:a(),members:i(g({...t,...o,...n}).map(s=>[s,[...t[s]??[],...o[s]??[],...n[s]??[]]]))}),q=(t,o,n)=>W(i(t.map(T(o))),i(c(o).filter(S(n)).map(U)),n);function z(t,o,n){!t||!o||!n||e(m,q(o,n,i(t.map(U))))}function B(t){t&&e(m,{lastUpdate:a(),members:i(t)})}function H(t,o){let n=G(t),s=i(n.map(L)),l=M(o).filter(V(s));l.length?z(l,n,s):B(n)}async function J(t){let o=await y();o.s&&H(t,o)}var K=t=>a()>p(t.lastUpdate,0)+300;function P(t){K(t)&&J(t)}async function Q(){let t=await d();P(t)}export{Q as default};
//# sourceMappingURL=guildActivity-FBOTZFWL.js.map
