import{a as b}from"./chunk-GGHZKIXB.js";import{a as f}from"./chunk-4QY6SPTZ.js";import"./chunk-RN6NICJ7.js";import{a as C}from"./chunk-WP265O3M.js";import"./chunk-TZIXO72F.js";import{a as N}from"./chunk-I6ZSBYQ3.js";import{a as T}from"./chunk-YQ625XVJ.js";import"./chunk-VMCLSOZO.js";import"./chunk-PBUQY6G2.js";import"./chunk-MHWHHESW.js";import{a as w}from"./chunk-QQEKW5LY.js";import{c}from"./chunk-FR27OJE5.js";import{a as A}from"./chunk-E3BH7XBT.js";import"./chunk-IUVEXKRJ.js";import"./chunk-WVO4VYA4.js";import"./chunk-C63Q3HN7.js";import{a as y}from"./chunk-JG7KZ32H.js";import"./chunk-35MRBVSX.js";import"./chunk-NRW7AT6T.js";import"./chunk-DPECAWNM.js";import"./chunk-KOM3R443.js";import"./chunk-NIOVFM2M.js";import"./chunk-6ZCA6D63.js";import"./chunk-YXAOTQ2S.js";import"./chunk-OHAOQZFW.js";import{a as g}from"./chunk-SY4ES3W2.js";import{a as n}from"./chunk-S7AF3SZF.js";import"./chunk-TFKKNJKY.js";import"./chunk-ZFTJPJLX.js";import{c as p}from"./chunk-R7J7NY4A.js";import{T as h,f as x,qa as i,ra as s}from"./chunk-5ELKH2XV.js";import"./chunk-5ORZS6IQ.js";import"./chunk-BRQN5OZB.js";import"./chunk-BZJZQFW2.js";import{a as d}from"./chunk-QCTVAEOV.js";import"./chunk-VQDTHLUC.js";function a(){return b({subcmd:"view"})}function M(o){let{h:t,m,s:r}=w(x,o);return{time_remaining:Number(t)*60*60+Number(m)*60+Number(r)}}function _(o){let t=f("composing-potion",o);if(t.length===0)return{s:!1};let m=t.length,r=f("composing-potion-time",o).map(y).filter(B=>B.endsWith("s")).map(M);return{r:{max_potions:m,potions:r},s:!0}}async function u(){return _(await N({cmd:"composing"}))}function l(){return T(a,u)}var j=`<li class="notification"><a href="${h}"><span class="notification-icon"></span><p class="notification-content">Composing to do</p></a></li>`;function e(){C(g("notifications"),j)}function v(o){return o.time_remaining}function k(){e(),n(i,!0)}function E(o){let t=Math.min.apply(null,o.map(v));t>0?(n(i,!1),n(s,c()+t*1e3)):k()}function R(o){o.potions.length!==o.max_potions?k():E(o.potions)}function I(o){o?.s&&R(o.r)}async function L(){let o=p(s);if(o&&c()<o)return;let t=await l();I(t)}function P(){p(i)?e():L()}function V(){d.cmd!=="composing"&&A()&&P()}export{V as default};
//# sourceMappingURL=injectComposeAlert-3G2NHUFL.js.map
