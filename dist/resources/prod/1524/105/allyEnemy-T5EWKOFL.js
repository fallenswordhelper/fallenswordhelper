import{a as Q}from"./chunk-WDNRO6EO.js";import"./chunk-YBHSEJL6.js";import"./chunk-RGNCW4QQ.js";import{a as y}from"./chunk-UACQUCUH.js";import{a as h}from"./chunk-XF27WXPN.js";import{a as p}from"./chunk-422Y3DJL.js";import"./chunk-B57AH4QQ.js";import"./chunk-YKSRGHW2.js";import{a as L}from"./chunk-R5QVEL5X.js";import"./chunk-NRIBGBE3.js";import"./chunk-HPPEXIMR.js";import{a as O}from"./chunk-4QY6SPTZ.js";import{a as A}from"./chunk-PVXVA62G.js";import"./chunk-RN6NICJ7.js";import{a as u}from"./chunk-WP265O3M.js";import"./chunk-TZIXO72F.js";import"./chunk-EJFOLQ4R.js";import{a as w}from"./chunk-GUJMNTXY.js";import"./chunk-3R32ULME.js";import"./chunk-KTI2IMEY.js";import{a as v}from"./chunk-GXOFVYKC.js";import"./chunk-A6LP6MUS.js";import"./chunk-K2ALIVI4.js";import{a as C}from"./chunk-Y5EGDMIB.js";import"./chunk-SNNJRQSX.js";import"./chunk-5YAX7RCO.js";import"./chunk-Z5JYB3FL.js";import"./chunk-JFV47WCR.js";import"./chunk-SY2OGTK4.js";import"./chunk-MHWHHESW.js";import"./chunk-DLFQE7QF.js";import{f as d}from"./chunk-FR27OJE5.js";import"./chunk-2BZRDCMM.js";import{a as R}from"./chunk-NT4BD23Z.js";import{a as m}from"./chunk-B7LKBV3M.js";import"./chunk-E3BH7XBT.js";import"./chunk-IUVEXKRJ.js";import"./chunk-NRW7AT6T.js";import"./chunk-DPECAWNM.js";import{a as k}from"./chunk-KOM3R443.js";import"./chunk-NIOVFM2M.js";import"./chunk-6ZCA6D63.js";import"./chunk-YXAOTQ2S.js";import"./chunk-OHAOQZFW.js";import"./chunk-PJWDCLVE.js";import{a as $}from"./chunk-Q3ULPWYK.js";import{a as I}from"./chunk-SSAI4GAC.js";import{a as P}from"./chunk-JCK66TTB.js";import{a}from"./chunk-SY4ES3W2.js";import"./chunk-R7J7NY4A.js";import{A as E,B as S,y as B}from"./chunk-5ELKH2XV.js";import"./chunk-5ORZS6IQ.js";import"./chunk-BRQN5OZB.js";import{a as r}from"./chunk-BZJZQFW2.js";import{a as i}from"./chunk-QCTVAEOV.js";import"./chunk-VQDTHLUC.js";var o="enemy-buff-check-on",g="enemy-buff-check-off",f="enemy-send-message",l="enemy-quickbuff",b="enemy-quick-buff";var T=[[e=>e<120,"fshDodgerBlue","fshRed"],[e=>e<300,"fshDodgerBlue","fshRed"],[()=>!0,"fshPowderBlue","fshPink"]];function N(e,n){return e?n[1]:n[2]}function _(e,n){return n[0](d()-e)}function G(e,n){let t=T.find(r(_,e));return t?N(n,t):"fshWhite"}function j(e,n){return`<a class="player-name tip-static ${G(e.last_login,n)}" data-tipped="<b>${e.username}</b><br><table><tbody><tr><td>Level:</td><td>${e.level}</td></tr><tr><td>Last Activity:</td><td>${Q(e.last_login)}</td></tr></tbody></table>" href="${B}${e.id}">${e.username}</a>`}function q(){return i.hideBuffSelected?"":`<span class="${o}"></span>`}function H(){return i.hideGuildInfoMessage?"":`<span class="${f} enemy-icon guild-minibox-action tip-static" data-tipped="Send Message"></span>`}function z(){return i.hideGuildInfoBuff?"":`<span class="${l} enemy-icon guild-minibox-action tip-static" data-tipped="Quick Buff"></span>`}function U(e){return i.hideGuildInfoSecureTrade?"":`<a class="enemy-secure-trade enemy-icon guild-minibox-action tip-static" href="${S}${e.username}" data-tipped="Secure Trade"></a>`}function F(e){return i.hideGuildInfoTrade?"":`<a class="enemy-trade enemy-icon guild-minibox-action tip-static" href="${E}${e.username}" data-tipped="Send Gold/Items/FSP"></a>`}function V(e){return d()-e.last_login<1800}function W(e,n){return`<li class="player"><div class="player-row">${q()}${j(n,e)}</div><div class="guild-minibox-actions">${H()}${z()}${U(n)}${F(n)}</div></li>`}function c(e,n){return e.filter(V).map(r(W,n)).join("")}var J=[(e,n)=>e.length+n.length,(e,n)=>{if(!i.enableAllyOnlineList)return n.length},e=>{if(!i.enableEnemyOnlineList)return e.length}];function s(e){C("allyEnemy",e)}function K(e,n,t){return t(e,n)===0}function X(e,n){return J.every(r(K,e,n))}function Y(e,n){let t="";i.enableAllyOnlineList&&(t+=c(e,!0)),i.enableEnemyOnlineList&&(t+=c(n,!1));let x=a("fshContactList");I("",x),u(x,t)}function M(e){let n=m(e._allies,[]),t=m(e._enemies,[]);X(n,t)||Y(n,t)}async function Z(){s("resetList");let e=await p(!0);M(e)}function D(e){s("toggleBuffSelected"),e.classList.toggle(o),e.classList.toggle(g)}function ee(e){s("msgPlayer"),window.openQuickMsgDialog(k(e.parentNode.previousElementSibling.lastElementChild))}function ne(e){s("buffPlayer"),h(y(e.parentNode.previousElementSibling.lastElementChild.href))}function te(){s("selectedBuff");let n=O(o,a("fshContactList")).map(t=>y(t.nextElementSibling.href)).join(",");h(n)}var ie=[[o,D],[g,D],[f,ee],[l,ne],[b,te]];function oe(e){let{target:n}=e;if(n.id==="fshResetEnemy"){Z();return}L(ie)(e)}function re(e){let n=w({id:"fshAllyEnemy",className:"minibox"}),t='<h3>Allies/Enemies</h3><div class="minibox-content"><h4>Online Contacts <span id="fshResetEnemy">Reset</span></h4><div class="minibox-enemy"><ul id="fshContactList"></ul>';i.hideBuffSelected||(t+=`<ul class="${b}">Quick Buff Selected</ul>`),t+="</div></div>",u(n,t),v($(),n),P(n,oe),M(e)}function se(e){e&&A(3,re,[e])}async function fe(){if(R())return;let e=await p(!1);se(e)}export{fe as default};
//# sourceMappingURL=allyEnemy-T5EWKOFL.js.map
