import{a as c}from"./chunk-WBUJCSKW.js";import{a as i}from"./chunk-JSWEJZHY.js";function o(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function y(t,e){let n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);let r=o(n);return(p,d)=>r.then(h=>d(h.transaction(e,p).objectStore(e)))}var u;function a(){return u||(u=y("keyval-store","keyval")),u}function s(t,e=a()){return e("readonly",n=>o(n.get(t)))}function f(t,e,n=a()){return n("readwrite",r=>(r.put(e,t),o(r.transaction)))}var l=t=>{t&&t.name!=="NotFoundError"&&i(c(t),!1)};async function E(t,e){try{return await s(t,e)}catch(n){l(n)}}async function v(t,e,n){try{return await f(t,e,n)}catch(r){l(r)}}export{E as a,v as b};
//# sourceMappingURL=chunk-BF7TG5EL.js.map
