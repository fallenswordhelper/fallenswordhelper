import{a as p}from"./chunk-NHXMBUTR.js";import{a as N}from"./chunk-YPRXL3QQ.js";import{a as r}from"./chunk-6MUFX5NS.js";import{a as y}from"./chunk-UWKUUDVQ.js";import"./chunk-WDK5KJW5.js";import{a as n}from"./chunk-D6BL5IS3.js";import"./chunk-NIO7Y7L5.js";import{a as A}from"./chunk-AN443625.js";import"./chunk-UICWONBW.js";import"./chunk-EUBCJC2U.js";import{a as B}from"./chunk-WV4YXE4F.js";import"./chunk-ND3XCMOS.js";import{a as h}from"./chunk-WPRJK6Q2.js";import{a as C}from"./chunk-PJ32ASZ7.js";import"./chunk-F5QOVYT2.js";import"./chunk-QFSH2B2J.js";import"./chunk-2PFHY365.js";import{a as w}from"./chunk-ZDFDMUO4.js";import{a as T}from"./chunk-2V5OQ7JE.js";import"./chunk-GGKSIQST.js";import"./chunk-JSWEJZHY.js";import"./chunk-JZLUF437.js";import"./chunk-GHQYBWLT.js";import"./chunk-PKDG64MH.js";import{a as x}from"./chunk-2B42SRXB.js";import"./chunk-3IGXKFMQ.js";import"./chunk-TDNJGM62.js";import"./chunk-TP7JP7VV.js";import{b as s}from"./chunk-HAINOYE5.js";import{a as g}from"./chunk-AN5TC666.js";import"./chunk-B7PLPUHK.js";import{Q as d,na as e,oa as i}from"./chunk-YNXRNCRL.js";import"./chunk-7DPOBF7C.js";import"./chunk-DEDCEYVR.js";function k(o){let t=o.match(/ETA: (\d+)h (\d+)m (\d+)s/);return{time_remaining:Number(t[1])*60*60+Number(t[2])*60+Number(t[3])}}function M(o){let t=h(o),u=p("composing-potion",t);if(u.length===0)return{s:!1};let _=u.length,b=p("composing-potion-time",t).map(A).filter(j=>j.endsWith("s")).map(k);return{r:{max_potions:_,potions:b},s:!0}}function c(){return C({cmd:"composing"}).then(M)}function a(o){return w(T({cmd:"composing"},o))}function f(){return a({subcmd:"view"})}function l(){return B(f,c)}var D=`<li class="notification"><a href="${d}"><span class="notification-icon"></span><p class="notification-content">Composing to do</p></a></li>`;function m(){N(x("notifications"),D)}function E(o){return o.time_remaining}function V(){m(),n(e,!0)}function P(o){let t=Math.min.apply(null,o.map(E));t>0?(n(e,!1),n(i,r+t*1e3)):V()}function v(o){o.potions.length!==o.max_potions?V():P(o.potions)}function H(o){o.s&&v(o.r)}function I(){let o=s(i);o&&r<o||l().then(H)}function L(){s(e)?m():I()}function Q(){g.cmd!=="composing"&&y()&&L()}export{Q as default};
//# sourceMappingURL=injectComposeAlert-RY2CEGF7.js.map
