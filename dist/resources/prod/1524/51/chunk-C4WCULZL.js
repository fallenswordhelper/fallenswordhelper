import{a as f}from"./chunk-KWIXRSMY.js";import{a as h}from"./chunk-CPUCL5KC.js";import{b as l}from"./chunk-6MUFX5NS.js";import{a as r}from"./chunk-AN443625.js";import{a as d}from"./chunk-UWAT3VA7.js";import{a as b}from"./chunk-WPRJK6Q2.js";import{a as p}from"./chunk-PJ32ASZ7.js";import{a as u}from"./chunk-2B42SRXB.js";import{e as s,f as i,sa as c}from"./chunk-YNXRNCRL.js";var o={};function R(t){let e=t.match(s);return l-(Number(e[1])*24*60*60+Number(e[2])*60*60+Number(e[3])*60+Number(e[4]))}function N(t){let{tipped:e}=t.cells[1].children[0].dataset,n=e.match(/Stamina:<\/td><td>(\d+) \/ (\d+)</);return{current_stamina:Number(n[1]),max_stamina:Number(n[2]),vl:Number(e.match(/VL:<\/td><td>(\d+)</)[1]),last_activity:R(e)}}function y(t){return{id:Number(t.cells[1].children[0].href.match(i)[1]),name:r(t.cells[1].children[0]),level:Number(r(t.cells[2])),xp:0,guild_xp:f(r(t.cells[4])),rank_name:r(t.cells[3])}}function g(t,e){return{rank_index:e,...N(t),...y(t)}}function k(t,e){let n=e.rank_name,a=e.rank_index,m=t.find(x=>x.name===n);return m?m.members.push(e):t.push({id:a,name:n,members:[e]}),t}function _(t){return h(t.rows,5,1).map(g).reduce(k,[])}function D(t){let e=b(t),n=u("pCC",e),a=d(c,n),m=a[a.length-1];return m?{r:{ranks:_(m)},s:!0}:{s:!1}}function T(t){return o[t]||(o[t]=p({cmd:"guild",subcmd:"view",guild_id:t}).then(D)),o[t]}export{T as a};
//# sourceMappingURL=chunk-C4WCULZL.js.map
