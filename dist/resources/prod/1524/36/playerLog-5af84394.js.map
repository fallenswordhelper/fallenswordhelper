{"version":3,"file":"playerLog-5af84394.js","sources":["src/modules/logs/playerLogWidgets/isGuildMate.js","src/modules/logs/playerLogWidgets/addAttackLink.js","src/modules/logs/playerLogWidgets/addIgnoreLinks.js","src/modules/app/combat/view.js","src/modules/_dataAccess/fallbacks/viewCombat.js","src/modules/ajax/combatView.js","src/modules/logs/playerLogWidgets/getCombat.js","src/modules/_dataAccess/daViewCombat.js","src/modules/logs/playerLogWidgets/addPvPSummary.js","src/modules/logs/playerLogWidgets/isAllyEnemy.js","src/modules/logs/playerLogWidgets/colorPlayers.js","src/modules/logs/playerLogWidgets/interceptLinks.js","src/modules/logs/playerLogWidgets/processLadder.js","src/modules/logs/playerLogWidgets/addLogWidgets.js","src/modules/logs/playerLogWidgets/changeLabels.js","src/modules/logs/playerLog.js"],"sourcesContent":null,"names":["memberPrm","async","isGuildMate","playerName","currentGuildId","entries","getMembrList","filter","value","isObject","map","key","getKeys","includes","getPlayer","t","getCustomUrlParameter","href","guildTest","name","addAttack","insertHtmlAfterEnd","attackplayerUrl","ignoreLinkHtml","p","doAddIgnore","getTextTrim","withMsg","m","setText","noMsg","r","insertHtmlBeforeEnd","cells","children","viewCombat","id","callApp","cmd","subcmd","combat_id","getId","e","Number","getAttribute","match","getResult","script","thisRe","RegExp","specialMask","gettokens","spec","thisTests","mask","find","params","sendEvent","formatSpecial","pCC","querySelectorArray","some","s","attacker","header","rows","defender","doBase","specials","doscript","getText","gold_gain","gold_stolen","pvp_prestige_gain","pvp_rating_change","winner","xp_gain","reportObject","parseReport","html","doc","createDocument","getElementById","indexAjaxData","combatView","then","partial","combatPrm","newCache","currentCombatRecord","sevenDays","val","logTime","prepareCache","internal","get","lastCheck","nowSecs","oneDay","filtered","recent","fromEntries","set","getRecent","newCombat","combatId","combatCache","thisCombat","$dataAccess","appViewCombat","parseDateAsTimestamp","getCombat","isPvp","querySelector","combatSelector","notGuildCombat","msgHtml","test","getCombats","exec","result","stat","desc","color","addCommas","highlightSpecials","acc","el","updateTd","json","pre","firstChild","parseCombatWinner","summaryDiv","reduce","parseCombat","remove","insertHtmlAfterBegin","insertElement","createDiv","innerHTML","goodCombats","justUsername","obj","username","allyPrm","getAllyEnemy","stats","myStats","_allies","_enemies","isAlly","isEnemy","playerType","a","type","guildMate","ally","enemy","Promise","all","closestTr","rowIndex","byType","style","push","colorLookup","guild","makeStyle","selectors","join","foundType","playerStyling","logTable","playerTags","playerStyles","getPlayerStyles","length","messageHeader","doMsgHeader","classList","add","document","body","createStyle","childText","target","arrayFrom","closestTd","childNodes","getChildNodes","needToParse","btnText","chatSelector","isChat","getValue","getBuffId","nick","thisBuff","buffList","buffObj","csvSplit","nicks","toLowerCase","thisNick","intercept","msgNodesArray","slice","msg","tip","substring","window","openQuickMsgDialog","parseReply","preventDefault","buffs","ids","b","openQuickBuffByName","parseBuffs","lastLadderReset","ladderRe","pvp","saveLastResetTime","setValue","defLastLadderReset","conditionalArray","playerLinks","playerLinkSelector","reportLinks","forEach","trade","withPlayer","gm","noteSelector","combatLinks","notGuild","processConditionals","pair","foundLogTable","onclick","interceptLinks","playerLog","addLogColoring","jQueryNotPresent","addLogWidgets"],"mappings":"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","sourceRoot":"https://rawcdn.githack.com/fallenswordhelper/fallenswordhelper/15.24.36"}