import{a as n}from"./chunk-GSZMCZFV.js";import{b as l}from"./chunk-GEYLGSBT.js";import{a as B}from"./chunk-SDA4FQMK.js";import"./chunk-T6BAO7XX.js";import{a as k}from"./chunk-KCQPJD5H.js";import{a as b}from"./chunk-XY4KZRCS.js";import{a as f}from"./chunk-5IIHJLHJ.js";import"./chunk-5M4Z4TNO.js";import"./chunk-7VZZ35FX.js";import"./chunk-EWDLMFWA.js";import{a as y}from"./chunk-H7LEI34Q.js";import"./chunk-MZ7GLTZN.js";import"./chunk-NR4PY7IS.js";import"./chunk-WKK2D5SI.js";import"./chunk-CVQ7E5PW.js";import{a as r}from"./chunk-KN5ZC5BT.js";import{a as d}from"./chunk-DUQP22PP.js";import{a as i}from"./chunk-NDCVQHVH.js";import"./chunk-ZOSMVBRJ.js";import"./chunk-ZJNDZYVS.js";import"./chunk-OUMBZBCQ.js";import"./chunk-I7LLJIV6.js";import"./chunk-6SHDCONG.js";import"./chunk-BWOLSDKS.js";import"./chunk-RLOFFV7B.js";import"./chunk-XYKKLBWK.js";import{a as p}from"./chunk-BOMGPUDJ.js";async function s(t){let a=await f({cmd:"buffmarket",subcmd:"buy",id:t}),e=B(a);return e==="Request accepted - buffs have automatically been cast."?{s:!0}:{s:!1,e:{message:e}}}function c(t){return y({cmd:"buffmarket",...t})}function u(t){return c({subcmd:"buy",id:t})}function m(t){return k(u,s,t)}async function g(t,a){a.preventDefault(),r('<div class="fshWaiting">Loading...</div>',t);let e=Object.fromEntries(new FormData(a.target)),o=b(await f(e)),x=n("#buff-results",o).parentElement.innerHTML;r(x,t)}function h(t){let a=document.forms[0];i(a,"submit",p(g,t.parentNode))}async function A(t){t.stopPropagation();let a=t.target.getAttribute("onclick").match(/id=([0-9]+)/)?.[1];if(a){let e=t.target.parentNode;e.className="fshActionRow",r('<div class="fshSpin"><span class="fshSpinner"></span></div>',e);let o=await m(a);o.s?r('<span class="fshBuffSuccess">Buffs have been applied</span>',e):r(`<span class="fshBuffFail">${o.e.message}</span>`,e)}}function j(t){t.target.tagName==="INPUT"&&t.target.value==="Buy"&&A(t)}function v(){let t=n("#buff-results");!t||(h(t),d(l,j,!0))}export{v as default};
//# sourceMappingURL=injectBuffmarket-VPQK2AHD.js.map
