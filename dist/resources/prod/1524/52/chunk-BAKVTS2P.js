import{a as l,b as p}from"./chunk-DQ6IGZNR.js";import{a as s}from"./chunk-GYR7K7WR.js";import{a as m}from"./chunk-KCQPJD5H.js";import{a as n}from"./chunk-XY4KZRCS.js";import{a as r}from"./chunk-5IIHJLHJ.js";import{a as i}from"./chunk-H7LEI34Q.js";function c(t){let e=p(t);return e?e.id:-1}var q=({successBuff:t,successLevel:e})=>({id:c(t),level:Number(e)}),j=(t,e)=>t.filter(({name:f,successBuff:a})=>f===e.name&&a).map(q),y=({failBuff:t,failReason:e})=>({id:c(t),reason:e}),A=({blockBuff:t,blockReason:e})=>({id:c(t),reason:e}),v=(t,e)=>t.filter(({name:f,blockBuff:a})=>f===e.name&&a).map(A),D=(t,e)=>t.filter(({name:f,failBuff:a})=>f===e.name&&a).map(y).concat(v(t,e)),N=t=>s(t,"name").map(e=>({player:{name:e.name},cast:j(t,e),failed:D(t,e)}));function P(t){let[,e,f,a,b,d,k,x,B,g]=t;return{name:a||k||x,successBuff:e,successLevel:f,failBuff:b,failReason:d,blockReason:B,blockBuff:g}}function R(t){return{r:N(t.map(P)),s:!0}}async function u(t,e){let f=await r({cmd:"quickbuff",subcmd:"activate",targetPlayers:t.join(),skills:e});return R(l(n(f)))}function o(t,e){return i({cmd:"quickbuff",subcmd:"activate",username:t,skill:e})}function h(t,e){return m(o,u,t,e)}function I(t){return t.s&&t.r[0].casts.length===1}export{h as a,I as b};
//# sourceMappingURL=chunk-BAKVTS2P.js.map
